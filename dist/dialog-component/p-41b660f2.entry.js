import{r as t,h as e,d as n,e as i,f as r,H as s,i as o}from"./p-66a8649d.js";import{g as a,a as u}from"./p-3184ff59.js";import{c as f}from"./p-22318485.js";import{i as l}from"./p-506221fe.js";import{c,h as d}from"./p-0e4de1d0.js";import{p as h}from"./p-868d65df.js";import"./p-41d99575.js";import"./p-add30d46.js";import"./p-28e84784.js";const p=":host{display:block}.description-container{background:#e8f1f1;border:1px solid #2b7371;border-radius:2px;padding:0.5625em;margin-top:1.25em}.fade-in.top{transition:0.5s all ease-in-out;transform:translate3d(0, -50px, 0);opacity:0}";const v=class{constructor(e){t(this,e);this.data=undefined;this.sessionName=undefined;this.showContent=false}setData(t){this.showContent=false;if(t){if(t.title){this.title=t.title}else{this.title=t.label}}this.data=t;setTimeout((()=>{this.showContent=true}),100);console.log("desc,setData")}render(){var t,n;return e("div",{class:`fade-in top ${this.showContent?"show":""}`},((t=this.data)===null||t===void 0?void 0:t.metadata.description)&&e("div",{class:"description-container",innerHTML:(n=this.data)===null||n===void 0?void 0:n.metadata.description}))}static get watchers(){return{data:["setData"]}}};v.style=p;function m(t){return typeof t==="function"}function w(t){const e=t=>{Error.call(t);t.stack=(new Error).stack};const n=t(e);n.prototype=Object.create(Error.prototype);n.prototype.constructor=n;return n}const b=w((t=>function e(n){t(this);this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map(((t,e)=>`${e+1}) ${t.toString()}`)).join("\n  ")}`:"";this.name="UnsubscriptionError";this.errors=n}));function g(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class y{constructor(t){this.initialTeardown=t;this.closed=false;this._parentage=null;this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=true;const{_parentage:e}=this;if(e){this._parentage=null;if(Array.isArray(e)){for(const t of e){t.remove(this)}}else{e.remove(this)}}const{initialTeardown:n}=this;if(m(n)){try{n()}catch(e){t=e instanceof b?e.errors:[e]}}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const e of i){try{C(e)}catch(e){t=t!==null&&t!==void 0?t:[];if(e instanceof b){t=[...t,...e.errors]}else{t.push(e)}}}}if(t){throw new b(t)}}}add(t){var e;if(t&&t!==this){if(this.closed){C(t)}else{if(t instanceof y){if(t.closed||t._hasParent(this)){return}t._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(t)}}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;if(e===t){this._parentage=null}else if(Array.isArray(e)){g(e,t)}}remove(t){const{_finalizers:e}=this;e&&g(e,t);if(t instanceof y){t._removeParent(this)}}}y.EMPTY=(()=>{const t=new y;t.closed=true;return t})();const x=y.EMPTY;function k(t){return t instanceof y||t&&"closed"in t&&m(t.remove)&&m(t.add)&&m(t.unsubscribe)}function C(t){if(m(t)){t()}else{t.unsubscribe()}}const M={onUnhandledError:null,onStoppedNotification:null,Promise:undefined,useDeprecatedSynchronousErrorHandling:false,useDeprecatedNextContext:false};const D={setTimeout(t,e,...n){const{delegate:i}=D;if(i===null||i===void 0?void 0:i.setTimeout){return i.setTimeout(t,e,...n)}return setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=D;return((e===null||e===void 0?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:undefined};function S(t){D.setTimeout((()=>{const{onUnhandledError:e}=M;if(e){e(t)}else{throw t}}))}function T(){}const A=(()=>I("C",undefined,undefined))();function j(t){return I("E",undefined,t)}function O(t){return I("N",t,undefined)}function I(t,e,n){return{kind:t,value:e,error:n}}function E(t){{t()}}class P extends y{constructor(t){super();this.isStopped=false;if(t){this.destination=t;if(k(t)){t.add(this)}}else{this.destination=Y}}static create(t,e,n){return new $(t,e,n)}next(t){if(this.isStopped){z(O(t),this)}else{this._next(t)}}error(t){if(this.isStopped){z(j(t),this)}else{this.isStopped=true;this._error(t)}}complete(){if(this.isStopped){z(A,this)}else{this.isStopped=true;this._complete()}}unsubscribe(){if(!this.closed){this.isStopped=true;super.unsubscribe();this.destination=null}}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const _=Function.prototype.bind;function F(t,e){return _.call(t,e)}class L{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next){try{e.next(t)}catch(t){N(t)}}}error(t){const{partialObserver:e}=this;if(e.error){try{e.error(t)}catch(t){N(t)}}else{N(t)}}complete(){const{partialObserver:t}=this;if(t.complete){try{t.complete()}catch(t){N(t)}}}}class $ extends P{constructor(t,e,n){super();let i;if(m(t)||!t){i={next:t!==null&&t!==void 0?t:undefined,error:e!==null&&e!==void 0?e:undefined,complete:n!==null&&n!==void 0?n:undefined}}else{let e;if(this&&M.useDeprecatedNextContext){e=Object.create(t);e.unsubscribe=()=>this.unsubscribe();i={next:t.next&&F(t.next,e),error:t.error&&F(t.error,e),complete:t.complete&&F(t.complete,e)}}else{i=t}}this.destination=new L(i)}}function N(t){{S(t)}}function H(t){throw t}function z(t,e){const{onStoppedNotification:n}=M;n&&D.setTimeout((()=>n(t,e)))}const Y={closed:true,next:T,error:H,complete:T};const R=(()=>typeof Symbol==="function"&&Symbol.observable||"@@observable")();function B(t){return t}function V(t){if(t.length===0){return B}if(t.length===1){return t[0]}return function e(n){return t.reduce(((t,e)=>e(t)),n)}}class q{constructor(t){if(t){this._subscribe=t}}lift(t){const e=new q;e.source=this;e.operator=t;return e}subscribe(t,e,n){const i=U(t)?t:new $(t,e,n);E((()=>{const{operator:t,source:e}=this;i.add(t?t.call(i,e):e?this._subscribe(i):this._trySubscribe(i))}));return i}_trySubscribe(t){try{return this._subscribe(t)}catch(e){t.error(e)}}forEach(t,e){e=W(e);return new e(((e,n)=>{const i=new $({next:e=>{try{t(e)}catch(t){n(t);i.unsubscribe()}},error:n,complete:e});this.subscribe(i)}))}_subscribe(t){var e;return(e=this.source)===null||e===void 0?void 0:e.subscribe(t)}[R](){return this}pipe(...t){return V(t)(this)}toPromise(t){t=W(t);return new t(((t,e)=>{let n;this.subscribe((t=>n=t),(t=>e(t)),(()=>t(n)))}))}}q.create=t=>new q(t);function W(t){var e;return(e=t!==null&&t!==void 0?t:M.Promise)!==null&&e!==void 0?e:Promise}function J(t){return t&&m(t.next)&&m(t.error)&&m(t.complete)}function U(t){return t&&t instanceof P||J(t)&&k(t)}function Q(t){return m(t===null||t===void 0?void 0:t.lift)}function K(t){return e=>{if(Q(e)){return e.lift((function(e){try{return t(e,this)}catch(t){this.error(t)}}))}throw new TypeError("Unable to lift unknown Observable type")}}function Z(t,e,n,i,r){return new G(t,e,n,i,r)}class G extends P{constructor(t,e,n,i,r,s){super(t);this.onFinalize=r;this.shouldUnsubscribe=s;this._next=e?function(n){try{e(n)}catch(e){t.error(e)}}:super._next;this._error=i?function(e){try{i(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:super._error;this._complete=n?function(){try{n()}catch(e){t.error(e)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe();!e&&((t=this.onFinalize)===null||t===void 0?void 0:t.call(this))}}}const X=w((t=>function e(){t(this);this.name="ObjectUnsubscribedError";this.message="object unsubscribed"}));class tt extends q{constructor(){super();this.closed=false;this.currentObservers=null;this.observers=[];this.isStopped=false;this.hasError=false;this.thrownError=null}lift(t){const e=new et(this,this);e.operator=t;return e}_throwIfClosed(){if(this.closed){throw new X}}next(t){E((()=>{this._throwIfClosed();if(!this.isStopped){if(!this.currentObservers){this.currentObservers=Array.from(this.observers)}for(const e of this.currentObservers){e.next(t)}}}))}error(t){E((()=>{this._throwIfClosed();if(!this.isStopped){this.hasError=this.isStopped=true;this.thrownError=t;const{observers:e}=this;while(e.length){e.shift().error(t)}}}))}complete(){E((()=>{this._throwIfClosed();if(!this.isStopped){this.isStopped=true;const{observers:t}=this;while(t.length){t.shift().complete()}}}))}unsubscribe(){this.isStopped=this.closed=true;this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){this._throwIfClosed();return super._trySubscribe(t)}_subscribe(t){this._throwIfClosed();this._checkFinalizedStatuses(t);return this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:e,isStopped:n,observers:i}=this;if(e||n){return x}this.currentObservers=null;i.push(t);return new y((()=>{this.currentObservers=null;g(i,t)}))}_checkFinalizedStatuses(t){const{hasError:e,thrownError:n,isStopped:i}=this;if(e){t.error(n)}else if(i){t.complete()}}asObservable(){const t=new q;t.source=this;return t}}tt.create=(t,e)=>new et(t,e);class et extends tt{constructor(t,e){super();this.destination=t;this.source=e}next(t){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.next)===null||n===void 0?void 0:n.call(e,t)}error(t){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.error)===null||n===void 0?void 0:n.call(e,t)}complete(){var t,e;(e=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||e===void 0?void 0:e.call(t)}_subscribe(t){var e,n;return(n=(e=this.source)===null||e===void 0?void 0:e.subscribe(t))!==null&&n!==void 0?n:x}}function nt(t){return t&&m(t.schedule)}function it(t){return t[t.length-1]}function rt(t){return m(it(t))?t.pop():undefined}function st(t){return nt(it(t))?t.pop():undefined}function ot(t,e,n,i){function r(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,s){function o(t){try{u(i.next(t))}catch(t){s(t)}}function a(t){try{u(i["throw"](t))}catch(t){s(t)}}function u(t){t.done?n(t.value):r(t.value).then(o,a)}u((i=i.apply(t,e||[])).next())}))}function at(t){var e=typeof Symbol==="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length==="number")return{next:function(){if(t&&i>=t.length)t=void 0;return{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ut(t){return this instanceof ut?(this.v=t,this):new ut(t)}function ft(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),r,s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(t){if(i[t])r[t]=function(e){return new Promise((function(n,i){s.push([t,e,n,i])>1||a(t,e)}))}}function a(t,e){try{u(i[t](e))}catch(t){c(s[0][3],t)}}function u(t){t.value instanceof ut?Promise.resolve(t.value.v).then(f,l):c(s[0][2],t)}function f(t){a("next",t)}function l(t){a("throw",t)}function c(t,e){if(t(e),s.shift(),s.length)a(s[0][0],s[0][1])}}function lt(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof at==="function"?at(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(e){n[e]=t[e]&&function(n){return new Promise((function(i,s){n=t[e](n),r(i,s,n.done,n.value)}))}}function r(t,e,n,i){Promise.resolve(i).then((function(e){t({value:e,done:n})}),e)}}const ct=t=>t&&typeof t.length==="number"&&typeof t!=="function";function dt(t){return m(t===null||t===void 0?void 0:t.then)}function ht(t){return m(t[R])}function pt(t){return Symbol.asyncIterator&&m(t===null||t===void 0?void 0:t[Symbol.asyncIterator])}function vt(t){return new TypeError(`You provided ${t!==null&&typeof t==="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function mt(){if(typeof Symbol!=="function"||!Symbol.iterator){return"@@iterator"}return Symbol.iterator}const wt=mt();function bt(t){return m(t===null||t===void 0?void 0:t[wt])}function gt(t){return ft(this,arguments,(function*e(){const n=t.getReader();try{while(true){const{value:t,done:e}=yield ut(n.read());if(e){return yield ut(void 0)}yield yield ut(t)}}finally{n.releaseLock()}}))}function yt(t){return m(t===null||t===void 0?void 0:t.getReader)}function xt(t){if(t instanceof q){return t}if(t!=null){if(ht(t)){return kt(t)}if(ct(t)){return Ct(t)}if(dt(t)){return Mt(t)}if(pt(t)){return St(t)}if(bt(t)){return Dt(t)}if(yt(t)){return Tt(t)}}throw vt(t)}function kt(t){return new q((e=>{const n=t[R]();if(m(n.subscribe)){return n.subscribe(e)}throw new TypeError("Provided object does not correctly implement Symbol.observable")}))}function Ct(t){return new q((e=>{for(let n=0;n<t.length&&!e.closed;n++){e.next(t[n])}e.complete()}))}function Mt(t){return new q((e=>{t.then((t=>{if(!e.closed){e.next(t);e.complete()}}),(t=>e.error(t))).then(null,S)}))}function Dt(t){return new q((e=>{for(const n of t){e.next(n);if(e.closed){return}}e.complete()}))}function St(t){return new q((e=>{At(t,e).catch((t=>e.error(t)))}))}function Tt(t){return St(gt(t))}function At(t,e){var n,i;var r,s;return ot(this,void 0,void 0,(function*(){try{for(n=lt(t);i=yield n.next(),!i.done;){const t=i.value;e.next(t);if(e.closed){return}}}catch(t){r={error:t}}finally{try{if(i&&!i.done&&(s=n.return))yield s.call(n)}finally{if(r)throw r.error}}e.complete()}))}function jt(t,e,n,i=0,r=false){const s=e.schedule((function(){n();if(r){t.add(this.schedule(null,i))}else{this.unsubscribe()}}),i);t.add(s);if(!r){return s}}function Ot(t,e=0){return K(((n,i)=>{n.subscribe(Z(i,(n=>jt(i,t,(()=>i.next(n)),e)),(()=>jt(i,t,(()=>i.complete()),e)),(n=>jt(i,t,(()=>i.error(n)),e))))}))}function It(t,e=0){return K(((n,i)=>{i.add(t.schedule((()=>n.subscribe(i)),e))}))}function Et(t,e){return xt(t).pipe(It(e),Ot(e))}function Pt(t,e){return xt(t).pipe(It(e),Ot(e))}function _t(t,e){return new q((n=>{let i=0;return e.schedule((function(){if(i===t.length){n.complete()}else{n.next(t[i++]);if(!n.closed){this.schedule()}}}))}))}function Ft(t,e){return new q((n=>{let i;jt(n,e,(()=>{i=t[wt]();jt(n,e,(()=>{let t;let e;try{({value:t,done:e}=i.next())}catch(t){n.error(t);return}if(e){n.complete()}else{n.next(t)}}),0,true)}));return()=>m(i===null||i===void 0?void 0:i.return)&&i.return()}))}function Lt(t,e){if(!t){throw new Error("Iterable cannot be null")}return new q((n=>{jt(n,e,(()=>{const i=t[Symbol.asyncIterator]();jt(n,e,(()=>{i.next().then((t=>{if(t.done){n.complete()}else{n.next(t.value)}}))}),0,true)}))}))}function $t(t,e){return Lt(gt(t),e)}function Nt(t,e){if(t!=null){if(ht(t)){return Et(t,e)}if(ct(t)){return _t(t,e)}if(dt(t)){return Pt(t,e)}if(pt(t)){return Lt(t,e)}if(bt(t)){return Ft(t,e)}if(yt(t)){return $t(t,e)}}throw vt(t)}function Ht(t,e){return e?Nt(t,e):xt(t)}function zt(t,e){return K(((n,i)=>{let r=0;n.subscribe(Z(i,(n=>{i.next(t.call(e,n,r++))})))}))}const{isArray:Yt}=Array;function Rt(t,e){return Yt(e)?t(...e):t(e)}function Bt(t){return zt((e=>Rt(t,e)))}const{isArray:Vt}=Array;const{getPrototypeOf:qt,prototype:Wt,keys:Jt}=Object;function Ut(t){if(t.length===1){const e=t[0];if(Vt(e)){return{args:e,keys:null}}if(Qt(e)){const t=Jt(e);return{args:t.map((t=>e[t])),keys:t}}}return{args:t,keys:null}}function Qt(t){return t&&typeof t==="object"&&qt(t)===Wt}function Kt(t,e){return t.reduce(((t,n,i)=>(t[n]=e[i],t)),{})}function Zt(...t){const e=st(t);const n=rt(t);const{args:i,keys:r}=Ut(t);if(i.length===0){return Ht([],e)}const s=new q(Gt(i,e,r?t=>Kt(r,t):B));return n?s.pipe(Bt(n)):s}function Gt(t,e,n=B){return i=>{Xt(e,(()=>{const{length:r}=t;const s=new Array(r);let o=r;let a=r;for(let u=0;u<r;u++){Xt(e,(()=>{const r=Ht(t[u],e);let f=false;r.subscribe(Z(i,(t=>{s[u]=t;if(!f){f=true;a--}if(!a){i.next(n(s.slice()))}}),(()=>{if(!--o){i.complete()}})))}),i)}}),i)}}function Xt(t,e,n){if(t){jt(n,t,e)}else{e()}}class te{constructor(t,e,n,i,r,s){this.region=t;this.player_id=e;this.sex=n;this.education=i;this.birthyear=r;this.email=s}}const ee="https://emdir-web-devel.multilogic.hu";const ne="multilogic.hu";class ie{constructor(){this.serviceUrl=`${ee}/emerald/rest/api/v1/product-finder`}startWithIri(t,e,n,i){const r=fetch(`${this.serviceUrl}?stored=${i}`,{method:"POST",body:JSON.stringify({iri:t,lang:e,answers:n}),headers:{"Content-Type":"application/json"}}).then((t=>t.json()));const s=fetch(`${this.serviceUrl}/dialogByIri?iri=${t}&lang=${e}`).then((t=>t.json()));return Zt([r,s]).pipe(zt((([t,e])=>({data:t,metadata:e}))))}startWithCaseId(t,e,n,i,r){const s=fetch(`${this.serviceUrl}?stored=${r}`,{method:"POST",body:JSON.stringify({caseId:t,date:e,lang:n,answers:i}),headers:{"Content-Type":"application/json"}}).then((t=>t.json()));const o=fetch(`${this.serviceUrl}/dialog?caseId=${t}&date=${e}`).then((t=>t.json()));return Zt([s,o]).pipe(zt((([t,e])=>({data:t,metadata:e}))))}getSession(){return Ht(fetch(`${this.serviceUrl}/${this.sessionId}`).then((t=>t.json())))}answer(t){return Ht(fetch(`${this.serviceUrl}/${this.sessionId}/answers`,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((t=>t.json())))}revokeAnswer(t){return Ht(fetch(`${this.serviceUrl}/${this.sessionId}/answers`,{method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((t=>t.json())))}getDialogMetadata(t,e){return Ht(fetch(`${this.serviceUrl}/dialogByIri?iri=${t}&lang=${e}`).then((t=>t.json())))}}class re{constructor(){this.serviceUrl=`${ee}/emerald/rest/api/v1/analytics/`}sendConsultationData(t){return Ht(fetch(`${this.serviceUrl}/consultation`,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((t=>t.json())))}}class se{constructor(t){this.host_domain=ne;this.player_id=t.player_id||12;this.region=t.region||0;this.age=(new Date).getFullYear()-t.birthyear||26;this.sex=t.sex||1;this.education=t.education||"higher";this.email=t.email||"tesztelek@ml.hu"}getBodyWithUsers(t){t.player_id=this.player_id;t.host_domain=this.host_domain;t.mail=this.email;var e;var n=t.goal.expert.substring(t.goal.expert.lastIndexOf("Elért pontszám: ")+15,t.goal.expert.lastIndexOf("Elért pontszám: ")+25);if(n.includes(".")){e=parseInt(n.substring(0,n.indexOf(".")))}else{e=parseInt(n)}t.score=e;t.region=this.region;t.sex=this.sex;t.age=this.age;t.education=this.education;return t}}const oe=".dialog-body{background:#fafafa;min-height:100vh;padding-right:0.9375em;padding-left:0.9375em;color:#4a5468;display:flex}.dialog-root{display:flex;flex-direction:column;background:#fafafa}.content{flex:1 1 auto;overflow-y:auto}.steps{margin-bottom:2.5em;overflow:hidden}";const ae=class{constructor(e){t(this,e);this.answer$=new tt;this.revoke$=new tt;this.startDate=Date.now();this.locale="hu";this.caseId="";this.iri="";this.date="";this.player_id=undefined;this.education=undefined;this.sex=undefined;this.birthyear=undefined;this.region=undefined;this.email=undefined;this.params=new Map;this.dialogData=undefined;this.dialogMetadata=undefined;this.fragmentData=[];this.result=undefined;this.user=new te(this.region,this.player_id,this.sex,this.education,this.birthyear,this.email)}async componentDidLoad(){this.initSubscriptions();this.user=new te(this.region,this.player_id,this.sex,this.education,this.birthyear,this.email);this.dialogAsyncService=new ie;this.elasticService=new re;this.helperService=new se(this.user);console.log("caseid:",this.caseId);console.log("user:",this.user);await this.startWithCaseId(this.caseId,this.date);await this.startWithIri(this.iri)}answersFromParams(){let t=[];console.log("params",this.params);let e=Object.keys(this.params).filter((t=>/^q_/.test(t)||/^qq_/.test(t)));e.forEach((e=>{t.push({iri:e,answer:this.params[e]})}));if(this.helperService.region!==null&&this.helperService.region!==undefined){t.push({iri:"qq_region",answer:this.helperService.region+""})}console.log("answers",t);return t}async startWithCaseId(t,e){if(t){if(!e){const t=new Date;e=t.toLocaleDateString("hu-HU").replace(/\./g,"").replace(/ /g,"-")}console.log("locale",this.locale);this.dialogAsyncService.startWithCaseId(t,e,this.locale,this.answersFromParams(),true).subscribe({next:t=>{this.dialogData=t.data;console.log("in call",this.dialogData);this.dialogMetadata=t.metadata;this.fragmentData=[...t.data.step.fragments];this.dialogAsyncService.sessionId=this.dialogData.sessionId;this.dialogAsyncService.dialogIri=this.dialogMetadata.iri;this.dialogAsyncService.endpointId=this.dialogData.endpointId;this.dialogAsyncService.getSession().subscribe((e=>{e.fragments.forEach((e=>{if(!t.data.step.fragments.map((t=>t.iri)).includes(e.iri)){e.isPre=true}}));e.fragments=e.fragments.filter((t=>{if(t.isPre){const e=t.iri;const n=e.lastIndexOf("/");const i=e.substring(n+1);return!/^qq_/.test(i)}return true}));this.fragmentData=[...e.fragments]}))},error:t=>console.error(t)})}}async startWithIri(t){if(t){this.dialogAsyncService.startWithIri(t,this.locale,[],true).subscribe({next:t=>{this.dialogData=t.data;console.log("in call",this.dialogData);this.dialogMetadata=t.metadata;this.fragmentData=[...t.data.step.fragments];this.dialogAsyncService.sessionId=this.dialogData.sessionId;this.dialogAsyncService.dialogIri=this.dialogMetadata.iri;this.dialogAsyncService.endpointId=this.dialogData.endpointId;this.dialogAsyncService.getSession().subscribe((e=>{e.fragments.forEach((e=>{if(!t.data.step.fragments.map((t=>t.iri)).includes(e.iri)){e.isPre=true}}));e.fragments=e.fragments.filter((t=>{if(t.isPre){const e=t.iri;const n=e.lastIndexOf("/");const i=e.substring(n+1);return!/^qq_/.test(i)}return true}));this.fragmentData=[...e.fragments]}))},error:t=>console.error(t)})}}initSubscriptions(){this.answer$.subscribe((t=>this.processNextQuestion(t)));this.revoke$.subscribe((t=>this.processRevoke(t)))}processNextQuestion(t){if(t.fragments[t.fragments.length-1].type==="Goal"){this.result=t.fragments[t.fragments.length-1];this.endDate=Date.now()}this.fragmentData=[...this.fragmentData,...t.fragments];this.fragmentData=[...new Set(this.fragmentData)];if(this.helperService.player_id&&t.fragments[t.fragments.length-1].type==="Goal"){this.saveAuto()}this.scrollToLast()}processRevoke(t){this.result=null;let e=this.fragmentData.findIndex((e=>e.iri===t.revokeAnswerIri));console.log("before");this.fragmentData.forEach((t=>console.log(t)));this.fragmentData=[...this.fragmentData.slice(0,e+1),...t.fragments];console.log("after");this.fragmentData.forEach((t=>console.log(t)));if(t.fragments[t.fragments.length-1].type==="Goal"){this.result=Object.assign({},t.fragments[t.fragments.length-1]);this.endDate=Date.now();if(this.helperService.player_id){this.saveAuto()}}this.scrollToLast()}scrollToLast(){let t=document.getElementsByClassName("step");if(t.length>0){let e=document.getElementsByClassName("result-container");if(e.length>0){setTimeout((()=>{e[e.length-1].scrollIntoView()}),1e3)}else{setTimeout((()=>{t[t.length-1].scrollIntoView()}),50)}}}handleAnswer({detail:t}){console.log("handle answer",t);this.dialogAsyncService.answer(t).subscribe({next:t=>{console.log("res",t);this.answer$.next(t)},error:t=>{this.answer$.next(t)}})}handleRevoke({detail:t}){this.dialogAsyncService.revokeAnswer(t).subscribe({next:e=>{e.revokeAnswerIri=t.iri;this.revoke$.next(e)},error:t=>{this.revoke$.next(t)}})}saveAuto(){console.log("saveAuto");let t=this.saveDialog();t=this.helperService.getBodyWithUsers(t);console.log("beforesenddata");this.sendData(t)}saveDialog(){var t,e;let n={};n.lang=this.locale;if(this.dialogMetadata.metadata.title){n.title=this.dialogMetadata.metadata.title}else{n.title=this.dialogMetadata.label}if((t=this.dialogMetadata.metadata)===null||t===void 0?void 0:t.description){n.description=(e=this.dialogMetadata.metadata)===null||e===void 0?void 0:e.description}n.startDate=this.startDate;n.endDate=this.endDate;n.goal={expert:this.result.labelExpert,layman:this.result.labelLayman};n.session=this.dialogData.sessionId;n.model_id=new RegExp("xtext://resource/([a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12})").exec(this.dialogMetadata.iri)[0];let i=new Array;for(let t=0;t<this.fragmentData.length-1;++t){let e=this.fragmentData[t];let n=e.labelLayman;let r=e.label;let s=e.iri;let o;if(e.type==="QuestionMenu"){o=e.optionsLayman[e.answer]}else if(e.type==="QuestionYesNo"){if(this.locale==="en"){o=JSON.parse(e.answer)?"Yes":"No"}else{o=JSON.parse(e.answer)?"Igen":"Nem"}}else{o=e.answer}i.push({question:{layman:n,label:r,iri:s},answer:{layman:o}})}n.pairs=i;return n}async sendData(t){console.log("sendData",t);this.elasticService.sendConsultationData(t).subscribe({next:()=>{},error:t=>{console.log(t)}})}render(){var t;return e("div",{class:"dialog-body"},e("div",{class:"dialog-root content"},e("description-component",{data:this.dialogMetadata,sessionName:(t=this.dialogData)===null||t===void 0?void 0:t.sessionName}),e("div",{class:"steps"},this.fragmentData.map((t=>e("step-component",{key:`${this.locale}-${t}`,locale:this.locale,fragment:t,answerValue:t===null||t===void 0?void 0:t.answer,controlDisabled:t.isPre,onAnswer:t=>this.handleAnswer(t),onRevokeAnswer:t=>this.handleRevoke(t)})))),this.result&&e("result-component",{key:`${this.locale}-${this.result}`,locale:this.locale,resultData:this.result})))}};ae.style=oe;const ue=':host{--background:var(--ion-background-color, #fff);--color:var(--ion-text-color, #000);--padding-top:0px;--padding-bottom:0px;--padding-start:0px;--padding-end:0px;--keyboard-offset:0px;--offset-top:0px;--offset-bottom:0px;--overflow:auto;display:block;position:relative;flex:1;width:100%;height:100%;margin:0 !important;padding:0 !important;font-family:var(--ion-font-family, inherit);contain:size style}:host(.ion-color) .inner-scroll{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.outer-content){--background:var(--ion-color-step-50, #f2f2f2)}#background-content{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);position:absolute;background:var(--background)}.inner-scroll{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:calc(var(--padding-top) + var(--offset-top));padding-bottom:calc(var(--padding-bottom) + var(--keyboard-offset) + var(--offset-bottom));position:absolute;color:var(--color);box-sizing:border-box;overflow:hidden;touch-action:pan-x pan-y pinch-zoom}.scroll-y,.scroll-x{-webkit-overflow-scrolling:touch;z-index:0;will-change:scroll-position}.scroll-y{overflow-y:var(--overflow);overscroll-behavior-y:contain}.scroll-x{overflow-x:var(--overflow);overscroll-behavior-x:contain}.overscroll::before,.overscroll::after{position:absolute;width:1px;height:1px;content:""}.overscroll::before{bottom:-1px}.overscroll::after{top:-1px}:host(.content-sizing){display:flex;flex-direction:column;min-height:0;contain:none}:host(.content-sizing) .inner-scroll{position:relative;top:0;bottom:0;margin-top:calc(var(--offset-top) * -1);margin-bottom:calc(var(--offset-bottom) * -1)}.transition-effect{display:none;position:absolute;width:100%;height:100vh;opacity:0;pointer-events:none}:host(.content-ltr) .transition-effect{left:-100%;}:host(.content-rtl) .transition-effect{right:-100%;}.transition-cover{position:absolute;right:0;width:100%;height:100%;background:black;opacity:0.1}.transition-shadow{display:block;position:absolute;width:100%;height:100%;box-shadow:inset -9px 0 9px 0 rgba(0, 0, 100, 0.03)}:host(.content-ltr) .transition-shadow{right:0;}:host(.content-rtl) .transition-shadow{left:0;transform:scaleX(-1)}::slotted([slot=fixed]){position:absolute;transform:translateZ(0)}';const fe=class{constructor(e){t(this,e);this.ionScrollStart=n(this,"ionScrollStart",7);this.ionScroll=n(this,"ionScroll",7);this.ionScrollEnd=n(this,"ionScrollEnd",7);this.watchDog=null;this.isScrolling=false;this.lastScroll=0;this.queued=false;this.cTop=-1;this.cBottom=-1;this.isMainContent=true;this.resizeTimeout=null;this.detail={scrollTop:0,scrollLeft:0,type:"scroll",event:undefined,startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,data:undefined,isScrolling:true};this.color=undefined;this.fullscreen=false;this.forceOverscroll=undefined;this.scrollX=false;this.scrollY=true;this.scrollEvents=false}connectedCallback(){this.isMainContent=this.el.closest("ion-menu, ion-popover, ion-modal")===null}disconnectedCallback(){this.onScrollEnd()}onAppLoad(){this.resize()}onResize(){if(this.resizeTimeout){clearTimeout(this.resizeTimeout);this.resizeTimeout=null}this.resizeTimeout=setTimeout((()=>{if(this.el.offsetParent===null){return}this.resize()}),100)}shouldForceOverscroll(){const{forceOverscroll:t}=this;const e=a(this);return t===undefined?e==="ios"&&u("ios"):t}resize(){{if(this.fullscreen){i((()=>this.readDimensions()))}else if(this.cTop!==0||this.cBottom!==0){this.cTop=this.cBottom=0;r(this)}}}readDimensions(){const t=ce(this.el);const e=Math.max(this.el.offsetTop,0);const n=Math.max(t.offsetHeight-e-this.el.offsetHeight,0);const i=e!==this.cTop||n!==this.cBottom;if(i){this.cTop=e;this.cBottom=n;r(this)}}onScroll(t){const e=Date.now();const n=!this.isScrolling;this.lastScroll=e;if(n){this.onScrollStart()}if(!this.queued&&this.scrollEvents){this.queued=true;i((e=>{this.queued=false;this.detail.event=t;de(this.detail,this.scrollEl,e,n);this.ionScroll.emit(this.detail)}))}}async getScrollElement(){if(!this.scrollEl){await new Promise((t=>f(this.el,t)))}return Promise.resolve(this.scrollEl)}async getBackgroundElement(){if(!this.backgroundContentEl){await new Promise((t=>f(this.el,t)))}return Promise.resolve(this.backgroundContentEl)}scrollToTop(t=0){return this.scrollToPoint(undefined,0,t)}async scrollToBottom(t=0){const e=await this.getScrollElement();const n=e.scrollHeight-e.clientHeight;return this.scrollToPoint(undefined,n,t)}async scrollByPoint(t,e,n){const i=await this.getScrollElement();return this.scrollToPoint(t+i.scrollLeft,e+i.scrollTop,n)}async scrollToPoint(t,e,n=0){const i=await this.getScrollElement();if(n<32){if(e!=null){i.scrollTop=e}if(t!=null){i.scrollLeft=t}return}let r;let s=0;const o=new Promise((t=>r=t));const a=i.scrollTop;const u=i.scrollLeft;const f=e!=null?e-a:0;const l=t!=null?t-u:0;const c=t=>{const e=Math.min(1,(t-s)/n)-1;const o=Math.pow(e,3)+1;if(f!==0){i.scrollTop=Math.floor(o*f+a)}if(l!==0){i.scrollLeft=Math.floor(o*l+u)}if(o<1){requestAnimationFrame(c)}else{r()}};requestAnimationFrame((t=>{s=t;c(t)}));return o}onScrollStart(){this.isScrolling=true;this.ionScrollStart.emit({isScrolling:true});if(this.watchDog){clearInterval(this.watchDog)}this.watchDog=setInterval((()=>{if(this.lastScroll<Date.now()-120){this.onScrollEnd()}}),100)}onScrollEnd(){if(this.watchDog)clearInterval(this.watchDog);this.watchDog=null;if(this.isScrolling){this.isScrolling=false;this.ionScrollEnd.emit({isScrolling:false})}}render(){const{isMainContent:t,scrollX:n,scrollY:i,el:r}=this;const o=l(r)?"rtl":"ltr";const u=a(this);const f=this.shouldForceOverscroll();const h=u==="ios";const p=t?"main":"div";this.resize();return e(s,{class:c(this.color,{[u]:true,"content-sizing":d("ion-popover",this.el),overscroll:f,[`content-${o}`]:true}),style:{"--offset-top":`${this.cTop}px`,"--offset-bottom":`${this.cBottom}px`}},e("div",{ref:t=>this.backgroundContentEl=t,id:"background-content",part:"background"}),e(p,{class:{"inner-scroll":true,"scroll-x":n,"scroll-y":i,overscroll:(n||i)&&f},ref:t=>this.scrollEl=t,onScroll:this.scrollEvents?t=>this.onScroll(t):undefined,part:"scroll"},e("slot",null)),h?e("div",{class:"transition-effect"},e("div",{class:"transition-cover"}),e("div",{class:"transition-shadow"})):null,e("slot",{name:"fixed"}))}get el(){return o(this)}};const le=t=>{var e;if(t.parentElement){return t.parentElement}if((e=t.parentNode)===null||e===void 0?void 0:e.host){return t.parentNode.host}return null};const ce=t=>{const e=t.closest("ion-tabs");if(e){return e}const n=t.closest("ion-app, ion-page, .ion-page, page-inner, .popover-content");if(n){return n}return le(t)};const de=(t,e,n,i)=>{const r=t.currentX;const s=t.currentY;const o=t.currentTime;const a=e.scrollLeft;const u=e.scrollTop;const f=n-o;if(i){t.startTime=n;t.startX=a;t.startY=u;t.velocityX=t.velocityY=0}t.currentTime=n;t.currentX=t.scrollLeft=a;t.currentY=t.scrollTop=u;t.deltaX=a-t.startX;t.deltaY=u-t.startY;if(f>0&&f<100){const e=(a-r)/f;const n=(u-s)/f;t.velocityX=e*.7+t.velocityX*.3;t.velocityY=n*.7+t.velocityY*.3}};fe.style=ue;const he=async t=>{let e={};if(t==="en"){const t=await import("./p-87c495fa.js");e=t.default}else if(t==="hu"){const t=await import("./p-960e3d46.js");e=t.default}return e};const pe=":host{display:block}.result-container{background:#e8f1f1;border:1px solid #2b7371;border-radius:2px;padding:0.5625em;display:flex;flex-direction:column;margin-bottom:1.25em}.result-with-tag{display:flex;justify-content:space-between;margin-top:0.625em}.fade-in.top{transition:0.5s all ease-in-out;transform:translate3d(0, -50px, 0);opacity:0}.fade-in.show{opacity:1;transform:translate3d(0, 0, 0)}";const ve=class{constructor(e){t(this,e);this.tag="neutral";this.resultFailTags=["nem jogosult","not eligible","negatív","negative","fail"];this.resultSuccessTags=["jogosult","eligible","pozitív","positive","success"];this.messages={};this.resultData=undefined;this.locale="hu";this.lastLocale="";this.isDetailOpen=false;this.showContent=false}async loadMessages(){if(this.locale!==this.lastLocale){this.lastLocale=this.locale;this.messages=await he(this.locale)}}async componentWillLoad(){console.log("componentWillLoad-result");this.showContent=false;this.resultD=Object.assign({},this.resultData);this.makeResultLabel("");this.setTag();this.makeResultLabel("layman");await this.loadMessages();setTimeout((()=>{this.showContent=true;this.setFocus()}),1e3)}setFocus(){setTimeout((()=>{console.log("setFocus result");const t=this.element.querySelector("div");t.focus()}),1e3)}makeResultLabel(t){let e;switch(t){case"":e=this.resultD.label.split("...");break;case"expert":e=this.resultD.labelExpert.split("...");break;case"layman":e=this.resultD.labelLayman.split("...");break}this.result=e[0];this.details=e[1]!==undefined?[e[1]]:null;if(this.details){this.details=this.details[0].split("\n");this.details.shift();this.details.pop()}}setTag(){if(this.resultD.metadata){if(this.resultD.metadata.tag.length===0){this.tag="neutral"}else{this.resultD.metadata.tag.forEach((t=>{this.tag=this.resultFailTags.indexOf(t)!==-1?"negative":"";if(this.tag===""){this.tag=this.resultSuccessTags.indexOf(t)!==-1?"positive":"neutral"}}))}}}handleResultValueChange(){this.showContent=false;console.log("handleResultValueChangeresult",this.resultData);this.resultD=Object.assign({},this.resultData);this.makeResultLabel("");this.setTag();this.makeResultLabel("layman");setTimeout((()=>{this.showContent=true;this.setFocus()}),1e3)}toggleDetails(){this.isDetailOpen=!this.isDetailOpen}render(){const t="1.5em";const n="#2B7371";const i="M137.4 374.6c12.5 12.5 32.8 12.5 45.3 0l128-128c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8L32 192c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l128 128z";const r="M182.6 137.4c-12.5-12.5-32.8-12.5-45.3 0l-128 128c-9.2 9.2-11.9 22.9-6.9 34.9s16.6 19.8 29.6 19.8H288c12.9 0 24.6-7.8 29.6-19.8s2.2-25.7-6.9-34.9l-128-128z";const s="M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z";const o="M367.2 412.5L99.5 144.8C77.1 176.1 64 214.5 64 256c0 106 86 192 192 192c41.5 0 79.9-13.1 111.2-35.5zm45.3-45.3C434.9 335.9 448 297.5 448 256c0-106-86-192-192-192c-41.5 0-79.9 13.1-111.2 35.5L412.5 367.2zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256z";const a="0 0 512 512";const u="M36.8904 0.0493164L30.9054 5.2914L30.9467 8.92371L16.8302 21.224C16.4774 21.5422 16.496 22.1159 16.8715 22.5449C17.25 22.9773 17.8322 23.0671 18.1923 22.7513L32.1437 10.5748L36.0236 11.1526L42.0087 5.95182L36.9317 5.16757L36.8904 0.0493164ZM16.7064 6.61224C7.51058 6.61224 0.0720215 14.0921 0.0720215 23.2878C0.0720215 32.4836 7.51058 39.9222 16.7064 39.9222C25.9021 39.9222 33.382 32.4836 33.382 23.2878C33.382 20.1793 32.5161 17.2787 31.0292 14.7849L27.8922 17.5092C28.7739 19.2455 29.2543 21.2083 29.2543 23.2878C29.2543 30.3199 23.5733 36.0009 16.5412 36.0009C9.50919 36.0009 3.78688 30.3199 3.78688 23.2878C3.78688 16.2558 9.50919 10.5335 16.5412 10.5335C19.1249 10.5335 21.5128 11.3125 23.5169 12.6386L26.6539 9.91434C23.875 7.84239 20.4317 6.61224 16.7064 6.61224ZM16.5412 13.8356C11.363 13.9086 7.19918 18.1504 7.21281 23.3291C7.22656 28.5501 11.4853 32.7539 16.7064 32.7401C21.9274 32.7264 26.1311 28.5089 26.1173 23.2878C26.114 22.0152 25.8759 20.8059 25.4156 19.6968L24.0123 20.8526C24.258 21.6079 24.4228 22.4104 24.425 23.2466C24.4362 27.5305 20.9903 30.9952 16.7064 31.0065C12.4224 31.0177 8.9577 27.5718 8.94642 23.2878C8.93519 19.0386 12.3337 15.5466 16.5825 15.4866H16.6651C17.7036 15.4839 18.691 15.6945 19.5957 16.0645L20.9578 14.8675C19.6541 14.1947 18.1889 13.8315 16.6238 13.8356H16.5412ZM16.5 18.7475C16.2329 18.7624 15.9665 18.8159 15.7157 18.8713C14.8472 19.063 14.0843 19.4927 13.4868 20.1096C12.8893 20.7264 12.4629 21.5042 12.2898 22.3798C12.2315 22.6709 12.2064 22.9796 12.2072 23.2878C12.2081 23.5986 12.2294 23.9028 12.2898 24.1959C12.4113 24.7817 12.6666 25.3276 12.9915 25.8057C13.3147 26.2849 13.7104 26.6793 14.1885 27.0027C14.9057 27.4878 15.774 27.7894 16.7064 27.787C17.2628 27.7855 17.7826 27.686 18.2749 27.498C18.6073 27.3711 18.9344 27.201 19.2242 27.0027C19.4727 26.8326 19.6749 26.6398 19.8846 26.4248C20.0877 26.2206 20.2601 26.0043 20.4212 25.7644C20.7446 25.2814 21.004 24.7425 21.1229 24.1547C21.177 23.8872 21.2021 23.6106 21.2055 23.3291L19.637 24.6912C18.8341 25.3973 17.2442 24.865 16.0459 23.4942C14.8573 22.1346 14.5616 20.4953 15.3442 19.7794L16.5 18.7475Z";return e("div",{class:`result-container fade-in top ${this.showContent?"show":""}`},e("div",{style:{alignSelf:"center"}},e("svg",{width:"43",height:"40",viewBox:"0 0 43 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e("g",{"clip-path":"url(#clip0_1531_83)"},e("path",{d:u,fill:n})),e("defs",null,e("clipPath",{id:"clip0_1531_83"},e("rect",{width:"42.0638",height:"40",fill:"white"}))))),e("div",{class:"result-with-tag"},e("div",{innerHTML:this.result}),this.tag==="positive"&&e("div",null,e("svg",{viewBox:a,width:t},e("path",{d:s,fill:n}))),this.tag==="negative"&&e("div",null,e("svg",{viewBox:a,width:t},e("path",{d:o,fill:"#FD1313"})))),this.details&&e("div",{style:{marginTop:"0.625em"}},e("span",{class:"clickable",style:{color:"#2B7371",fontWeight:"600",marginRight:"0.9375em"},onClick:()=>this.toggleDetails()},this.messages["result-more"]),!this.isDetailOpen?e("svg",{class:"clickable",width:t,viewBox:a,onClick:()=>this.toggleDetails()},e("path",{d:i,fill:n})):e("svg",{class:"clickable",width:t,viewBox:a,onClick:()=>this.toggleDetails()},e("path",{d:r,fill:n}))),this.isDetailOpen&&e("div",{style:{marginTop:"0.625em"}},e("ul",{style:{marginBottom:"0"}},this.details.map((t=>e("li",{innerHTML:t}))))))}get element(){return o(this)}static get watchers(){return{locale:["loadMessages"],resultData:["handleResultValueChange"]}}};ve.style=pe;var me=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"];var we={_disable:[],allowInput:false,allowInvalidPreload:false,altFormat:"F j, Y",altInput:false,altInputClass:"form-control input",animate:typeof window==="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:true,clickOpens:true,closeOnSelect:true,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:false,enableSeconds:false,enableTime:false,errorHandler:function(t){return typeof console!=="undefined"&&console.warn(t)},getWeek:function(t){var e=new Date(t.getTime());e.setHours(0,0,0,0);e.setDate(e.getDate()+3-(e.getDay()+6)%7);var n=new Date(e.getFullYear(),0,4);return 1+Math.round(((e.getTime()-n.getTime())/864e5-3+(n.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:false,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:false,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:undefined,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:false,showMonths:1,static:false,time_24hr:false,weekNumbers:false,wrap:false};var be={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(t){var e=t%100;if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:false};var ge=function(t,e){if(e===void 0){e=2}return("000"+t).slice(e*-1)};var ye=function(t){return t===true?1:0};function xe(t,e){var n;return function(){var i=this;var r=arguments;clearTimeout(n);n=setTimeout((function(){return t.apply(i,r)}),e)}}var ke=function(t){return t instanceof Array?t:[t]};function Ce(t,e,n){if(n===true)return t.classList.add(e);t.classList.remove(e)}function Me(t,e,n){var i=window.document.createElement(t);e=e||"";n=n||"";i.className=e;if(n!==undefined)i.textContent=n;return i}function De(t){while(t.firstChild)t.removeChild(t.firstChild)}function Se(t,e){if(e(t))return t;else if(t.parentNode)return Se(t.parentNode,e);return undefined}function Te(t,e){var n=Me("div","numInputWrapper"),i=Me("input","numInput "+t),r=Me("span","arrowUp"),s=Me("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1){i.type="number"}else{i.type="text";i.pattern="\\d*"}if(e!==undefined)for(var o in e)i.setAttribute(o,e[o]);n.appendChild(i);n.appendChild(r);n.appendChild(s);return n}function Ae(t){try{if(typeof t.composedPath==="function"){var e=t.composedPath();return e[0]}return t.target}catch(e){return t.target}}var je=function(){return undefined};var Oe=function(t,e,n){return n.months[e?"shorthand":"longhand"][t]};var Ie={D:je,F:function(t,e,n){t.setMonth(n.months.longhand.indexOf(e))},G:function(t,e){t.setHours((t.getHours()>=12?12:0)+parseFloat(e))},H:function(t,e){t.setHours(parseFloat(e))},J:function(t,e){t.setDate(parseFloat(e))},K:function(t,e,n){t.setHours(t.getHours()%12+12*ye(new RegExp(n.amPM[1],"i").test(e)))},M:function(t,e,n){t.setMonth(n.months.shorthand.indexOf(e))},S:function(t,e){t.setSeconds(parseFloat(e))},U:function(t,e){return new Date(parseFloat(e)*1e3)},W:function(t,e,n){var i=parseInt(e);var r=new Date(t.getFullYear(),0,2+(i-1)*7,0,0,0,0);r.setDate(r.getDate()-r.getDay()+n.firstDayOfWeek);return r},Y:function(t,e){t.setFullYear(parseFloat(e))},Z:function(t,e){return new Date(e)},d:function(t,e){t.setDate(parseFloat(e))},h:function(t,e){t.setHours((t.getHours()>=12?12:0)+parseFloat(e))},i:function(t,e){t.setMinutes(parseFloat(e))},j:function(t,e){t.setDate(parseFloat(e))},l:je,m:function(t,e){t.setMonth(parseFloat(e)-1)},n:function(t,e){t.setMonth(parseFloat(e)-1)},s:function(t,e){t.setSeconds(parseFloat(e))},u:function(t,e){return new Date(parseFloat(e))},w:je,y:function(t,e){t.setFullYear(2e3+parseFloat(e))}};var Ee={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"};var Pe={Z:function(t){return t.toISOString()},D:function(t,e,n){return e.weekdays.shorthand[Pe.w(t,e,n)]},F:function(t,e,n){return Oe(Pe.n(t,e,n)-1,false,e)},G:function(t,e,n){return ge(Pe.h(t,e,n))},H:function(t){return ge(t.getHours())},J:function(t,e){return e.ordinal!==undefined?t.getDate()+e.ordinal(t.getDate()):t.getDate()},K:function(t,e){return e.amPM[ye(t.getHours()>11)]},M:function(t,e){return Oe(t.getMonth(),true,e)},S:function(t){return ge(t.getSeconds())},U:function(t){return t.getTime()/1e3},W:function(t,e,n){return n.getWeek(t)},Y:function(t){return ge(t.getFullYear(),4)},d:function(t){return ge(t.getDate())},h:function(t){return t.getHours()%12?t.getHours()%12:12},i:function(t){return ge(t.getMinutes())},j:function(t){return t.getDate()},l:function(t,e){return e.weekdays.longhand[t.getDay()]},m:function(t){return ge(t.getMonth()+1)},n:function(t){return t.getMonth()+1},s:function(t){return t.getSeconds()},u:function(t){return t.getTime()},w:function(t){return t.getDay()},y:function(t){return String(t.getFullYear()).substring(2)}};var _e=function(t){var e=t.config,n=e===void 0?we:e,i=t.l10n,r=i===void 0?be:i,s=t.isMobile,o=s===void 0?false:s;return function(t,e,i){var s=i||r;if(n.formatDate!==undefined&&!o){return n.formatDate(t,e,s)}return e.split("").map((function(e,i,r){return Pe[e]&&r[i-1]!=="\\"?Pe[e](t,s,n):e!=="\\"?e:""})).join("")}};var Fe=function(t){var e=t.config,n=e===void 0?we:e,i=t.l10n,r=i===void 0?be:i;return function(t,e,i,s){if(t!==0&&!t)return undefined;var o=s||r;var a;var u=t;if(t instanceof Date)a=new Date(t.getTime());else if(typeof t!=="string"&&t.toFixed!==undefined)a=new Date(t);else if(typeof t==="string"){var f=e||(n||we).dateFormat;var l=String(t).trim();if(l==="today"){a=new Date;i=true}else if(n&&n.parseDate){a=n.parseDate(t,f)}else if(/Z$/.test(l)||/GMT$/.test(l)){a=new Date(t)}else{var c=void 0,d=[];for(var h=0,p=0,v="";h<f.length;h++){var m=f[h];var w=m==="\\";var b=f[h-1]==="\\"||w;if(Ee[m]&&!b){v+=Ee[m];var g=new RegExp(v).exec(t);if(g&&(c=true)){d[m!=="Y"?"push":"unshift"]({fn:Ie[m],val:g[++p]})}}else if(!w)v+="."}a=!n||!n.noCalendar?new Date((new Date).getFullYear(),0,1,0,0,0,0):new Date((new Date).setHours(0,0,0,0));d.forEach((function(t){var e=t.fn,n=t.val;return a=e(a,n,o)||a}));a=c?a:undefined}}if(!(a instanceof Date&&!isNaN(a.getTime()))){n.errorHandler(new Error("Invalid date provided: "+u));return undefined}if(i===true)a.setHours(0,0,0,0);return a}};function Le(t,e,n){if(n===void 0){n=true}if(n!==false){return new Date(t.getTime()).setHours(0,0,0,0)-new Date(e.getTime()).setHours(0,0,0,0)}return t.getTime()-e.getTime()}var $e=function(t,e,n){return t>Math.min(e,n)&&t<Math.max(e,n)};var Ne=function(t,e,n){return t*3600+e*60+n};var He=function(t){var e=Math.floor(t/3600),n=(t-e*3600)/60;return[e,n,t-e*3600-n*60]};var ze={DAY:864e5};function Ye(t){var e=t.defaultHour;var n=t.defaultMinute;var i=t.defaultSeconds;if(t.minDate!==undefined){var r=t.minDate.getHours();var s=t.minDate.getMinutes();var o=t.minDate.getSeconds();if(e<r){e=r}if(e===r&&n<s){n=s}if(e===r&&n===s&&i<o)i=t.minDate.getSeconds()}if(t.maxDate!==undefined){var a=t.maxDate.getHours();var u=t.maxDate.getMinutes();e=Math.min(e,a);if(e===a)n=Math.min(u,n);if(e===a&&n===u)i=t.maxDate.getSeconds()}return{hours:e,minutes:n,seconds:i}}if(typeof Object.assign!=="function"){Object.assign=function(t){var e=[];for(var n=1;n<arguments.length;n++){e[n-1]=arguments[n]}if(!t){throw TypeError("Cannot convert undefined or null to object")}var i=function(e){if(e){Object.keys(e).forEach((function(n){return t[n]=e[n]}))}};for(var r=0,s=e;r<s.length;r++){var o=s[r];i(o)}return t}}var Re=undefined&&undefined.__assign||function(){Re=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}return t};return Re.apply(this,arguments)};var Be=undefined&&undefined.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var i=Array(t),r=0,e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,r++)i[r]=s[o];return i};var Ve=300;function qe(t,e){var n={config:Re(Re({},we),Je.defaultConfig),l10n:be};n.parseDate=Fe({config:n.config,l10n:n.l10n});n._handlers=[];n.pluginElements=[];n.loadedPlugins=[];n._bind=v;n._setHoursFromDate=d;n._positionCalendar=et;n.changeMonth=$;n.changeYear=B;n.clear=N;n.close=H;n.onMouseOver=U;n._createElement=Me;n.createDay=k;n.destroy=z;n.isEnabled=V;n.jumpToDate=b;n.updateValue=Ct;n.open=K;n.redraw=rt;n.set=ut;n.setDate=lt;n.toggle=mt;function i(){n.utils={getDaysInMonth:function(t,e){if(t===void 0){t=n.currentMonth}if(e===void 0){e=n.currentYear}if(t===1&&(e%4===0&&e%100!==0||e%400===0))return 29;return n.l10n.daysInMonth[t]}}}function r(){n.element=n.input=t;n.isOpen=false;G();tt();ht();dt();i();if(!n.isMobile)x();w();if(n.selectedDates.length||n.config.noCalendar){if(n.config.enableTime){d(n.config.noCalendar?n.latestSelectedDateObj:undefined)}Ct(false)}a();var e=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);if(!n.isMobile&&e){et()}wt("onReady")}function s(){var t;return((t=n.calendarContainer)===null||t===void 0?void 0:t.getRootNode()).activeElement||document.activeElement}function o(t){return t.bind(n)}function a(){var t=n.config;if(t.weekNumbers===false&&t.showMonths===1){return}else if(t.noCalendar!==true){window.requestAnimationFrame((function(){if(n.calendarContainer!==undefined){n.calendarContainer.style.visibility="hidden";n.calendarContainer.style.display="block"}if(n.daysContainer!==undefined){var e=(n.days.offsetWidth+1)*t.showMonths;n.daysContainer.style.width=e+"px";n.calendarContainer.style.width=e+(n.weekWrapper!==undefined?n.weekWrapper.offsetWidth:0)+"px";n.calendarContainer.style.removeProperty("visibility");n.calendarContainer.style.removeProperty("display")}}))}}function u(t){if(n.selectedDates.length===0){var e=n.config.minDate===undefined||Le(new Date,n.config.minDate)>=0?new Date:new Date(n.config.minDate.getTime());var i=Ye(n.config);e.setHours(i.hours,i.minutes,i.seconds,e.getMilliseconds());n.selectedDates=[e];n.latestSelectedDateObj=e}if(t!==undefined&&t.type!=="blur"){Dt(t)}var r=n._input.value;c();Ct();if(n._input.value!==r){n._debouncedChange()}}function f(t,e){return t%12+12*ye(e===n.l10n.amPM[1])}function l(t){switch(t%24){case 0:case 12:return 12;default:return t%12}}function c(){if(n.hourElement===undefined||n.minuteElement===undefined)return;var t=(parseInt(n.hourElement.value.slice(-2),10)||0)%24,e=(parseInt(n.minuteElement.value,10)||0)%60,i=n.secondElement!==undefined?(parseInt(n.secondElement.value,10)||0)%60:0;if(n.amPM!==undefined){t=f(t,n.amPM.textContent)}var r=n.config.minTime!==undefined||n.config.minDate&&n.minDateHasTime&&n.latestSelectedDateObj&&Le(n.latestSelectedDateObj,n.config.minDate,true)===0;var s=n.config.maxTime!==undefined||n.config.maxDate&&n.maxDateHasTime&&n.latestSelectedDateObj&&Le(n.latestSelectedDateObj,n.config.maxDate,true)===0;if(n.config.maxTime!==undefined&&n.config.minTime!==undefined&&n.config.minTime>n.config.maxTime){var o=Ne(n.config.minTime.getHours(),n.config.minTime.getMinutes(),n.config.minTime.getSeconds());var a=Ne(n.config.maxTime.getHours(),n.config.maxTime.getMinutes(),n.config.maxTime.getSeconds());var u=Ne(t,e,i);if(u>a&&u<o){var l=He(o);t=l[0];e=l[1];i=l[2]}}else{if(s){var c=n.config.maxTime!==undefined?n.config.maxTime:n.config.maxDate;t=Math.min(t,c.getHours());if(t===c.getHours())e=Math.min(e,c.getMinutes());if(e===c.getMinutes())i=Math.min(i,c.getSeconds())}if(r){var d=n.config.minTime!==undefined?n.config.minTime:n.config.minDate;t=Math.max(t,d.getHours());if(t===d.getHours()&&e<d.getMinutes())e=d.getMinutes();if(e===d.getMinutes())i=Math.max(i,d.getSeconds())}}h(t,e,i)}function d(t){var e=t||n.latestSelectedDateObj;if(e&&e instanceof Date){h(e.getHours(),e.getMinutes(),e.getSeconds())}}function h(t,e,i){if(n.latestSelectedDateObj!==undefined){n.latestSelectedDateObj.setHours(t%24,e,i||0,0)}if(!n.hourElement||!n.minuteElement||n.isMobile)return;n.hourElement.value=ge(!n.config.time_24hr?(12+t)%12+12*ye(t%12===0):t);n.minuteElement.value=ge(e);if(n.amPM!==undefined)n.amPM.textContent=n.l10n.amPM[ye(t>=12)];if(n.secondElement!==undefined)n.secondElement.value=ge(i)}function p(t){var e=Ae(t);var n=parseInt(e.value)+(t.delta||0);if(n/1e3>1||t.key==="Enter"&&!/[^\d]/.test(n.toString())){B(n)}}function v(t,e,i,r){if(e instanceof Array)return e.forEach((function(e){return v(t,e,i,r)}));if(t instanceof Array)return t.forEach((function(t){return v(t,e,i,r)}));t.addEventListener(e,i,r);n._handlers.push({remove:function(){return t.removeEventListener(e,i,r)}})}function m(){wt("onChange")}function w(){if(n.config.wrap){["open","close","toggle","clear"].forEach((function(t){Array.prototype.forEach.call(n.element.querySelectorAll("[data-"+t+"]"),(function(e){return v(e,"click",n[t])}))}))}if(n.isMobile){vt();return}var t=xe(Q,50);n._debouncedChange=xe(m,Ve);if(n.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent))v(n.daysContainer,"mouseover",(function(t){if(n.config.mode==="range")U(Ae(t))}));v(n._input,"keydown",J);if(n.calendarContainer!==undefined){v(n.calendarContainer,"keydown",J)}if(!n.config.inline&&!n.config.static)v(window,"resize",t);if(window.ontouchstart!==undefined)v(window.document,"touchstart",R);else v(window.document,"mousedown",R);v(window.document,"focus",R,{capture:true});if(n.config.clickOpens===true){v(n._input,"focus",n.open);v(n._input,"click",n.open)}if(n.daysContainer!==undefined){v(n.monthNav,"click",Mt);v(n.monthNav,["keyup","increment"],p);v(n.daysContainer,"click",ot)}if(n.timeContainer!==undefined&&n.minuteElement!==undefined&&n.hourElement!==undefined){var e=function(t){return Ae(t).select()};v(n.timeContainer,["increment"],u);v(n.timeContainer,"blur",u,{capture:true});v(n.timeContainer,"click",g);v([n.hourElement,n.minuteElement],["focus","click"],e);if(n.secondElement!==undefined)v(n.secondElement,"focus",(function(){return n.secondElement&&n.secondElement.select()}));if(n.amPM!==undefined){v(n.amPM,"click",(function(t){u(t)}))}}if(n.config.allowInput){v(n._input,"blur",W)}}function b(t,e){var i=t!==undefined?n.parseDate(t):n.latestSelectedDateObj||(n.config.minDate&&n.config.minDate>n.now?n.config.minDate:n.config.maxDate&&n.config.maxDate<n.now?n.config.maxDate:n.now);var r=n.currentYear;var s=n.currentMonth;try{if(i!==undefined){n.currentYear=i.getFullYear();n.currentMonth=i.getMonth()}}catch(t){t.message="Invalid date supplied: "+i;n.config.errorHandler(t)}if(e&&n.currentYear!==r){wt("onYearChange");j()}if(e&&(n.currentYear!==r||n.currentMonth!==s)){wt("onMonthChange")}n.redraw()}function g(t){var e=Ae(t);if(~e.className.indexOf("arrow"))y(t,e.classList.contains("arrowUp")?1:-1)}function y(t,e,n){var i=t&&Ae(t);var r=n||i&&i.parentNode&&i.parentNode.firstChild;var s=bt("increment");s.delta=e;r&&r.dispatchEvent(s)}function x(){var t=window.document.createDocumentFragment();n.calendarContainer=Me("div","flatpickr-calendar");n.calendarContainer.tabIndex=-1;if(!n.config.noCalendar){t.appendChild(E());n.innerContainer=Me("div","flatpickr-innerContainer");if(n.config.weekNumbers){var e=L(),i=e.weekWrapper,r=e.weekNumbers;n.innerContainer.appendChild(i);n.weekNumbers=r;n.weekWrapper=i}n.rContainer=Me("div","flatpickr-rContainer");n.rContainer.appendChild(_());if(!n.daysContainer){n.daysContainer=Me("div","flatpickr-days");n.daysContainer.tabIndex=-1}A();n.rContainer.appendChild(n.daysContainer);n.innerContainer.appendChild(n.rContainer);t.appendChild(n.innerContainer)}if(n.config.enableTime){t.appendChild(P())}Ce(n.calendarContainer,"rangeMode",n.config.mode==="range");Ce(n.calendarContainer,"animate",n.config.animate===true);Ce(n.calendarContainer,"multiMonth",n.config.showMonths>1);n.calendarContainer.appendChild(t);var s=n.config.appendTo!==undefined&&n.config.appendTo.nodeType!==undefined;if(n.config.inline||n.config.static){n.calendarContainer.classList.add(n.config.inline?"inline":"static");if(n.config.inline){if(!s&&n.element.parentNode)n.element.parentNode.insertBefore(n.calendarContainer,n._input.nextSibling);else if(n.config.appendTo!==undefined)n.config.appendTo.appendChild(n.calendarContainer)}if(n.config.static){var o=Me("div","flatpickr-wrapper");if(n.element.parentNode)n.element.parentNode.insertBefore(o,n.element);o.appendChild(n.element);if(n.altInput)o.appendChild(n.altInput);o.appendChild(n.calendarContainer)}}if(!n.config.static&&!n.config.inline)(n.config.appendTo!==undefined?n.config.appendTo:window.document.body).appendChild(n.calendarContainer)}function k(t,e,i,r){var s=V(e,true),o=Me("span",t,e.getDate().toString());o.dateObj=e;o.$i=r;o.setAttribute("aria-label",n.formatDate(e,n.config.ariaDateFormat));if(t.indexOf("hidden")===-1&&Le(e,n.now)===0){n.todayDateElem=o;o.classList.add("today");o.setAttribute("aria-current","date")}if(s){o.tabIndex=-1;if(gt(e)){o.classList.add("selected");n.selectedDateElem=o;if(n.config.mode==="range"){Ce(o,"startRange",n.selectedDates[0]&&Le(e,n.selectedDates[0],true)===0);Ce(o,"endRange",n.selectedDates[1]&&Le(e,n.selectedDates[1],true)===0);if(t==="nextMonthDay")o.classList.add("inRange")}}}else{o.classList.add("flatpickr-disabled")}if(n.config.mode==="range"){if(yt(e)&&!gt(e))o.classList.add("inRange")}if(n.weekNumbers&&n.config.showMonths===1&&t!=="prevMonthDay"&&r%7===6){n.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+n.config.getWeek(e)+"</span>")}wt("onDayCreate",o);return o}function C(t){t.focus();if(n.config.mode==="range")U(t)}function M(t){var e=t>0?0:n.config.showMonths-1;var i=t>0?n.config.showMonths:-1;for(var r=e;r!=i;r+=t){var s=n.daysContainer.children[r];var o=t>0?0:s.children.length-1;var a=t>0?s.children.length:-1;for(var u=o;u!=a;u+=t){var f=s.children[u];if(f.className.indexOf("hidden")===-1&&V(f.dateObj))return f}}return undefined}function D(t,e){var i=t.className.indexOf("Month")===-1?t.dateObj.getMonth():n.currentMonth;var r=e>0?n.config.showMonths:-1;var s=e>0?1:-1;for(var o=i-n.currentMonth;o!=r;o+=s){var a=n.daysContainer.children[o];var u=i-n.currentMonth===o?t.$i+e:e<0?a.children.length-1:0;var f=a.children.length;for(var l=u;l>=0&&l<f&&l!=(e>0?f:-1);l+=s){var c=a.children[l];if(c.className.indexOf("hidden")===-1&&V(c.dateObj)&&Math.abs(t.$i-l)>=Math.abs(e))return C(c)}}n.changeMonth(s);S(M(s),0);return undefined}function S(t,e){var i=s();var r=q(i||document.body);var o=t!==undefined?t:r?i:n.selectedDateElem!==undefined&&q(n.selectedDateElem)?n.selectedDateElem:n.todayDateElem!==undefined&&q(n.todayDateElem)?n.todayDateElem:M(e>0?1:-1);if(o===undefined){n._input.focus()}else if(!r){C(o)}else{D(o,e)}}function T(t,e){var i=(new Date(t,e,1).getDay()-n.l10n.firstDayOfWeek+7)%7;var r=n.utils.getDaysInMonth((e-1+12)%12,t);var s=n.utils.getDaysInMonth(e,t),o=window.document.createDocumentFragment(),a=n.config.showMonths>1,u=a?"prevMonthDay hidden":"prevMonthDay",f=a?"nextMonthDay hidden":"nextMonthDay";var l=r+1-i,c=0;for(;l<=r;l++,c++){o.appendChild(k("flatpickr-day "+u,new Date(t,e-1,l),l,c))}for(l=1;l<=s;l++,c++){o.appendChild(k("flatpickr-day",new Date(t,e,l),l,c))}for(var d=s+1;d<=42-i&&(n.config.showMonths===1||c%7!==0);d++,c++){o.appendChild(k("flatpickr-day "+f,new Date(t,e+1,d%s),d,c))}var h=Me("div","dayContainer");h.appendChild(o);return h}function A(){if(n.daysContainer===undefined){return}De(n.daysContainer);if(n.weekNumbers)De(n.weekNumbers);var t=document.createDocumentFragment();for(var e=0;e<n.config.showMonths;e++){var i=new Date(n.currentYear,n.currentMonth,1);i.setMonth(n.currentMonth+e);t.appendChild(T(i.getFullYear(),i.getMonth()))}n.daysContainer.appendChild(t);n.days=n.daysContainer.firstChild;if(n.config.mode==="range"&&n.selectedDates.length===1){U()}}function j(){if(n.config.showMonths>1||n.config.monthSelectorType!=="dropdown")return;var t=function(t){if(n.config.minDate!==undefined&&n.currentYear===n.config.minDate.getFullYear()&&t<n.config.minDate.getMonth()){return false}return!(n.config.maxDate!==undefined&&n.currentYear===n.config.maxDate.getFullYear()&&t>n.config.maxDate.getMonth())};n.monthsDropdownContainer.tabIndex=-1;n.monthsDropdownContainer.innerHTML="";for(var e=0;e<12;e++){if(!t(e))continue;var i=Me("option","flatpickr-monthDropdown-month");i.value=new Date(n.currentYear,e).getMonth().toString();i.textContent=Oe(e,n.config.shorthandCurrentMonth,n.l10n);i.tabIndex=-1;if(n.currentMonth===e){i.selected=true}n.monthsDropdownContainer.appendChild(i)}}function O(){var t=Me("div","flatpickr-month");var e=window.document.createDocumentFragment();var i;if(n.config.showMonths>1||n.config.monthSelectorType==="static"){i=Me("span","cur-month")}else{n.monthsDropdownContainer=Me("select","flatpickr-monthDropdown-months");n.monthsDropdownContainer.setAttribute("aria-label",n.l10n.monthAriaLabel);v(n.monthsDropdownContainer,"change",(function(t){var e=Ae(t);var i=parseInt(e.value,10);n.changeMonth(i-n.currentMonth);wt("onMonthChange")}));j();i=n.monthsDropdownContainer}var r=Te("cur-year",{tabindex:"-1"});var s=r.getElementsByTagName("input")[0];s.setAttribute("aria-label",n.l10n.yearAriaLabel);if(n.config.minDate){s.setAttribute("min",n.config.minDate.getFullYear().toString())}if(n.config.maxDate){s.setAttribute("max",n.config.maxDate.getFullYear().toString());s.disabled=!!n.config.minDate&&n.config.minDate.getFullYear()===n.config.maxDate.getFullYear()}var o=Me("div","flatpickr-current-month");o.appendChild(i);o.appendChild(r);e.appendChild(o);t.appendChild(e);return{container:t,yearElement:s,monthElement:i}}function I(){De(n.monthNav);n.monthNav.appendChild(n.prevMonthNav);if(n.config.showMonths){n.yearElements=[];n.monthElements=[]}for(var t=n.config.showMonths;t--;){var e=O();n.yearElements.push(e.yearElement);n.monthElements.push(e.monthElement);n.monthNav.appendChild(e.container)}n.monthNav.appendChild(n.nextMonthNav)}function E(){n.monthNav=Me("div","flatpickr-months");n.yearElements=[];n.monthElements=[];n.prevMonthNav=Me("span","flatpickr-prev-month");n.prevMonthNav.innerHTML=n.config.prevArrow;n.nextMonthNav=Me("span","flatpickr-next-month");n.nextMonthNav.innerHTML=n.config.nextArrow;I();Object.defineProperty(n,"_hidePrevMonthArrow",{get:function(){return n.__hidePrevMonthArrow},set:function(t){if(n.__hidePrevMonthArrow!==t){Ce(n.prevMonthNav,"flatpickr-disabled",t);n.__hidePrevMonthArrow=t}}});Object.defineProperty(n,"_hideNextMonthArrow",{get:function(){return n.__hideNextMonthArrow},set:function(t){if(n.__hideNextMonthArrow!==t){Ce(n.nextMonthNav,"flatpickr-disabled",t);n.__hideNextMonthArrow=t}}});n.currentYearElement=n.yearElements[0];xt();return n.monthNav}function P(){n.calendarContainer.classList.add("hasTime");if(n.config.noCalendar)n.calendarContainer.classList.add("noCalendar");var t=Ye(n.config);n.timeContainer=Me("div","flatpickr-time");n.timeContainer.tabIndex=-1;var e=Me("span","flatpickr-time-separator",":");var i=Te("flatpickr-hour",{"aria-label":n.l10n.hourAriaLabel});n.hourElement=i.getElementsByTagName("input")[0];var r=Te("flatpickr-minute",{"aria-label":n.l10n.minuteAriaLabel});n.minuteElement=r.getElementsByTagName("input")[0];n.hourElement.tabIndex=n.minuteElement.tabIndex=-1;n.hourElement.value=ge(n.latestSelectedDateObj?n.latestSelectedDateObj.getHours():n.config.time_24hr?t.hours:l(t.hours));n.minuteElement.value=ge(n.latestSelectedDateObj?n.latestSelectedDateObj.getMinutes():t.minutes);n.hourElement.setAttribute("step",n.config.hourIncrement.toString());n.minuteElement.setAttribute("step",n.config.minuteIncrement.toString());n.hourElement.setAttribute("min",n.config.time_24hr?"0":"1");n.hourElement.setAttribute("max",n.config.time_24hr?"23":"12");n.hourElement.setAttribute("maxlength","2");n.minuteElement.setAttribute("min","0");n.minuteElement.setAttribute("max","59");n.minuteElement.setAttribute("maxlength","2");n.timeContainer.appendChild(i);n.timeContainer.appendChild(e);n.timeContainer.appendChild(r);if(n.config.time_24hr)n.timeContainer.classList.add("time24hr");if(n.config.enableSeconds){n.timeContainer.classList.add("hasSeconds");var s=Te("flatpickr-second");n.secondElement=s.getElementsByTagName("input")[0];n.secondElement.value=ge(n.latestSelectedDateObj?n.latestSelectedDateObj.getSeconds():t.seconds);n.secondElement.setAttribute("step",n.minuteElement.getAttribute("step"));n.secondElement.setAttribute("min","0");n.secondElement.setAttribute("max","59");n.secondElement.setAttribute("maxlength","2");n.timeContainer.appendChild(Me("span","flatpickr-time-separator",":"));n.timeContainer.appendChild(s)}if(!n.config.time_24hr){n.amPM=Me("span","flatpickr-am-pm",n.l10n.amPM[ye((n.latestSelectedDateObj?n.hourElement.value:n.config.defaultHour)>11)]);n.amPM.title=n.l10n.toggleTitle;n.amPM.tabIndex=-1;n.timeContainer.appendChild(n.amPM)}return n.timeContainer}function _(){if(!n.weekdayContainer)n.weekdayContainer=Me("div","flatpickr-weekdays");else De(n.weekdayContainer);for(var t=n.config.showMonths;t--;){var e=Me("div","flatpickr-weekdaycontainer");n.weekdayContainer.appendChild(e)}F();return n.weekdayContainer}function F(){if(!n.weekdayContainer){return}var t=n.l10n.firstDayOfWeek;var e=Be(n.l10n.weekdays.shorthand);if(t>0&&t<e.length){e=Be(e.splice(t,e.length),e.splice(0,t))}for(var i=n.config.showMonths;i--;){n.weekdayContainer.children[i].innerHTML="\n      <span class='flatpickr-weekday'>\n        "+e.join("</span><span class='flatpickr-weekday'>")+"\n      </span>\n      "}}function L(){n.calendarContainer.classList.add("hasWeeks");var t=Me("div","flatpickr-weekwrapper");t.appendChild(Me("span","flatpickr-weekday",n.l10n.weekAbbreviation));var e=Me("div","flatpickr-weeks");t.appendChild(e);return{weekWrapper:t,weekNumbers:e}}function $(t,e){if(e===void 0){e=true}var i=e?t:t-n.currentMonth;if(i<0&&n._hidePrevMonthArrow===true||i>0&&n._hideNextMonthArrow===true)return;n.currentMonth+=i;if(n.currentMonth<0||n.currentMonth>11){n.currentYear+=n.currentMonth>11?1:-1;n.currentMonth=(n.currentMonth+12)%12;wt("onYearChange");j()}A();wt("onMonthChange");xt()}function N(t,e){if(t===void 0){t=true}if(e===void 0){e=true}n.input.value="";if(n.altInput!==undefined)n.altInput.value="";if(n.mobileInput!==undefined)n.mobileInput.value="";n.selectedDates=[];n.latestSelectedDateObj=undefined;if(e===true){n.currentYear=n._initialDate.getFullYear();n.currentMonth=n._initialDate.getMonth()}if(n.config.enableTime===true){var i=Ye(n.config),r=i.hours,s=i.minutes,o=i.seconds;h(r,s,o)}n.redraw();if(t)wt("onChange")}function H(){n.isOpen=false;if(!n.isMobile){if(n.calendarContainer!==undefined){n.calendarContainer.classList.remove("open")}if(n._input!==undefined){n._input.classList.remove("active")}}wt("onClose")}function z(){if(n.config!==undefined)wt("onDestroy");for(var t=n._handlers.length;t--;){n._handlers[t].remove()}n._handlers=[];if(n.mobileInput){if(n.mobileInput.parentNode)n.mobileInput.parentNode.removeChild(n.mobileInput);n.mobileInput=undefined}else if(n.calendarContainer&&n.calendarContainer.parentNode){if(n.config.static&&n.calendarContainer.parentNode){var e=n.calendarContainer.parentNode;e.lastChild&&e.removeChild(e.lastChild);if(e.parentNode){while(e.firstChild)e.parentNode.insertBefore(e.firstChild,e);e.parentNode.removeChild(e)}}else n.calendarContainer.parentNode.removeChild(n.calendarContainer)}if(n.altInput){n.input.type="text";if(n.altInput.parentNode)n.altInput.parentNode.removeChild(n.altInput);delete n.altInput}if(n.input){n.input.type=n.input._type;n.input.classList.remove("flatpickr-input");n.input.removeAttribute("readonly")}["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach((function(t){try{delete n[t]}catch(t){}}))}function Y(t){return n.calendarContainer.contains(t)}function R(t){if(n.isOpen&&!n.config.inline){var e=Ae(t);var i=Y(e);var r=e===n.input||e===n.altInput||n.element.contains(e)||t.path&&t.path.indexOf&&(~t.path.indexOf(n.input)||~t.path.indexOf(n.altInput));var s=!r&&!i&&!Y(t.relatedTarget);var o=!n.config.ignoredFocusElements.some((function(t){return t.contains(e)}));if(s&&o){if(n.config.allowInput){n.setDate(n._input.value,false,n.config.altInput?n.config.altFormat:n.config.dateFormat)}if(n.timeContainer!==undefined&&n.minuteElement!==undefined&&n.hourElement!==undefined&&n.input.value!==""&&n.input.value!==undefined){u()}n.close();if(n.config&&n.config.mode==="range"&&n.selectedDates.length===1)n.clear(false)}}}function B(t){if(!t||n.config.minDate&&t<n.config.minDate.getFullYear()||n.config.maxDate&&t>n.config.maxDate.getFullYear())return;var e=t,i=n.currentYear!==e;n.currentYear=e||n.currentYear;if(n.config.maxDate&&n.currentYear===n.config.maxDate.getFullYear()){n.currentMonth=Math.min(n.config.maxDate.getMonth(),n.currentMonth)}else if(n.config.minDate&&n.currentYear===n.config.minDate.getFullYear()){n.currentMonth=Math.max(n.config.minDate.getMonth(),n.currentMonth)}if(i){n.redraw();wt("onYearChange");j()}}function V(t,e){var i;if(e===void 0){e=true}var r=n.parseDate(t,undefined,e);if(n.config.minDate&&r&&Le(r,n.config.minDate,e!==undefined?e:!n.minDateHasTime)<0||n.config.maxDate&&r&&Le(r,n.config.maxDate,e!==undefined?e:!n.maxDateHasTime)>0)return false;if(!n.config.enable&&n.config.disable.length===0)return true;if(r===undefined)return false;var s=!!n.config.enable,o=(i=n.config.enable)!==null&&i!==void 0?i:n.config.disable;for(var a=0,u=void 0;a<o.length;a++){u=o[a];if(typeof u==="function"&&u(r))return s;else if(u instanceof Date&&r!==undefined&&u.getTime()===r.getTime())return s;else if(typeof u==="string"){var f=n.parseDate(u,undefined,true);return f&&f.getTime()===r.getTime()?s:!s}else if(typeof u==="object"&&r!==undefined&&u.from&&u.to&&r.getTime()>=u.from.getTime()&&r.getTime()<=u.to.getTime())return s}return!s}function q(t){if(n.daysContainer!==undefined)return t.className.indexOf("hidden")===-1&&t.className.indexOf("flatpickr-disabled")===-1&&n.daysContainer.contains(t);return false}function W(t){var e=t.target===n._input;var i=n._input.value.trimEnd()!==kt();if(e&&i&&!(t.relatedTarget&&Y(t.relatedTarget))){n.setDate(n._input.value,true,t.target===n.altInput?n.config.altFormat:n.config.dateFormat)}}function J(e){var i=Ae(e);var r=n.config.wrap?t.contains(i):i===n._input;var o=n.config.allowInput;var a=n.isOpen&&(!o||!r);var f=n.config.inline&&r&&!o;if(e.keyCode===13&&r){if(o){n.setDate(n._input.value,true,i===n.altInput?n.config.altFormat:n.config.dateFormat);n.close();return i.blur()}else{n.open()}}else if(Y(i)||a||f){var l=!!n.timeContainer&&n.timeContainer.contains(i);switch(e.keyCode){case 13:if(l){e.preventDefault();u();st()}else ot(e);break;case 27:e.preventDefault();st();break;case 8:case 46:if(r&&!n.config.allowInput){e.preventDefault();n.clear()}break;case 37:case 39:if(!l&&!r){e.preventDefault();var d=s();if(n.daysContainer!==undefined&&(o===false||d&&q(d))){var h=e.keyCode===39?1:-1;if(!e.ctrlKey)S(undefined,h);else{e.stopPropagation();$(h);S(M(1),0)}}}else if(n.hourElement)n.hourElement.focus();break;case 38:case 40:e.preventDefault();var p=e.keyCode===40?1:-1;if(n.daysContainer&&i.$i!==undefined||i===n.input||i===n.altInput){if(e.ctrlKey){e.stopPropagation();B(n.currentYear-p);S(M(1),0)}else if(!l)S(undefined,p*7)}else if(i===n.currentYearElement){B(n.currentYear-p)}else if(n.config.enableTime){if(!l&&n.hourElement)n.hourElement.focus();u(e);n._debouncedChange()}break;case 9:if(l){var v=[n.hourElement,n.minuteElement,n.secondElement,n.amPM].concat(n.pluginElements).filter((function(t){return t}));var m=v.indexOf(i);if(m!==-1){var w=v[m+(e.shiftKey?-1:1)];e.preventDefault();(w||n._input).focus()}}else if(!n.config.noCalendar&&n.daysContainer&&n.daysContainer.contains(i)&&e.shiftKey){e.preventDefault();n._input.focus()}break}}if(n.amPM!==undefined&&i===n.amPM){switch(e.key){case n.l10n.amPM[0].charAt(0):case n.l10n.amPM[0].charAt(0).toLowerCase():n.amPM.textContent=n.l10n.amPM[0];c();Ct();break;case n.l10n.amPM[1].charAt(0):case n.l10n.amPM[1].charAt(0).toLowerCase():n.amPM.textContent=n.l10n.amPM[1];c();Ct();break}}if(r||Y(i)){wt("onKeyDown",e)}}function U(t,e){if(e===void 0){e="flatpickr-day"}if(n.selectedDates.length!==1||t&&(!t.classList.contains(e)||t.classList.contains("flatpickr-disabled")))return;var i=t?t.dateObj.getTime():n.days.firstElementChild.dateObj.getTime(),r=n.parseDate(n.selectedDates[0],undefined,true).getTime(),s=Math.min(i,n.selectedDates[0].getTime()),o=Math.max(i,n.selectedDates[0].getTime());var a=false;var u=0,f=0;for(var l=s;l<o;l+=ze.DAY){if(!V(new Date(l),true)){a=a||l>s&&l<o;if(l<r&&(!u||l>u))u=l;else if(l>r&&(!f||l<f))f=l}}var c=Array.from(n.rContainer.querySelectorAll("*:nth-child(-n+"+n.config.showMonths+") > ."+e));c.forEach((function(e){var s=e.dateObj;var o=s.getTime();var l=u>0&&o<u||f>0&&o>f;if(l){e.classList.add("notAllowed");["inRange","startRange","endRange"].forEach((function(t){e.classList.remove(t)}));return}else if(a&&!l)return;["startRange","inRange","endRange","notAllowed"].forEach((function(t){e.classList.remove(t)}));if(t!==undefined){t.classList.add(i<=n.selectedDates[0].getTime()?"startRange":"endRange");if(r<i&&o===r)e.classList.add("startRange");else if(r>i&&o===r)e.classList.add("endRange");if(o>=u&&(f===0||o<=f)&&$e(o,r,i))e.classList.add("inRange")}}))}function Q(){if(n.isOpen&&!n.config.static&&!n.config.inline)et()}function K(t,e){if(e===void 0){e=n._positionElement}if(n.isMobile===true){if(t){t.preventDefault();var i=Ae(t);if(i){i.blur()}}if(n.mobileInput!==undefined){n.mobileInput.focus();n.mobileInput.click()}wt("onOpen");return}else if(n._input.disabled||n.config.inline){return}var r=n.isOpen;n.isOpen=true;if(!r){n.calendarContainer.classList.add("open");n._input.classList.add("active");wt("onOpen");et(e)}if(n.config.enableTime===true&&n.config.noCalendar===true){if(n.config.allowInput===false&&(t===undefined||!n.timeContainer.contains(t.relatedTarget))){setTimeout((function(){return n.hourElement.select()}),50)}}}function Z(t){return function(e){var i=n.config["_"+t+"Date"]=n.parseDate(e,n.config.dateFormat);var r=n.config["_"+(t==="min"?"max":"min")+"Date"];if(i!==undefined){n[t==="min"?"minDateHasTime":"maxDateHasTime"]=i.getHours()>0||i.getMinutes()>0||i.getSeconds()>0}if(n.selectedDates){n.selectedDates=n.selectedDates.filter((function(t){return V(t)}));if(!n.selectedDates.length&&t==="min")d(i);Ct()}if(n.daysContainer){rt();if(i!==undefined)n.currentYearElement[t]=i.getFullYear().toString();else n.currentYearElement.removeAttribute(t);n.currentYearElement.disabled=!!r&&i!==undefined&&r.getFullYear()===i.getFullYear()}}}function G(){var i=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"];var r=Re(Re({},JSON.parse(JSON.stringify(t.dataset||{}))),e);var s={};n.config.parseDate=r.parseDate;n.config.formatDate=r.formatDate;Object.defineProperty(n.config,"enable",{get:function(){return n.config._enable},set:function(t){n.config._enable=ct(t)}});Object.defineProperty(n.config,"disable",{get:function(){return n.config._disable},set:function(t){n.config._disable=ct(t)}});var a=r.mode==="time";if(!r.dateFormat&&(r.enableTime||a)){var u=Je.defaultConfig.dateFormat||we.dateFormat;s.dateFormat=r.noCalendar||a?"H:i"+(r.enableSeconds?":S":""):u+" H:i"+(r.enableSeconds?":S":"")}if(r.altInput&&(r.enableTime||a)&&!r.altFormat){var f=Je.defaultConfig.altFormat||we.altFormat;s.altFormat=r.noCalendar||a?"h:i"+(r.enableSeconds?":S K":" K"):f+(" h:i"+(r.enableSeconds?":S":"")+" K")}Object.defineProperty(n.config,"minDate",{get:function(){return n.config._minDate},set:Z("min")});Object.defineProperty(n.config,"maxDate",{get:function(){return n.config._maxDate},set:Z("max")});var l=function(t){return function(e){n.config[t==="min"?"_minTime":"_maxTime"]=n.parseDate(e,"H:i:S")}};Object.defineProperty(n.config,"minTime",{get:function(){return n.config._minTime},set:l("min")});Object.defineProperty(n.config,"maxTime",{get:function(){return n.config._maxTime},set:l("max")});if(r.mode==="time"){n.config.noCalendar=true;n.config.enableTime=true}Object.assign(n.config,s,r);for(var c=0;c<i.length;c++)n.config[i[c]]=n.config[i[c]]===true||n.config[i[c]]==="true";me.filter((function(t){return n.config[t]!==undefined})).forEach((function(t){n.config[t]=ke(n.config[t]||[]).map(o)}));n.isMobile=!n.config.disableMobile&&!n.config.inline&&n.config.mode==="single"&&!n.config.disable.length&&!n.config.enable&&!n.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var c=0;c<n.config.plugins.length;c++){var d=n.config.plugins[c](n)||{};for(var h in d){if(me.indexOf(h)>-1){n.config[h]=ke(d[h]).map(o).concat(n.config[h])}else if(typeof r[h]==="undefined")n.config[h]=d[h]}}if(!r.altInputClass){n.config.altInputClass=X().className+" "+n.config.altInputClass}wt("onParseConfig")}function X(){return n.config.wrap?t.querySelector("[data-input]"):t}function tt(){if(typeof n.config.locale!=="object"&&typeof Je.l10ns[n.config.locale]==="undefined")n.config.errorHandler(new Error("flatpickr: invalid locale "+n.config.locale));n.l10n=Re(Re({},Je.l10ns.default),typeof n.config.locale==="object"?n.config.locale:n.config.locale!=="default"?Je.l10ns[n.config.locale]:undefined);Ee.D="("+n.l10n.weekdays.shorthand.join("|")+")";Ee.l="("+n.l10n.weekdays.longhand.join("|")+")";Ee.M="("+n.l10n.months.shorthand.join("|")+")";Ee.F="("+n.l10n.months.longhand.join("|")+")";Ee.K="("+n.l10n.amPM[0]+"|"+n.l10n.amPM[1]+"|"+n.l10n.amPM[0].toLowerCase()+"|"+n.l10n.amPM[1].toLowerCase()+")";var i=Re(Re({},e),JSON.parse(JSON.stringify(t.dataset||{})));if(i.time_24hr===undefined&&Je.defaultConfig.time_24hr===undefined){n.config.time_24hr=n.l10n.time_24hr}n.formatDate=_e(n);n.parseDate=Fe({config:n.config,l10n:n.l10n})}function et(t){if(typeof n.config.position==="function"){return void n.config.position(n,t)}if(n.calendarContainer===undefined)return;wt("onPreCalendarPosition");var e=t||n._positionElement;var i=Array.prototype.reduce.call(n.calendarContainer.children,(function(t,e){return t+e.offsetHeight}),0),r=n.calendarContainer.offsetWidth,s=n.config.position.split(" "),o=s[0],a=s.length>1?s[1]:null,u=e.getBoundingClientRect(),f=window.innerHeight-u.bottom,l=o==="above"||o!=="below"&&f<i&&u.top>i;var c=window.pageYOffset+u.top+(!l?e.offsetHeight+2:-i-2);Ce(n.calendarContainer,"arrowTop",!l);Ce(n.calendarContainer,"arrowBottom",l);if(n.config.inline)return;var d=window.pageXOffset+u.left;var h=false;var p=false;if(a==="center"){d-=(r-u.width)/2;h=true}else if(a==="right"){d-=r-u.width;p=true}Ce(n.calendarContainer,"arrowLeft",!h&&!p);Ce(n.calendarContainer,"arrowCenter",h);Ce(n.calendarContainer,"arrowRight",p);var v=window.document.body.offsetWidth-(window.pageXOffset+u.right);var m=d+r>window.document.body.offsetWidth;var w=v+r>window.document.body.offsetWidth;Ce(n.calendarContainer,"rightMost",m);if(n.config.static)return;n.calendarContainer.style.top=c+"px";if(!m){n.calendarContainer.style.left=d+"px";n.calendarContainer.style.right="auto"}else if(!w){n.calendarContainer.style.left="auto";n.calendarContainer.style.right=v+"px"}else{var b=nt();if(b===undefined)return;var g=window.document.body.offsetWidth;var y=Math.max(0,g/2-r/2);var x=".flatpickr-calendar.centerMost:before";var k=".flatpickr-calendar.centerMost:after";var C=b.cssRules.length;var M="{left:"+u.left+"px;right:auto;}";Ce(n.calendarContainer,"rightMost",false);Ce(n.calendarContainer,"centerMost",true);b.insertRule(x+","+k+M,C);n.calendarContainer.style.left=y+"px";n.calendarContainer.style.right="auto"}}function nt(){var t=null;for(var e=0;e<document.styleSheets.length;e++){var n=document.styleSheets[e];if(!n.cssRules)continue;t=n;break}return t!=null?t:it()}function it(){var t=document.createElement("style");document.head.appendChild(t);return t.sheet}function rt(){if(n.config.noCalendar||n.isMobile)return;j();xt();A()}function st(){n._input.focus();if(window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==undefined){setTimeout(n.close,0)}else{n.close()}}function ot(t){t.preventDefault();t.stopPropagation();var e=function(t){return t.classList&&t.classList.contains("flatpickr-day")&&!t.classList.contains("flatpickr-disabled")&&!t.classList.contains("notAllowed")};var i=Se(Ae(t),e);if(i===undefined)return;var r=i;var s=n.latestSelectedDateObj=new Date(r.dateObj.getTime());var o=(s.getMonth()<n.currentMonth||s.getMonth()>n.currentMonth+n.config.showMonths-1)&&n.config.mode!=="range";n.selectedDateElem=r;if(n.config.mode==="single")n.selectedDates=[s];else if(n.config.mode==="multiple"){var a=gt(s);if(a)n.selectedDates.splice(parseInt(a),1);else n.selectedDates.push(s)}else if(n.config.mode==="range"){if(n.selectedDates.length===2){n.clear(false,false)}n.latestSelectedDateObj=s;n.selectedDates.push(s);if(Le(s,n.selectedDates[0],true)!==0)n.selectedDates.sort((function(t,e){return t.getTime()-e.getTime()}))}c();if(o){var u=n.currentYear!==s.getFullYear();n.currentYear=s.getFullYear();n.currentMonth=s.getMonth();if(u){wt("onYearChange");j()}wt("onMonthChange")}xt();A();Ct();if(!o&&n.config.mode!=="range"&&n.config.showMonths===1)C(r);else if(n.selectedDateElem!==undefined&&n.hourElement===undefined){n.selectedDateElem&&n.selectedDateElem.focus()}if(n.hourElement!==undefined)n.hourElement!==undefined&&n.hourElement.focus();if(n.config.closeOnSelect){var f=n.config.mode==="single"&&!n.config.enableTime;var l=n.config.mode==="range"&&n.selectedDates.length===2&&!n.config.enableTime;if(f||l){st()}}m()}var at={locale:[tt,F],showMonths:[I,a,_],minDate:[b],maxDate:[b],positionElement:[pt],clickOpens:[function(){if(n.config.clickOpens===true){v(n._input,"focus",n.open);v(n._input,"click",n.open)}else{n._input.removeEventListener("focus",n.open);n._input.removeEventListener("click",n.open)}}]};function ut(t,e){if(t!==null&&typeof t==="object"){Object.assign(n.config,t);for(var i in t){if(at[i]!==undefined)at[i].forEach((function(t){return t()}))}}else{n.config[t]=e;if(at[t]!==undefined)at[t].forEach((function(t){return t()}));else if(me.indexOf(t)>-1)n.config[t]=ke(e)}n.redraw();Ct(true)}function ft(t,e){var i=[];if(t instanceof Array)i=t.map((function(t){return n.parseDate(t,e)}));else if(t instanceof Date||typeof t==="number")i=[n.parseDate(t,e)];else if(typeof t==="string"){switch(n.config.mode){case"single":case"time":i=[n.parseDate(t,e)];break;case"multiple":i=t.split(n.config.conjunction).map((function(t){return n.parseDate(t,e)}));break;case"range":i=t.split(n.l10n.rangeSeparator).map((function(t){return n.parseDate(t,e)}));break}}else n.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(t)));n.selectedDates=n.config.allowInvalidPreload?i:i.filter((function(t){return t instanceof Date&&V(t,false)}));if(n.config.mode==="range")n.selectedDates.sort((function(t,e){return t.getTime()-e.getTime()}))}function lt(t,e,i){if(e===void 0){e=false}if(i===void 0){i=n.config.dateFormat}if(t!==0&&!t||t instanceof Array&&t.length===0)return n.clear(e);ft(t,i);n.latestSelectedDateObj=n.selectedDates[n.selectedDates.length-1];n.redraw();b(undefined,e);d();if(n.selectedDates.length===0){n.clear(false)}Ct(e);if(e)wt("onChange")}function ct(t){return t.slice().map((function(t){if(typeof t==="string"||typeof t==="number"||t instanceof Date){return n.parseDate(t,undefined,true)}else if(t&&typeof t==="object"&&t.from&&t.to)return{from:n.parseDate(t.from,undefined),to:n.parseDate(t.to,undefined)};return t})).filter((function(t){return t}))}function dt(){n.selectedDates=[];n.now=n.parseDate(n.config.now)||new Date;var t=n.config.defaultDate||((n.input.nodeName==="INPUT"||n.input.nodeName==="TEXTAREA")&&n.input.placeholder&&n.input.value===n.input.placeholder?null:n.input.value);if(t)ft(t,n.config.dateFormat);n._initialDate=n.selectedDates.length>0?n.selectedDates[0]:n.config.minDate&&n.config.minDate.getTime()>n.now.getTime()?n.config.minDate:n.config.maxDate&&n.config.maxDate.getTime()<n.now.getTime()?n.config.maxDate:n.now;n.currentYear=n._initialDate.getFullYear();n.currentMonth=n._initialDate.getMonth();if(n.selectedDates.length>0)n.latestSelectedDateObj=n.selectedDates[0];if(n.config.minTime!==undefined)n.config.minTime=n.parseDate(n.config.minTime,"H:i");if(n.config.maxTime!==undefined)n.config.maxTime=n.parseDate(n.config.maxTime,"H:i");n.minDateHasTime=!!n.config.minDate&&(n.config.minDate.getHours()>0||n.config.minDate.getMinutes()>0||n.config.minDate.getSeconds()>0);n.maxDateHasTime=!!n.config.maxDate&&(n.config.maxDate.getHours()>0||n.config.maxDate.getMinutes()>0||n.config.maxDate.getSeconds()>0)}function ht(){n.input=X();if(!n.input){n.config.errorHandler(new Error("Invalid input element specified"));return}n.input._type=n.input.type;n.input.type="text";n.input.classList.add("flatpickr-input");n._input=n.input;if(n.config.altInput){n.altInput=Me(n.input.nodeName,n.config.altInputClass);n._input=n.altInput;n.altInput.placeholder=n.input.placeholder;n.altInput.disabled=n.input.disabled;n.altInput.required=n.input.required;n.altInput.tabIndex=n.input.tabIndex;n.altInput.type="text";n.input.setAttribute("type","hidden");if(!n.config.static&&n.input.parentNode)n.input.parentNode.insertBefore(n.altInput,n.input.nextSibling)}if(!n.config.allowInput)n._input.setAttribute("readonly","readonly");pt()}function pt(){n._positionElement=n.config.positionElement||n._input}function vt(){var t=n.config.enableTime?n.config.noCalendar?"time":"datetime-local":"date";n.mobileInput=Me("input",n.input.className+" flatpickr-mobile");n.mobileInput.tabIndex=1;n.mobileInput.type=t;n.mobileInput.disabled=n.input.disabled;n.mobileInput.required=n.input.required;n.mobileInput.placeholder=n.input.placeholder;n.mobileFormatStr=t==="datetime-local"?"Y-m-d\\TH:i:S":t==="date"?"Y-m-d":"H:i:S";if(n.selectedDates.length>0){n.mobileInput.defaultValue=n.mobileInput.value=n.formatDate(n.selectedDates[0],n.mobileFormatStr)}if(n.config.minDate)n.mobileInput.min=n.formatDate(n.config.minDate,"Y-m-d");if(n.config.maxDate)n.mobileInput.max=n.formatDate(n.config.maxDate,"Y-m-d");if(n.input.getAttribute("step"))n.mobileInput.step=String(n.input.getAttribute("step"));n.input.type="hidden";if(n.altInput!==undefined)n.altInput.type="hidden";try{if(n.input.parentNode)n.input.parentNode.insertBefore(n.mobileInput,n.input.nextSibling)}catch(t){}v(n.mobileInput,"change",(function(t){n.setDate(Ae(t).value,false,n.mobileFormatStr);wt("onChange");wt("onClose")}))}function mt(t){if(n.isOpen===true)return n.close();n.open(t)}function wt(t,e){if(n.config===undefined)return;var i=n.config[t];if(i!==undefined&&i.length>0){for(var r=0;i[r]&&r<i.length;r++)i[r](n.selectedDates,n.input.value,n,e)}if(t==="onChange"){n.input.dispatchEvent(bt("change"));n.input.dispatchEvent(bt("input"))}}function bt(t){var e=document.createEvent("Event");e.initEvent(t,true,true);return e}function gt(t){for(var e=0;e<n.selectedDates.length;e++){var i=n.selectedDates[e];if(i instanceof Date&&Le(i,t)===0)return""+e}return false}function yt(t){if(n.config.mode!=="range"||n.selectedDates.length<2)return false;return Le(t,n.selectedDates[0])>=0&&Le(t,n.selectedDates[1])<=0}function xt(){if(n.config.noCalendar||n.isMobile||!n.monthNav)return;n.yearElements.forEach((function(t,e){var i=new Date(n.currentYear,n.currentMonth,1);i.setMonth(n.currentMonth+e);if(n.config.showMonths>1||n.config.monthSelectorType==="static"){n.monthElements[e].textContent=Oe(i.getMonth(),n.config.shorthandCurrentMonth,n.l10n)+" "}else{n.monthsDropdownContainer.value=i.getMonth().toString()}t.value=i.getFullYear().toString()}));n._hidePrevMonthArrow=n.config.minDate!==undefined&&(n.currentYear===n.config.minDate.getFullYear()?n.currentMonth<=n.config.minDate.getMonth():n.currentYear<n.config.minDate.getFullYear());n._hideNextMonthArrow=n.config.maxDate!==undefined&&(n.currentYear===n.config.maxDate.getFullYear()?n.currentMonth+1>n.config.maxDate.getMonth():n.currentYear>n.config.maxDate.getFullYear())}function kt(t){var e=t||(n.config.altInput?n.config.altFormat:n.config.dateFormat);return n.selectedDates.map((function(t){return n.formatDate(t,e)})).filter((function(t,e,i){return n.config.mode!=="range"||n.config.enableTime||i.indexOf(t)===e})).join(n.config.mode!=="range"?n.config.conjunction:n.l10n.rangeSeparator)}function Ct(t){if(t===void 0){t=true}if(n.mobileInput!==undefined&&n.mobileFormatStr){n.mobileInput.value=n.latestSelectedDateObj!==undefined?n.formatDate(n.latestSelectedDateObj,n.mobileFormatStr):""}n.input.value=kt(n.config.dateFormat);if(n.altInput!==undefined){n.altInput.value=kt(n.config.altFormat)}if(t!==false)wt("onValueUpdate")}function Mt(t){var e=Ae(t);var i=n.prevMonthNav.contains(e);var r=n.nextMonthNav.contains(e);if(i||r){$(i?-1:1)}else if(n.yearElements.indexOf(e)>=0){e.select()}else if(e.classList.contains("arrowUp")){n.changeYear(n.currentYear+1)}else if(e.classList.contains("arrowDown")){n.changeYear(n.currentYear-1)}}function Dt(t){t.preventDefault();var e=t.type==="keydown",i=Ae(t),r=i;if(n.amPM!==undefined&&i===n.amPM){n.amPM.textContent=n.l10n.amPM[ye(n.amPM.textContent===n.l10n.amPM[0])]}var s=parseFloat(r.getAttribute("min")),o=parseFloat(r.getAttribute("max")),a=parseFloat(r.getAttribute("step")),u=parseInt(r.value,10),f=t.delta||(e?t.which===38?1:-1:0);var l=u+a*f;if(typeof r.value!=="undefined"&&r.value.length===2){var c=r===n.hourElement,d=r===n.minuteElement;if(l<s){l=o+l+ye(!c)+(ye(c)&&ye(!n.amPM));if(d)y(undefined,-1,n.hourElement)}else if(l>o){l=r===n.hourElement?l-o-ye(!n.amPM):s;if(d)y(undefined,1,n.hourElement)}if(n.amPM&&c&&(a===1?l+u===23:Math.abs(l-u)>a)){n.amPM.textContent=n.l10n.amPM[ye(n.amPM.textContent===n.l10n.amPM[0])]}r.value=ge(l)}}r();return n}function We(t,e){var n=Array.prototype.slice.call(t).filter((function(t){return t instanceof HTMLElement}));var i=[];for(var r=0;r<n.length;r++){var s=n[r];try{if(s.getAttribute("data-fp-omit")!==null)continue;if(s._flatpickr!==undefined){s._flatpickr.destroy();s._flatpickr=undefined}s._flatpickr=qe(s,e||{});i.push(s._flatpickr)}catch(t){console.error(t)}}return i.length===1?i[0]:i}if(typeof HTMLElement!=="undefined"&&typeof HTMLCollection!=="undefined"&&typeof NodeList!=="undefined"){HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(t){return We(this,t)};HTMLElement.prototype.flatpickr=function(t){return We([this],t)}}var Je=function(t,e){if(typeof t==="string"){return We(window.document.querySelectorAll(t),e)}else if(t instanceof Node){return We([t],e)}else{return We(t,e)}};Je.defaultConfig={};Je.l10ns={en:Re({},be),default:Re({},be)};Je.localize=function(t){Je.l10ns.default=Re(Re({},Je.l10ns.default),t)};Je.setDefaults=function(t){Je.defaultConfig=Re(Re({},Je.defaultConfig),t)};Je.parseDate=Fe({});Je.formatDate=_e({});Je.compareDates=Le;if(typeof jQuery!=="undefined"&&typeof jQuery.fn!=="undefined"){jQuery.fn.flatpickr=function(t){return We(this,t)}}Date.prototype.fp_incr=function(t){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof t==="string"?parseInt(t,10):t))};if(typeof window!=="undefined"){window.flatpickr=Je}const Ue=':host{display:block}.answer{display:flex;align-items:center;justify-content:flex-end}.speech-bubble-triangle{display:flex;max-width:84%}.triangle-topright{border-top:7px solid #bfc1c7;border-right:7px solid transparent}.speech-bubble-answer{background:#e8f1f1;border:1px solid #bfc1c7;border-radius:10px 0px 10px 10px;padding:0.3125em}.speech-bubble-answer.date{display:flex}.answer-button{margin:0.3125em;border:1px solid #2b7371;background:#ffffff;border-radius:20px;color:#2b7371;padding:0.3125em 0.625em;font-weight:600}.answer-button.active,.answer-input.answered{background:#2b7371;color:#ffffff}.options-container{display:flex;flex-direction:row;flex-wrap:wrap}.answer-input{margin:0.0625em !important;border:1px solid #2b7371;border-radius:2px;padding-left:0.625em;padding-right:0.625em;color:#2b7371;text-align:right;background-color:#ffffff}.answer-input:focus-visible{border-color:#2b7371}input::-webkit-outer-spin-button,input::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type="number"]{-moz-appearance:textfield}.fade-in.left{transition:0.5s all ease-in-out;transform:translate3d(-50px, 0, 0);opacity:0}.fade-in.right{transition:0.5s all ease-in-out;transform:translate3d(50px, 0, 0);opacity:0}.fade-in.show{opacity:1;transform:translate3d(0, 0, 0)}.answer-input:disabled,.answer-button:disabled{opacity:.4}';const Qe=class{constructor(e){t(this,e);this.answer=n(this,"answer",7);this.revokeAnswer=n(this,"revokeAnswer",7);this.messages={};this.options=[];this.localDateAnswerValue=undefined;this.fragment=undefined;this.answerValue=undefined;this.controlDisabled=undefined;this.locale="hu";this.lastLocale="";this.isActive=false;this.isDateActive=false;this.showContent=false}async loadMessages(){if(this.locale!==this.lastLocale){this.lastLocale=this.locale;this.messages=await he(this.locale)}}handleAnswerValueChange(t){console.log("answerValue");this.numberAnswerValue=t+"";this.localNumberAnswerValue=t+"";this.dateAnswerValue=t;this.stringAnswerValue=t;this.yesButtonClass();this.noButtonClass();this.isActive=true;this.isDateActive=true}handleFragmentValueChange(t,e){console.log("old",e);console.log("new",t);this.showContent=false;if(this.fragment.type==="QuestionMenu"){this.options=[];for(let t=0;t<this.fragment.optionsExpert.length;t++){this.options.push(this.fragment.optionsLayman[t])}}console.log("handleFragmentValueChange",this.options);setTimeout((()=>{this.showContent=true;this.setFocus()}),1e3);console.log("fragment")}async componentWillLoad(){this.showContent=false;if(this.answerValue){this.numberAnswerValue=this.answerValue;this.localNumberAnswerValue=this.numberAnswerValue;this.dateAnswerValue=this.answerValue;this.stringAnswerValue=this.answerValue;this.yesButtonClass();this.noButtonClass()}if(this.fragment.type==="QuestionMenu"){for(let t=0;t<this.fragment.optionsExpert.length;t++){this.options.push(this.fragment.optionsLayman[t])}}setTimeout((()=>{this.showContent=true;this.setFocus()}),1e3);console.log("componentWillLoad",this.options);await this.loadMessages()}componentDidLoad(){console.log("componentDidLoad");const t=this.element.querySelector("#dateInput");if(t){this.datePicker=Je(t,{dateFormat:"Y-m-d",allowInput:true,clickOpens:false,disableMobile:true,onChange:(t,e)=>{this.handleDateChange(e)}})}}handleButtonClick(){console.log("isDateActive",this.isDateActive);this.datePicker.open()}setFocus(){setTimeout((()=>{console.log("setFocus");const t=this.element.querySelector("input");console.log("input",t);if(!t){console.log(this.element)}if(!(this.answerValue!==null&&this.answerValue!==undefined)){console.log("focus",t);if(t){t.focus()}else{const t=this.element.querySelector("button");if(t){t.focus()}}}}),1e3)}render(){const t="1.5em";const n="#2B7371";const i="0 0 512 512";const r="M152 24c0-13.3-10.7-24-24-24s-24 10.7-24 24V64H64C28.7 64 0 92.7 0 128v16 48V448c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V192 144 128c0-35.3-28.7-64-64-64H344V24c0-13.3-10.7-24-24-24s-24 10.7-24 24V64H152V24zM48 192H400V448c0 8.8-7.2 16-16 16H64c-8.8 0-16-7.2-16-16V192z";return e("div",{class:"step"},this.fragment.type!="Goal"&&e("div",null,e("step-question",{fragment:this.fragment,isActiveQuestion:!(this.answerValue!==null&&this.answerValue!==undefined)}),e("div",{class:`answer fade-in right ${this.showContent?"show":""}`},this.fragment.type==="QuestionMenu"&&e("div",{class:"speech-bubble-triangle"},e("span",{class:"speech-bubble-answer"},e("div",{class:"options-container"},this.options.map(((t,n)=>e("button",{class:{"answer-button":true,active:this.answerValue===n},disabled:this.controlDisabled,onClick:()=>this.menuAnswer(n)},e("div",null,t)))))),e("div",{class:"triangle-topright"})),this.fragment.type==="QuestionYesNo"&&e("div",{class:"speech-bubble-triangle"},e("span",{class:"speech-bubble-answer"},e("button",{class:{"answer-button":true,active:this.yesButtonClass()},disabled:this.controlDisabled,onClick:()=>this.yesNoAnswer("true")},this.messages["question-yes"]),e("button",{class:{"answer-button":true,active:this.noButtonClass()},disabled:this.controlDisabled,onClick:()=>this.yesNoAnswer("false")},this.messages["question-no"])),e("div",{class:"triangle-topright"})),this.fragment.type==="QuestionInteger"&&e("div",{class:"speech-bubble-triangle"},e("span",{class:"speech-bubble-answer"},e("form",{onSubmit:t=>{t.preventDefault();const e=t.target;this.numberAnswerValue=e.getElementsByTagName("input")[0].value;this.numberAnswer()}},e("input",{type:"number",inputMode:"numeric",min:"0",step:"1",class:{"answer-input":true,answered:this.isActive},value:this.localNumberAnswerValue,onInput:t=>this.onNumberInput(t),disabled:this.controlDisabled,onKeyDown:()=>this.setNumberActive(),style:{width:"8em"}}),e("input",{type:"submit",hidden:true}))),e("div",{class:"triangle-topright"})),this.fragment.type==="QuestionDecimal"&&e("div",{class:"speech-bubble-triangle"},e("span",{class:"speech-bubble-answer"},e("input",{type:"number",inputMode:"numeric",class:{"answer-input":true,answered:this.isActive},value:this.localNumberAnswerValue,onInput:t=>this.onNumberInput(t),disabled:this.controlDisabled,onKeyDown:t=>this.checkNumberInput(t),style:{width:"8em"}})),e("div",{class:"triangle-topright"})),this.fragment.type==="QuestionString"&&e("div",{class:"speech-bubble-triangle"},e("span",{class:"speech-bubble-answer"},e("input",{type:"text",class:{"answer-input":true,answered:this.answerValue===this.stringAnswerValue},value:this.stringAnswerValue,onInput:t=>this.stringAnswerValue=t.target.value,disabled:this.controlDisabled,style:{width:"15.5em"}})),e("div",{class:"triangle-topright"})),this.fragment.type==="QuestionDate"&&e("div",{class:"speech-bubble-triangle"},e("span",{class:"speech-bubble-answer date"},e("form",{id:"dateform",onSubmit:t=>{t.preventDefault();console.log("submit");this.dateAnswerValue=this.localDateAnswerValue;this.setDateActive();this.dateAnswer()},style:{marginRight:"0.625em"}},e("input",{type:"text",id:"dateInput",pattern:"\\d{4}-\\d{2}-\\d{2}",required:true,placeholder:"YYYY-MM-DD",value:this.localDateAnswerValue,class:{"answer-input":true,answered:this.isDateActive},disabled:this.controlDisabled,onInput:t=>this.onDateInput(t),onKeyDown:()=>this.setDateActive(),style:{width:"8em"}}),e("input",{type:"submit",hidden:true})),e("button",{id:"date",onClick:()=>this.handleButtonClick()},e("svg",{viewBox:i,width:t},e("path",{d:r,fill:n})))),e("div",{class:"triangle-topright"})))))}handleDateChange(t){this.setDateActive();const e=new Date(t);const n=e.getFullYear();const i=e.getMonth()+1;const r=e.getDate();this.localDateAnswerValue=`${n}-${this.padZero(i)}-${this.padZero(r)}`;this.dateAnswerValue=this.localDateAnswerValue;this.dateAnswer()}padZero(t){return t.toString().padStart(2,"0")}onDateInput(t){this.localDateAnswerValue=t.target.value;this.setDateActive()}setDateActive(){this.isDateActive=this.answerValue===this.dateAnswerValue&&this.localDateAnswerValue===this.dateAnswerValue;console.log("isDateActive,",this.isDateActive)}onNumberInput(t){this.localNumberAnswerValue=t.target.value;this.setNumberActive()}checkNumberInput(t){if(t.key==="Enter"||t.key==="NumpadEnter"){this.numberAnswerValue=t.target.value;this.numberAnswer()}this.setNumberActive()}setNumberActive(){this.isActive=this.answerValue===(this.numberAnswerValue+"").replace(",",".")&&(this.localNumberAnswerValue+"").replace(",",".")===this.numberAnswerValue;console.log("isActive,",this.isActive)}menuAnswer(t){if(this.answerValue===undefined){this.answerValue=t;this.fragment.answer=this.answerValue;this.answer.emit({answer:this.answerValue,iri:this.fragment.iri})}else{this.answerValue=t;this.fragment.answer=this.answerValue;this.revokeAnswer.emit({answer:this.answerValue,iri:this.fragment.iri})}}yesNoAnswer(t){if(this.answerValue===undefined){this.answerValue=t;this.fragment.answer=this.answerValue;this.answer.emit({answer:this.answerValue,iri:this.fragment.iri})}else{this.answerValue=t;this.fragment.answer=this.answerValue;this.revokeAnswer.emit({answer:this.answerValue,iri:this.fragment.iri})}this.yesButtonClass();this.noButtonClass()}numberAnswer(){if(!this.answerValue){if(this.numberAnswerValue){this.answerValue=this.numberAnswerValue.replace(",",".");this.fragment.answer=this.answerValue;this.answer.emit({answer:this.answerValue,iri:this.fragment.iri})}}else{if(this.numberAnswerValue){this.answerValue=this.numberAnswerValue.replace(",",".");this.fragment.answer=this.answerValue;this.revokeAnswer.emit({answer:this.answerValue,iri:this.fragment.iri})}}}stringAnswer(){if(!this.answerValue){if(this.stringAnswerValue){this.answerValue=this.stringAnswerValue;this.fragment.answer=this.answerValue;this.answer.emit({answer:this.answerValue,iri:this.fragment.iri})}}else{if(this.stringAnswerValue){this.answerValue=this.stringAnswerValue;this.fragment.answer=this.answerValue;this.revokeAnswer.emit({answer:this.answerValue,iri:this.fragment.iri})}}}dateAnswer(){if(!this.answerValue){if(this.dateAnswerValue){this.answerValue=this.dateAnswerValue;this.fragment.answer=this.answerValue;this.answer.emit({answer:this.answerValue,iri:this.fragment.iri})}}else{if(this.dateAnswerValue){this.answerValue=this.dateAnswerValue;this.fragment.answer=this.answerValue;this.revokeAnswer.emit({answer:this.answerValue,iri:this.fragment.iri})}}}yesButtonClass(){let t=this.answerValue+"";if(t==="undefined"||t==="null"){return false}return t==="true"}noButtonClass(){let t=this.answerValue+"";if(t==="undefined"||t==="null"){return false}return t==="false"}okButtonClass(){let t=this.answerValue+"";if(t==="undefined"||t==="null"){return"unselected-btn"}return"selected-btn"}get element(){return o(this)}static get watchers(){return{locale:["loadMessages"],answerValue:["handleAnswerValueChange"],fragment:["handleFragmentValueChange"]}}};Qe.style=Ue;const Ke=":host{display:block}.question{display:flex;align-items:center;margin-bottom:1.25em;margin-top:1.25em}.speech-bubble-triangle{display:flex;max-width:84%}.triangle-topleft{border-top:7px solid #bfc1c7;border-left:7px solid transparent}.speech-bubble-question{background:#ffffff;border:1px solid #bfc1c7;border-radius:0px 10px 10px 10px;padding:0.625em}.speech-bubble-question.active{background:#f5f4d8}.infoicon{margin-left:0.625em;color:#2b7371}.clickable{cursor:pointer}ion-popover.full-size{--width:calc(100vw - var(--page-margin) * 2);--box-shadow:0 5px 10px 0 rgba(0, 0, 0, 0.6);--border-radius:20px;--overflow:hidden;--width:calc(100%);--margin-left:auto;--margin-right:auto}ion-popover.full-size::part(content){margin:var(--page-margin);left:0;border-radius:10px}ion-popover.full-size::part(backdrop){background-color:var(--special-transparent)}ion-popover.full-size::part(arrow){display:none}ion-popover h1{margin:0 0 10px 0}ion-popover ion-content{--background:#ecebeb}ion-popover.warning ion-content{--background:var(--special-warning)}";const Ze=class{constructor(e){t(this,e);this.fragment=undefined;this.isActiveQuestion=undefined;this.showContent=false}handleFragmentValueChange(){this.showContent=false;setTimeout((()=>{this.showContent=true}),1e3);console.log("q-fragment")}hasTooltip(){return!!this.fragment.descriptionLayman}async componentWillLoad(){this.showContent=false;setTimeout((()=>{this.showContent=true}),200);console.log("componentWillLoad-q")}async presentPopover(t){if(this.fragment.descriptionLayman.trim()!==""){const e=`button-${this.fragment.iri}`;const n=document.getElementById(e);console.log(n);if(!n){return}const i=await h.create({component:"ion-popover",event:t,alignment:"center",translucent:true,showBackdrop:false,cssClass:"full-size",animated:true,componentProps:{}});const r=document.createElement("ion-content");r.classList.add("ion-padding");r.innerHTML=this.fragment.descriptionLayman;i.appendChild(r);await i.present()}}render(){const t="1.5em";const n="#2B7371";const i="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336h24V272H216c-13.3 0-24-10.7-24-24s10.7-24 24-24h48c13.3 0 24 10.7 24 24v88h8c13.3 0 24 10.7 24 24s-10.7 24-24 24H216c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z";const r="0 0 512 512";if(!this.hasTooltip()){return e("div",{class:`question fade-in left ${this.showContent?"show":""}`},e("div",{class:"speech-bubble-triangle"},e("div",{class:"triangle-topleft"}),e("span",{class:{"speech-bubble-question":true,active:this.isActiveQuestion},innerHTML:this.fragment.labelLayman})))}return e("div",{class:`question fade-in left ${this.showContent?"show":""}`},e("div",{class:"speech-bubble-triangle"},e("div",{class:"triangle-topleft"}),e("span",{class:{"speech-bubble-question":true,active:this.isActiveQuestion},innerHTML:this.fragment.labelLayman})),e("svg",{id:`button-${this.fragment.iri}`,class:"infoicon clickable",width:t,viewBox:r,onClick:t=>this.presentPopover(t)},e("path",{d:i,fill:n})))}static get watchers(){return{fragment:["handleFragmentValueChange"]}}};Ze.style=Ke;export{v as description_component,ae as dialog_component,fe as ion_content,ve as result_component,Qe as step_component,Ze as step_question};
//# sourceMappingURL=p-41b660f2.entry.js.map