import{r as t,h as e,d as n,e as i,f as r,H as o,i as a}from"./p-66a8649d.js";import{p as s}from"./p-868d65df.js";import{g as l,a as c}from"./p-3184ff59.js";import{c as f}from"./p-22318485.js";import{i as u}from"./p-506221fe.js";import{c as d,h}from"./p-0e4de1d0.js";import"./p-41d99575.js";import"./p-add30d46.js";import"./p-28e84784.js";const p=":host{display:block}.description-container{background:var(--background-pastell-bg);border:1px solid var(--brand-main-brand);border-radius:2px;padding:0.5625rem;margin-top:1.25rem}.fade-in.top{transition:0.5s all ease-in-out;transform:translate3d(0, -50px, 0);opacity:0}";const b=class{constructor(e){t(this,e);this.data=undefined;this.sessionName=undefined;this.showContent=false}setData(t){this.showContent=false;if(t){if(t.title){this.title=t.title}else{this.title=t.label}}this.data=t;setTimeout((()=>{this.showContent=true}),100);console.log("desc,setData")}render(){var t,n;return e("div",{class:`fade-in top ${this.showContent?"show":""}`},((t=this.data)===null||t===void 0?void 0:t.metadata.description)&&e("div",{class:"description-container",innerHTML:(n=this.data)===null||n===void 0?void 0:n.metadata.description}))}static get watchers(){return{data:["setData"]}}};b.style=p;function v(t){return typeof t==="function"}function m(t){const e=t=>{Error.call(t);t.stack=(new Error).stack};const n=t(e);n.prototype=Object.create(Error.prototype);n.prototype.constructor=n;return n}const g=m((t=>function e(n){t(this);this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map(((t,e)=>`${e+1}) ${t.toString()}`)).join("\n  ")}`:"";this.name="UnsubscriptionError";this.errors=n}));function w(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class k{constructor(t){this.initialTeardown=t;this.closed=false;this._parentage=null;this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=true;const{_parentage:e}=this;if(e){this._parentage=null;if(Array.isArray(e)){for(const t of e){t.remove(this)}}else{e.remove(this)}}const{initialTeardown:n}=this;if(v(n)){try{n()}catch(e){t=e instanceof g?e.errors:[e]}}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const e of i){try{C(e)}catch(e){t=t!==null&&t!==void 0?t:[];if(e instanceof g){t=[...t,...e.errors]}else{t.push(e)}}}}if(t){throw new g(t)}}}add(t){var e;if(t&&t!==this){if(this.closed){C(t)}else{if(t instanceof k){if(t.closed||t._hasParent(this)){return}t._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(t)}}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;if(e===t){this._parentage=null}else if(Array.isArray(e)){w(e,t)}}remove(t){const{_finalizers:e}=this;e&&w(e,t);if(t instanceof k){t._removeParent(this)}}}k.EMPTY=(()=>{const t=new k;t.closed=true;return t})();const y=k.EMPTY;function x(t){return t instanceof k||t&&"closed"in t&&v(t.remove)&&v(t.add)&&v(t.unsubscribe)}function C(t){if(v(t)){t()}else{t.unsubscribe()}}const D={onUnhandledError:null,onStoppedNotification:null,Promise:undefined,useDeprecatedSynchronousErrorHandling:false,useDeprecatedNextContext:false};const M={setTimeout(t,e,...n){const{delegate:i}=M;if(i===null||i===void 0?void 0:i.setTimeout){return i.setTimeout(t,e,...n)}return setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=M;return((e===null||e===void 0?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:undefined};function S(t){M.setTimeout((()=>{const{onUnhandledError:e}=D;if(e){e(t)}else{throw t}}))}function I(){}const T=(()=>A("C",undefined,undefined))();function R(t){return A("E",undefined,t)}function z(t){return A("N",t,undefined)}function A(t,e,n){return{kind:t,value:e,error:n}}function j(t){{t()}}class O extends k{constructor(t){super();this.isStopped=false;if(t){this.destination=t;if(x(t)){t.add(this)}}else{this.destination=$}}static create(t,e,n){return new F(t,e,n)}next(t){if(this.isStopped){N(z(t),this)}else{this._next(t)}}error(t){if(this.isStopped){N(R(t),this)}else{this.isStopped=true;this._error(t)}}complete(){if(this.isStopped){N(T,this)}else{this.isStopped=true;this._complete()}}unsubscribe(){if(!this.closed){this.isStopped=true;super.unsubscribe();this.destination=null}}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const E=Function.prototype.bind;function P(t,e){return E.call(t,e)}class L{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next){try{e.next(t)}catch(t){_(t)}}}error(t){const{partialObserver:e}=this;if(e.error){try{e.error(t)}catch(t){_(t)}}else{_(t)}}complete(){const{partialObserver:t}=this;if(t.complete){try{t.complete()}catch(t){_(t)}}}}class F extends O{constructor(t,e,n){super();let i;if(v(t)||!t){i={next:t!==null&&t!==void 0?t:undefined,error:e!==null&&e!==void 0?e:undefined,complete:n!==null&&n!==void 0?n:undefined}}else{let e;if(this&&D.useDeprecatedNextContext){e=Object.create(t);e.unsubscribe=()=>this.unsubscribe();i={next:t.next&&P(t.next,e),error:t.error&&P(t.error,e),complete:t.complete&&P(t.complete,e)}}else{i=t}}this.destination=new L(i)}}function _(t){{S(t)}}function W(t){throw t}function N(t,e){const{onStoppedNotification:n}=D;n&&M.setTimeout((()=>n(t,e)))}const $={closed:true,next:I,error:W,complete:I};const H=(()=>typeof Symbol==="function"&&Symbol.observable||"@@observable")();function B(t){return t}function Y(t){if(t.length===0){return B}if(t.length===1){return t[0]}return function e(n){return t.reduce(((t,e)=>e(t)),n)}}class q{constructor(t){if(t){this._subscribe=t}}lift(t){const e=new q;e.source=this;e.operator=t;return e}subscribe(t,e,n){const i=U(t)?t:new F(t,e,n);j((()=>{const{operator:t,source:e}=this;i.add(t?t.call(i,e):e?this._subscribe(i):this._trySubscribe(i))}));return i}_trySubscribe(t){try{return this._subscribe(t)}catch(e){t.error(e)}}forEach(t,e){e=J(e);return new e(((e,n)=>{const i=new F({next:e=>{try{t(e)}catch(t){n(t);i.unsubscribe()}},error:n,complete:e});this.subscribe(i)}))}_subscribe(t){var e;return(e=this.source)===null||e===void 0?void 0:e.subscribe(t)}[H](){return this}pipe(...t){return Y(t)(this)}toPromise(t){t=J(t);return new t(((t,e)=>{let n;this.subscribe((t=>n=t),(t=>e(t)),(()=>t(n)))}))}}q.create=t=>new q(t);function J(t){var e;return(e=t!==null&&t!==void 0?t:D.Promise)!==null&&e!==void 0?e:Promise}function V(t){return t&&v(t.next)&&v(t.error)&&v(t.complete)}function U(t){return t&&t instanceof O||V(t)&&x(t)}function K(t){return v(t===null||t===void 0?void 0:t.lift)}function Q(t){return e=>{if(K(e)){return e.lift((function(e){try{return t(e,this)}catch(t){this.error(t)}}))}throw new TypeError("Unable to lift unknown Observable type")}}function Z(t,e,n,i,r){return new G(t,e,n,i,r)}class G extends O{constructor(t,e,n,i,r,o){super(t);this.onFinalize=r;this.shouldUnsubscribe=o;this._next=e?function(n){try{e(n)}catch(e){t.error(e)}}:super._next;this._error=i?function(e){try{i(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:super._error;this._complete=n?function(){try{n()}catch(e){t.error(e)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe();!e&&((t=this.onFinalize)===null||t===void 0?void 0:t.call(this))}}}const X=m((t=>function e(){t(this);this.name="ObjectUnsubscribedError";this.message="object unsubscribed"}));class tt extends q{constructor(){super();this.closed=false;this.currentObservers=null;this.observers=[];this.isStopped=false;this.hasError=false;this.thrownError=null}lift(t){const e=new et(this,this);e.operator=t;return e}_throwIfClosed(){if(this.closed){throw new X}}next(t){j((()=>{this._throwIfClosed();if(!this.isStopped){if(!this.currentObservers){this.currentObservers=Array.from(this.observers)}for(const e of this.currentObservers){e.next(t)}}}))}error(t){j((()=>{this._throwIfClosed();if(!this.isStopped){this.hasError=this.isStopped=true;this.thrownError=t;const{observers:e}=this;while(e.length){e.shift().error(t)}}}))}complete(){j((()=>{this._throwIfClosed();if(!this.isStopped){this.isStopped=true;const{observers:t}=this;while(t.length){t.shift().complete()}}}))}unsubscribe(){this.isStopped=this.closed=true;this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){this._throwIfClosed();return super._trySubscribe(t)}_subscribe(t){this._throwIfClosed();this._checkFinalizedStatuses(t);return this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:e,isStopped:n,observers:i}=this;if(e||n){return y}this.currentObservers=null;i.push(t);return new k((()=>{this.currentObservers=null;w(i,t)}))}_checkFinalizedStatuses(t){const{hasError:e,thrownError:n,isStopped:i}=this;if(e){t.error(n)}else if(i){t.complete()}}asObservable(){const t=new q;t.source=this;return t}}tt.create=(t,e)=>new et(t,e);class et extends tt{constructor(t,e){super();this.destination=t;this.source=e}next(t){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.next)===null||n===void 0?void 0:n.call(e,t)}error(t){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.error)===null||n===void 0?void 0:n.call(e,t)}complete(){var t,e;(e=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||e===void 0?void 0:e.call(t)}_subscribe(t){var e,n;return(n=(e=this.source)===null||e===void 0?void 0:e.subscribe(t))!==null&&n!==void 0?n:y}}function nt(t){return t&&v(t.schedule)}function it(t){return t[t.length-1]}function rt(t){return v(it(t))?t.pop():undefined}function ot(t){return nt(it(t))?t.pop():undefined}function at(t,e,n,i){function r(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function a(t){try{l(i.next(t))}catch(t){o(t)}}function s(t){try{l(i["throw"](t))}catch(t){o(t)}}function l(t){t.done?n(t.value):r(t.value).then(a,s)}l((i=i.apply(t,e||[])).next())}))}function st(t){var e=typeof Symbol==="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length==="number")return{next:function(){if(t&&i>=t.length)t=void 0;return{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function lt(t){return this instanceof lt?(this.v=t,this):new lt(t)}function ct(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),r,o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){if(i[t])r[t]=function(e){return new Promise((function(n,i){o.push([t,e,n,i])>1||s(t,e)}))}}function s(t,e){try{l(i[t](e))}catch(t){u(o[0][3],t)}}function l(t){t.value instanceof lt?Promise.resolve(t.value.v).then(c,f):u(o[0][2],t)}function c(t){s("next",t)}function f(t){s("throw",t)}function u(t,e){if(t(e),o.shift(),o.length)s(o[0][0],o[0][1])}}function ft(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof st==="function"?st(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(e){n[e]=t[e]&&function(n){return new Promise((function(i,o){n=t[e](n),r(i,o,n.done,n.value)}))}}function r(t,e,n,i){Promise.resolve(i).then((function(e){t({value:e,done:n})}),e)}}const ut=t=>t&&typeof t.length==="number"&&typeof t!=="function";function dt(t){return v(t===null||t===void 0?void 0:t.then)}function ht(t){return v(t[H])}function pt(t){return Symbol.asyncIterator&&v(t===null||t===void 0?void 0:t[Symbol.asyncIterator])}function bt(t){return new TypeError(`You provided ${t!==null&&typeof t==="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function vt(){if(typeof Symbol!=="function"||!Symbol.iterator){return"@@iterator"}return Symbol.iterator}const mt=vt();function gt(t){return v(t===null||t===void 0?void 0:t[mt])}function wt(t){return ct(this,arguments,(function*e(){const n=t.getReader();try{while(true){const{value:t,done:e}=yield lt(n.read());if(e){return yield lt(void 0)}yield yield lt(t)}}finally{n.releaseLock()}}))}function kt(t){return v(t===null||t===void 0?void 0:t.getReader)}function yt(t){if(t instanceof q){return t}if(t!=null){if(ht(t)){return xt(t)}if(ut(t)){return Ct(t)}if(dt(t)){return Dt(t)}if(pt(t)){return St(t)}if(gt(t)){return Mt(t)}if(kt(t)){return It(t)}}throw bt(t)}function xt(t){return new q((e=>{const n=t[H]();if(v(n.subscribe)){return n.subscribe(e)}throw new TypeError("Provided object does not correctly implement Symbol.observable")}))}function Ct(t){return new q((e=>{for(let n=0;n<t.length&&!e.closed;n++){e.next(t[n])}e.complete()}))}function Dt(t){return new q((e=>{t.then((t=>{if(!e.closed){e.next(t);e.complete()}}),(t=>e.error(t))).then(null,S)}))}function Mt(t){return new q((e=>{for(const n of t){e.next(n);if(e.closed){return}}e.complete()}))}function St(t){return new q((e=>{Tt(t,e).catch((t=>e.error(t)))}))}function It(t){return St(wt(t))}function Tt(t,e){var n,i;var r,o;return at(this,void 0,void 0,(function*(){try{for(n=ft(t);i=yield n.next(),!i.done;){const t=i.value;e.next(t);if(e.closed){return}}}catch(t){r={error:t}}finally{try{if(i&&!i.done&&(o=n.return))yield o.call(n)}finally{if(r)throw r.error}}e.complete()}))}function Rt(t,e,n,i=0,r=false){const o=e.schedule((function(){n();if(r){t.add(this.schedule(null,i))}else{this.unsubscribe()}}),i);t.add(o);if(!r){return o}}function zt(t,e=0){return Q(((n,i)=>{n.subscribe(Z(i,(n=>Rt(i,t,(()=>i.next(n)),e)),(()=>Rt(i,t,(()=>i.complete()),e)),(n=>Rt(i,t,(()=>i.error(n)),e))))}))}function At(t,e=0){return Q(((n,i)=>{i.add(t.schedule((()=>n.subscribe(i)),e))}))}function jt(t,e){return yt(t).pipe(At(e),zt(e))}function Ot(t,e){return yt(t).pipe(At(e),zt(e))}function Et(t,e){return new q((n=>{let i=0;return e.schedule((function(){if(i===t.length){n.complete()}else{n.next(t[i++]);if(!n.closed){this.schedule()}}}))}))}function Pt(t,e){return new q((n=>{let i;Rt(n,e,(()=>{i=t[mt]();Rt(n,e,(()=>{let t;let e;try{({value:t,done:e}=i.next())}catch(t){n.error(t);return}if(e){n.complete()}else{n.next(t)}}),0,true)}));return()=>v(i===null||i===void 0?void 0:i.return)&&i.return()}))}function Lt(t,e){if(!t){throw new Error("Iterable cannot be null")}return new q((n=>{Rt(n,e,(()=>{const i=t[Symbol.asyncIterator]();Rt(n,e,(()=>{i.next().then((t=>{if(t.done){n.complete()}else{n.next(t.value)}}))}),0,true)}))}))}function Ft(t,e){return Lt(wt(t),e)}function _t(t,e){if(t!=null){if(ht(t)){return jt(t,e)}if(ut(t)){return Et(t,e)}if(dt(t)){return Ot(t,e)}if(pt(t)){return Lt(t,e)}if(gt(t)){return Pt(t,e)}if(kt(t)){return Ft(t,e)}}throw bt(t)}function Wt(t,e){return e?_t(t,e):yt(t)}function Nt(t,e){return Q(((n,i)=>{let r=0;n.subscribe(Z(i,(n=>{i.next(t.call(e,n,r++))})))}))}const{isArray:$t}=Array;function Ht(t,e){return $t(e)?t(...e):t(e)}function Bt(t){return Nt((e=>Ht(t,e)))}const{isArray:Yt}=Array;const{getPrototypeOf:qt,prototype:Jt,keys:Vt}=Object;function Ut(t){if(t.length===1){const e=t[0];if(Yt(e)){return{args:e,keys:null}}if(Kt(e)){const t=Vt(e);return{args:t.map((t=>e[t])),keys:t}}}return{args:t,keys:null}}function Kt(t){return t&&typeof t==="object"&&qt(t)===Jt}function Qt(t,e){return t.reduce(((t,n,i)=>(t[n]=e[i],t)),{})}function Zt(...t){const e=ot(t);const n=rt(t);const{args:i,keys:r}=Ut(t);if(i.length===0){return Wt([],e)}const o=new q(Gt(i,e,r?t=>Qt(r,t):B));return n?o.pipe(Bt(n)):o}function Gt(t,e,n=B){return i=>{Xt(e,(()=>{const{length:r}=t;const o=new Array(r);let a=r;let s=r;for(let l=0;l<r;l++){Xt(e,(()=>{const r=Wt(t[l],e);let c=false;r.subscribe(Z(i,(t=>{o[l]=t;if(!c){c=true;s--}if(!s){i.next(n(o.slice()))}}),(()=>{if(!--a){i.complete()}})))}),i)}}),i)}}function Xt(t,e,n){if(t){Rt(n,t,e)}else{e()}}class te{constructor(t,e,n,i,r,o){this.region=t;this.player_id=e;this.sex=n;this.education=i;this.birthyear=r;this.email=o}}const ee="https://emdir-web-devel.multilogic.hu";const ne="multilogic.hu";class ie{constructor(){this.serviceUrl=`${ee}/emerald/rest/api/v1/product-finder`}startWithIri(t,e,n,i){const r=fetch(`${this.serviceUrl}?stored=${i}`,{method:"POST",body:JSON.stringify({iri:t,lang:e,answers:n}),headers:{"Content-Type":"application/json"}}).then((t=>t.json()));const o=fetch(`${this.serviceUrl}/dialogByIri?iri=${t}&lang=${e}`).then((t=>t.json()));return Zt([r,o]).pipe(Nt((([t,e])=>({data:t,metadata:e}))))}startWithCaseId(t,e,n,i,r){const o=fetch(`${this.serviceUrl}?stored=${r}`,{method:"POST",body:JSON.stringify({caseId:t,date:e,lang:n,answers:i}),headers:{"Content-Type":"application/json"}}).then((t=>t.json()));const a=fetch(`${this.serviceUrl}/dialog?caseId=${t}&date=${e}`).then((t=>t.json()));return Zt([o,a]).pipe(Nt((([t,e])=>({data:t,metadata:e}))))}getSession(){return Wt(fetch(`${this.serviceUrl}/${this.sessionId}`).then((t=>t.json())))}answer(t){return Wt(fetch(`${this.serviceUrl}/${this.sessionId}/answers`,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((t=>t.json())))}revokeAnswer(t){return Wt(fetch(`${this.serviceUrl}/${this.sessionId}/answers`,{method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((t=>t.json())))}getDialogMetadata(t,e){return Wt(fetch(`${this.serviceUrl}/dialogByIri?iri=${t}&lang=${e}`).then((t=>t.json())))}}class re{constructor(){this.serviceUrl=`${ee}/emerald/rest/api/v1/analytics/`}sendConsultationData(t){return Wt(fetch(`${this.serviceUrl}/consultation`,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((t=>t.json())))}}class oe{constructor(t){this.host_domain=ne;this.player_id=t.player_id||12;this.region=t.region||0;this.age=(new Date).getFullYear()-t.birthyear||26;this.sex=t.sex||1;this.education=t.education||"higher";this.email=t.email||"tesztelek@ml.hu"}getBodyWithUsers(t){t.player_id=this.player_id;t.host_domain=this.host_domain;t.mail=this.email;var e;var n=t.goal.expert.substring(t.goal.expert.lastIndexOf("Elért pontszám: ")+15,t.goal.expert.lastIndexOf("Elért pontszám: ")+25);if(n.includes(".")){e=parseInt(n.substring(0,n.indexOf(".")))}else{e=parseInt(n)}t.score=e;t.region=this.region;t.sex=this.sex;t.age=this.age;t.education=this.education;return t}}const ae=async t=>{let e={};if(t==="en"){const t=await import("./p-e4ef16b5.js");e=t.default}else if(t==="hu"){const t=await import("./p-739b8f2b.js");e=t.default}return e};const se=".dialog-body{background:var(--background-light-bg);min-height:100vh;padding-right:0.9375rem;padding-left:0.9375rem;color:var(--text-normal-text);display:flex}.dialog-root{display:flex;flex-direction:column;background:var(--background-light-bg)}.content{flex:1 1 auto;overflow-y:auto}.steps{margin-bottom:2.5rem;overflow:hidden}";const le=class{async loadMessages(){if(this.locale!==this.lastLocale){this.lastLocale=this.locale;this.messages=await ae(this.locale)}}constructor(e){t(this,e);this.answer$=new tt;this.revoke$=new tt;this.startDate=Date.now();this.messages={};this.locale="hu";this.lastLocale="";this.caseId="";this.iri="";this.date="";this.player_id=undefined;this.education=undefined;this.sex=undefined;this.birthyear=undefined;this.region=undefined;this.email=undefined;this.params=new Map;this.dialogData=undefined;this.dialogMetadata=undefined;this.fragmentData=[];this.result=undefined;this.user=new te(this.region,this.player_id,this.sex,this.education,this.birthyear,this.email)}async componentWillLoad(){await this.loadMessages()}async componentDidLoad(){this.initSubscriptions();this.user=new te(this.region,this.player_id,this.sex,this.education,this.birthyear,this.email);this.dialogAsyncService=new ie;this.elasticService=new re;this.helperService=new oe(this.user);console.log("caseid:",this.caseId);console.log("user:",this.user);await this.startWithCaseId(this.caseId,this.date);await this.startWithIri(this.iri)}answersFromParams(){let t=[];console.log("params",this.params);let e=Object.keys(this.params).filter((t=>/^q_/.test(t)||/^qq_/.test(t)));e.forEach((e=>{t.push({iri:e,answer:this.params[e]})}));if(this.helperService.region!==null&&this.helperService.region!==undefined){t.push({iri:"qq_region",answer:this.helperService.region+""})}console.log("answers",t);return t}async startWithCaseId(t,e){if(t){if(!e){const t=new Date;e=t.toLocaleDateString("hu-HU").replace(/\./g,"").replace(/ /g,"-")}console.log("locale",this.locale);this.dialogAsyncService.startWithCaseId(t,e,this.locale,this.answersFromParams(),true).subscribe({next:t=>{this.dialogData=t.data;console.log("in call",this.dialogData);this.dialogMetadata=t.metadata;this.fragmentData=[...t.data.step.fragments];this.dialogAsyncService.sessionId=this.dialogData.sessionId;this.dialogAsyncService.dialogIri=this.dialogMetadata.iri;this.dialogAsyncService.endpointId=this.dialogData.endpointId;this.dialogAsyncService.getSession().subscribe((e=>{e.fragments.forEach((e=>{if(!t.data.step.fragments.map((t=>t.iri)).includes(e.iri)){e.isPre=true}}));e.fragments=e.fragments.filter((t=>{if(t.isPre){const e=t.iri;const n=e.lastIndexOf("/");const i=e.substring(n+1);return!/^qq_/.test(i)}return true}));this.fragmentData=[...e.fragments]}))},error:t=>console.error(t)})}}async startWithIri(t){if(t){this.dialogAsyncService.startWithIri(t,this.locale,[],true).subscribe({next:t=>{this.dialogData=t.data;console.log("in call",this.dialogData);this.dialogMetadata=t.metadata;this.fragmentData=[...t.data.step.fragments];this.dialogAsyncService.sessionId=this.dialogData.sessionId;this.dialogAsyncService.dialogIri=this.dialogMetadata.iri;this.dialogAsyncService.endpointId=this.dialogData.endpointId;this.dialogAsyncService.getSession().subscribe((e=>{e.fragments.forEach((e=>{if(!t.data.step.fragments.map((t=>t.iri)).includes(e.iri)){e.isPre=true}}));e.fragments=e.fragments.filter((t=>{if(t.isPre){const e=t.iri;const n=e.lastIndexOf("/");const i=e.substring(n+1);return!/^qq_/.test(i)}return true}));this.fragmentData=[...e.fragments]}))},error:t=>console.error(t)})}}initSubscriptions(){this.answer$.subscribe((t=>this.processNextQuestion(t)));this.revoke$.subscribe((t=>this.processRevoke(t)))}async presentPopover(){const t=await s.create({component:"ion-popover",alignment:"center",translucent:true,showBackdrop:false,cssClass:"full-size",animated:true,componentProps:{},dismissOnSelect:true});const e=document.createElement("ion-content");e.classList.add("ion-padding");e.innerHTML=this.messages["fatal-error"];t.appendChild(e);t.onDidDismiss().then((()=>{this.reloadPage()}));await t.present()}reloadPage(){location.reload()}processNextQuestion(t){if(t instanceof Response&&!t.ok){console.error(t);this.presentPopover();return}if(t.fragments.length===0){console.error("tudott hiba",t);this.presentPopover();return}if(t.fragments[t.fragments.length-1].type==="Goal"){this.result=t.fragments[t.fragments.length-1];this.endDate=Date.now()}console.log("before",this.fragmentData);this.fragmentData=[...this.fragmentData,...t.fragments];this.fragmentData=[...new Set(this.fragmentData)];console.log("after",this.fragmentData);if(this.helperService.player_id&&t.fragments[t.fragments.length-1].type==="Goal"){this.saveAuto()}this.scrollToLast()}processRevoke(t){this.result=null;let e=this.fragmentData.findIndex((e=>e.iri===t.revokeAnswerIri));console.log("before");this.fragmentData.forEach((t=>console.log(t)));this.fragmentData=[...this.fragmentData.slice(0,e+1),...t.fragments];console.log("after");this.fragmentData.forEach((t=>console.log(t)));if(t.fragments[t.fragments.length-1].type==="Goal"){this.result=Object.assign({},t.fragments[t.fragments.length-1]);this.endDate=Date.now();if(this.helperService.player_id){this.saveAuto()}}this.scrollToLast()}scrollToLast(){let t=document.getElementsByClassName("step");if(t.length>0){let e=document.getElementsByClassName("result-container");if(e.length>0){setTimeout((()=>{e[e.length-1].scrollIntoView()}),1e3)}else{setTimeout((()=>{t[t.length-1].scrollIntoView()}),50)}}}handleAnswer({detail:t}){console.log("handle answer",t);this.dialogAsyncService.answer(t).subscribe({next:t=>{console.log("res",t);this.answer$.next(t)},error:t=>{this.answer$.next(t)}})}handleRevoke({detail:t}){this.dialogAsyncService.revokeAnswer(t).subscribe({next:e=>{e.revokeAnswerIri=t.iri;this.revoke$.next(e)},error:t=>{this.revoke$.next(t)}})}saveAuto(){console.log("saveAuto");let t=this.saveDialog();t=this.helperService.getBodyWithUsers(t);console.log("beforesenddata");this.sendData(t)}saveDialog(){var t,e;let n={};n.lang=this.locale;if(this.dialogMetadata.metadata.title){n.title=this.dialogMetadata.metadata.title}else{n.title=this.dialogMetadata.label}if((t=this.dialogMetadata.metadata)===null||t===void 0?void 0:t.description){n.description=(e=this.dialogMetadata.metadata)===null||e===void 0?void 0:e.description}n.startDate=this.startDate;n.endDate=this.endDate;n.goal={expert:this.result.labelExpert,layman:this.result.labelLayman};n.session=this.dialogData.sessionId;n.model_id=new RegExp("xtext://resource/([a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12})").exec(this.dialogMetadata.iri)[0];let i=new Array;for(let t=0;t<this.fragmentData.length-1;++t){let e=this.fragmentData[t];let n=e.labelLayman;let r=e.label;let o=e.iri;let a;if(e.type==="QuestionMenu"){a=e.optionsLayman[e.answer]}else if(e.type==="QuestionYesNo"){if(this.locale==="en"){a=JSON.parse(e.answer)?"Yes":"No"}else{a=JSON.parse(e.answer)?"Igen":"Nem"}}else{a=e.answer}i.push({question:{layman:n,label:r,iri:o},answer:{layman:a}})}n.pairs=i;return n}async sendData(t){console.log("sendData",t);this.elasticService.sendConsultationData(t).subscribe({next:()=>{},error:t=>{console.log(t)}})}render(){var t;return e("div",{class:"dialog-body"},e("div",{class:"dialog-root content"},e("description-component",{data:this.dialogMetadata,sessionName:(t=this.dialogData)===null||t===void 0?void 0:t.sessionName}),e("div",{class:"steps"},this.fragmentData.map((t=>e("step-component",{key:`${this.locale}-${t}`,locale:this.locale,fragment:t,answerValue:t===null||t===void 0?void 0:t.answer,controlDisabled:t.isPre,onAnswer:t=>this.handleAnswer(t),onRevokeAnswer:t=>this.handleRevoke(t)})))),this.result&&e("result-component",{key:`${this.locale}-${this.result}`,locale:this.locale,resultData:this.result})))}static get watchers(){return{locale:["loadMessages"]}}};le.style=se;const ce=':host{--background:var(--ion-background-color, #fff);--color:var(--ion-text-color, #000);--padding-top:0px;--padding-bottom:0px;--padding-start:0px;--padding-end:0px;--keyboard-offset:0px;--offset-top:0px;--offset-bottom:0px;--overflow:auto;display:block;position:relative;flex:1;width:100%;height:100%;margin:0 !important;padding:0 !important;font-family:var(--ion-font-family, inherit);contain:size style}:host(.ion-color) .inner-scroll{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.outer-content){--background:var(--ion-color-step-50, #f2f2f2)}#background-content{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);position:absolute;background:var(--background)}.inner-scroll{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:calc(var(--padding-top) + var(--offset-top));padding-bottom:calc(var(--padding-bottom) + var(--keyboard-offset) + var(--offset-bottom));position:absolute;color:var(--color);box-sizing:border-box;overflow:hidden;touch-action:pan-x pan-y pinch-zoom}.scroll-y,.scroll-x{-webkit-overflow-scrolling:touch;z-index:0;will-change:scroll-position}.scroll-y{overflow-y:var(--overflow);overscroll-behavior-y:contain}.scroll-x{overflow-x:var(--overflow);overscroll-behavior-x:contain}.overscroll::before,.overscroll::after{position:absolute;width:1px;height:1px;content:""}.overscroll::before{bottom:-1px}.overscroll::after{top:-1px}:host(.content-sizing){display:flex;flex-direction:column;min-height:0;contain:none}:host(.content-sizing) .inner-scroll{position:relative;top:0;bottom:0;margin-top:calc(var(--offset-top) * -1);margin-bottom:calc(var(--offset-bottom) * -1)}.transition-effect{display:none;position:absolute;width:100%;height:100vh;opacity:0;pointer-events:none}:host(.content-ltr) .transition-effect{left:-100%;}:host(.content-rtl) .transition-effect{right:-100%;}.transition-cover{position:absolute;right:0;width:100%;height:100%;background:black;opacity:0.1}.transition-shadow{display:block;position:absolute;width:100%;height:100%;box-shadow:inset -9px 0 9px 0 rgba(0, 0, 100, 0.03)}:host(.content-ltr) .transition-shadow{right:0;}:host(.content-rtl) .transition-shadow{left:0;transform:scaleX(-1)}::slotted([slot=fixed]){position:absolute;transform:translateZ(0)}';const fe=class{constructor(e){t(this,e);this.ionScrollStart=n(this,"ionScrollStart",7);this.ionScroll=n(this,"ionScroll",7);this.ionScrollEnd=n(this,"ionScrollEnd",7);this.watchDog=null;this.isScrolling=false;this.lastScroll=0;this.queued=false;this.cTop=-1;this.cBottom=-1;this.isMainContent=true;this.resizeTimeout=null;this.detail={scrollTop:0,scrollLeft:0,type:"scroll",event:undefined,startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,data:undefined,isScrolling:true};this.color=undefined;this.fullscreen=false;this.forceOverscroll=undefined;this.scrollX=false;this.scrollY=true;this.scrollEvents=false}connectedCallback(){this.isMainContent=this.el.closest("ion-menu, ion-popover, ion-modal")===null}disconnectedCallback(){this.onScrollEnd()}onAppLoad(){this.resize()}onResize(){if(this.resizeTimeout){clearTimeout(this.resizeTimeout);this.resizeTimeout=null}this.resizeTimeout=setTimeout((()=>{if(this.el.offsetParent===null){return}this.resize()}),100)}shouldForceOverscroll(){const{forceOverscroll:t}=this;const e=l(this);return t===undefined?e==="ios"&&c("ios"):t}resize(){{if(this.fullscreen){i((()=>this.readDimensions()))}else if(this.cTop!==0||this.cBottom!==0){this.cTop=this.cBottom=0;r(this)}}}readDimensions(){const t=de(this.el);const e=Math.max(this.el.offsetTop,0);const n=Math.max(t.offsetHeight-e-this.el.offsetHeight,0);const i=e!==this.cTop||n!==this.cBottom;if(i){this.cTop=e;this.cBottom=n;r(this)}}onScroll(t){const e=Date.now();const n=!this.isScrolling;this.lastScroll=e;if(n){this.onScrollStart()}if(!this.queued&&this.scrollEvents){this.queued=true;i((e=>{this.queued=false;this.detail.event=t;he(this.detail,this.scrollEl,e,n);this.ionScroll.emit(this.detail)}))}}async getScrollElement(){if(!this.scrollEl){await new Promise((t=>f(this.el,t)))}return Promise.resolve(this.scrollEl)}async getBackgroundElement(){if(!this.backgroundContentEl){await new Promise((t=>f(this.el,t)))}return Promise.resolve(this.backgroundContentEl)}scrollToTop(t=0){return this.scrollToPoint(undefined,0,t)}async scrollToBottom(t=0){const e=await this.getScrollElement();const n=e.scrollHeight-e.clientHeight;return this.scrollToPoint(undefined,n,t)}async scrollByPoint(t,e,n){const i=await this.getScrollElement();return this.scrollToPoint(t+i.scrollLeft,e+i.scrollTop,n)}async scrollToPoint(t,e,n=0){const i=await this.getScrollElement();if(n<32){if(e!=null){i.scrollTop=e}if(t!=null){i.scrollLeft=t}return}let r;let o=0;const a=new Promise((t=>r=t));const s=i.scrollTop;const l=i.scrollLeft;const c=e!=null?e-s:0;const f=t!=null?t-l:0;const u=t=>{const e=Math.min(1,(t-o)/n)-1;const a=Math.pow(e,3)+1;if(c!==0){i.scrollTop=Math.floor(a*c+s)}if(f!==0){i.scrollLeft=Math.floor(a*f+l)}if(a<1){requestAnimationFrame(u)}else{r()}};requestAnimationFrame((t=>{o=t;u(t)}));return a}onScrollStart(){this.isScrolling=true;this.ionScrollStart.emit({isScrolling:true});if(this.watchDog){clearInterval(this.watchDog)}this.watchDog=setInterval((()=>{if(this.lastScroll<Date.now()-120){this.onScrollEnd()}}),100)}onScrollEnd(){if(this.watchDog)clearInterval(this.watchDog);this.watchDog=null;if(this.isScrolling){this.isScrolling=false;this.ionScrollEnd.emit({isScrolling:false})}}render(){const{isMainContent:t,scrollX:n,scrollY:i,el:r}=this;const a=u(r)?"rtl":"ltr";const s=l(this);const c=this.shouldForceOverscroll();const f=s==="ios";const p=t?"main":"div";this.resize();return e(o,{class:d(this.color,{[s]:true,"content-sizing":h("ion-popover",this.el),overscroll:c,[`content-${a}`]:true}),style:{"--offset-top":`${this.cTop}px`,"--offset-bottom":`${this.cBottom}px`}},e("div",{ref:t=>this.backgroundContentEl=t,id:"background-content",part:"background"}),e(p,{class:{"inner-scroll":true,"scroll-x":n,"scroll-y":i,overscroll:(n||i)&&c},ref:t=>this.scrollEl=t,onScroll:this.scrollEvents?t=>this.onScroll(t):undefined,part:"scroll"},e("slot",null)),f?e("div",{class:"transition-effect"},e("div",{class:"transition-cover"}),e("div",{class:"transition-shadow"})):null,e("slot",{name:"fixed"}))}get el(){return a(this)}};const ue=t=>{var e;if(t.parentElement){return t.parentElement}if((e=t.parentNode)===null||e===void 0?void 0:e.host){return t.parentNode.host}return null};const de=t=>{const e=t.closest("ion-tabs");if(e){return e}const n=t.closest("ion-app, ion-page, .ion-page, page-inner, .popover-content");if(n){return n}return ue(t)};const he=(t,e,n,i)=>{const r=t.currentX;const o=t.currentY;const a=t.currentTime;const s=e.scrollLeft;const l=e.scrollTop;const c=n-a;if(i){t.startTime=n;t.startX=s;t.startY=l;t.velocityX=t.velocityY=0}t.currentTime=n;t.currentX=t.scrollLeft=s;t.currentY=t.scrollTop=l;t.deltaX=s-t.startX;t.deltaY=l-t.startY;if(c>0&&c<100){const e=(s-r)/c;const n=(l-o)/c;t.velocityX=e*.7+t.velocityX*.3;t.velocityY=n*.7+t.velocityY*.3}};fe.style=ce;const pe=":host{display:block}.result-container{background:var(--background-pastell-bg);border:1px solid var(--brand-main-brand);border-radius:2px;padding:0.5625rem;display:flex;flex-direction:column;margin-bottom:1.25rem}.result-with-tag{display:flex;justify-content:space-between;margin-top:0.625rem}.fade-in.top{transition:0.5s all ease-in-out;transform:translate3d(0, -50px, 0);opacity:0}.fade-in.show{opacity:1;transform:translate3d(0, 0, 0)}";const be=class{constructor(e){t(this,e);this.tag="neutral";this.resultFailTags=["nem jogosult","not eligible","negatív","negative","fail"];this.resultSuccessTags=["jogosult","eligible","pozitív","positive","success"];this.messages={};this.resultData=undefined;this.locale="hu";this.lastLocale="";this.isDetailOpen=false;this.showContent=false}async loadMessages(){if(this.locale!==this.lastLocale){this.lastLocale=this.locale;this.messages=await ae(this.locale)}}async componentWillLoad(){console.log("componentWillLoad-result");this.showContent=false;this.resultD=Object.assign({},this.resultData);this.makeResultLabel("");this.setTag();this.makeResultLabel("layman");await this.loadMessages();setTimeout((()=>{this.showContent=true;this.setFocus()}),1e3)}setFocus(){setTimeout((()=>{console.log("setFocus result");const t=this.element.querySelector("div");t.focus();console.log("result focus element",t)}),1e3)}makeResultLabel(t){let e;switch(t){case"":e=this.resultD.label.split("...");break;case"expert":e=this.resultD.labelExpert.split("...");break;case"layman":e=this.resultD.labelLayman.split("...");break}this.result=e[0];this.details=e[1]!==undefined?[e[1]]:null;if(this.details){this.details=this.details[0].split("\n");this.details.shift();this.details.pop()}}setTag(){if(this.resultD.metadata){if(this.resultD.metadata.tag.length===0){this.tag="neutral"}else{this.resultD.metadata.tag.forEach((t=>{this.tag=this.resultFailTags.indexOf(t)!==-1?"negative":"";if(this.tag===""){this.tag=this.resultSuccessTags.indexOf(t)!==-1?"positive":"neutral"}}))}}}handleResultValueChange(){this.showContent=false;console.log("handleResultValueChangeresult",this.resultData);this.resultD=Object.assign({},this.resultData);this.makeResultLabel("");this.setTag();this.makeResultLabel("layman");setTimeout((()=>{this.showContent=true;this.setFocus()}),1e3)}toggleDetails(){this.isDetailOpen=!this.isDetailOpen}render(){const t="1.5em";const n="#2B7371";const i="M137.4 374.6c12.5 12.5 32.8 12.5 45.3 0l128-128c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8L32 192c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l128 128z";const r="M182.6 137.4c-12.5-12.5-32.8-12.5-45.3 0l-128 128c-9.2 9.2-11.9 22.9-6.9 34.9s16.6 19.8 29.6 19.8H288c12.9 0 24.6-7.8 29.6-19.8s2.2-25.7-6.9-34.9l-128-128z";const o="M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z";const a="M367.2 412.5L99.5 144.8C77.1 176.1 64 214.5 64 256c0 106 86 192 192 192c41.5 0 79.9-13.1 111.2-35.5zm45.3-45.3C434.9 335.9 448 297.5 448 256c0-106-86-192-192-192c-41.5 0-79.9 13.1-111.2 35.5L412.5 367.2zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256z";const s="0 0 512 512";const l="M36.8904 0.0493164L30.9054 5.2914L30.9467 8.92371L16.8302 21.224C16.4774 21.5422 16.496 22.1159 16.8715 22.5449C17.25 22.9773 17.8322 23.0671 18.1923 22.7513L32.1437 10.5748L36.0236 11.1526L42.0087 5.95182L36.9317 5.16757L36.8904 0.0493164ZM16.7064 6.61224C7.51058 6.61224 0.0720215 14.0921 0.0720215 23.2878C0.0720215 32.4836 7.51058 39.9222 16.7064 39.9222C25.9021 39.9222 33.382 32.4836 33.382 23.2878C33.382 20.1793 32.5161 17.2787 31.0292 14.7849L27.8922 17.5092C28.7739 19.2455 29.2543 21.2083 29.2543 23.2878C29.2543 30.3199 23.5733 36.0009 16.5412 36.0009C9.50919 36.0009 3.78688 30.3199 3.78688 23.2878C3.78688 16.2558 9.50919 10.5335 16.5412 10.5335C19.1249 10.5335 21.5128 11.3125 23.5169 12.6386L26.6539 9.91434C23.875 7.84239 20.4317 6.61224 16.7064 6.61224ZM16.5412 13.8356C11.363 13.9086 7.19918 18.1504 7.21281 23.3291C7.22656 28.5501 11.4853 32.7539 16.7064 32.7401C21.9274 32.7264 26.1311 28.5089 26.1173 23.2878C26.114 22.0152 25.8759 20.8059 25.4156 19.6968L24.0123 20.8526C24.258 21.6079 24.4228 22.4104 24.425 23.2466C24.4362 27.5305 20.9903 30.9952 16.7064 31.0065C12.4224 31.0177 8.9577 27.5718 8.94642 23.2878C8.93519 19.0386 12.3337 15.5466 16.5825 15.4866H16.6651C17.7036 15.4839 18.691 15.6945 19.5957 16.0645L20.9578 14.8675C19.6541 14.1947 18.1889 13.8315 16.6238 13.8356H16.5412ZM16.5 18.7475C16.2329 18.7624 15.9665 18.8159 15.7157 18.8713C14.8472 19.063 14.0843 19.4927 13.4868 20.1096C12.8893 20.7264 12.4629 21.5042 12.2898 22.3798C12.2315 22.6709 12.2064 22.9796 12.2072 23.2878C12.2081 23.5986 12.2294 23.9028 12.2898 24.1959C12.4113 24.7817 12.6666 25.3276 12.9915 25.8057C13.3147 26.2849 13.7104 26.6793 14.1885 27.0027C14.9057 27.4878 15.774 27.7894 16.7064 27.787C17.2628 27.7855 17.7826 27.686 18.2749 27.498C18.6073 27.3711 18.9344 27.201 19.2242 27.0027C19.4727 26.8326 19.6749 26.6398 19.8846 26.4248C20.0877 26.2206 20.2601 26.0043 20.4212 25.7644C20.7446 25.2814 21.004 24.7425 21.1229 24.1547C21.177 23.8872 21.2021 23.6106 21.2055 23.3291L19.637 24.6912C18.8341 25.3973 17.2442 24.865 16.0459 23.4942C14.8573 22.1346 14.5616 20.4953 15.3442 19.7794L16.5 18.7475Z";return e("div",{class:`result-container fade-in top ${this.showContent?"show":""}`},e("div",{style:{alignSelf:"center"}},e("svg",{width:"43",height:"40",viewBox:"0 0 43 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e("g",{"clip-path":"url(#clip0_1531_83)"},e("path",{d:l,fill:n})),e("defs",null,e("clipPath",{id:"clip0_1531_83"},e("rect",{width:"42.0638",height:"40",fill:"white"}))))),e("div",{class:"result-with-tag"},e("div",{innerHTML:this.result}),this.tag==="positive"&&e("div",null,e("svg",{viewBox:s,width:t},e("path",{d:o,fill:n}))),this.tag==="negative"&&e("div",null,e("svg",{viewBox:s,width:t},e("path",{d:a,fill:"#FD1313"})))),this.details&&e("div",{style:{marginTop:"0.625em"}},e("span",{class:"clickable",style:{color:"#2B7371",fontWeight:"600",marginRight:"0.9375em"},onClick:()=>this.toggleDetails()},this.messages["result-more"]),!this.isDetailOpen?e("svg",{class:"clickable",width:t,viewBox:s,onClick:()=>this.toggleDetails()},e("path",{d:i,fill:n})):e("svg",{class:"clickable",width:t,viewBox:s,onClick:()=>this.toggleDetails()},e("path",{d:r,fill:n}))),this.isDetailOpen&&e("div",{style:{marginTop:"0.625em"}},e("ul",{style:{marginBottom:"0"}},this.details.map((t=>e("li",{innerHTML:t}))))))}get element(){return a(this)}static get watchers(){return{locale:["loadMessages"],resultData:["handleResultValueChange"]}}};be.style=pe;var ve=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"];var me={_disable:[],allowInput:false,allowInvalidPreload:false,altFormat:"F j, Y",altInput:false,altInputClass:"form-control input",animate:typeof window==="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:true,clickOpens:true,closeOnSelect:true,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:false,enableSeconds:false,enableTime:false,errorHandler:function(t){return typeof console!=="undefined"&&console.warn(t)},getWeek:function(t){var e=new Date(t.getTime());e.setHours(0,0,0,0);e.setDate(e.getDate()+3-(e.getDay()+6)%7);var n=new Date(e.getFullYear(),0,4);return 1+Math.round(((e.getTime()-n.getTime())/864e5-3+(n.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:false,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:false,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:undefined,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:false,showMonths:1,static:false,time_24hr:false,weekNumbers:false,wrap:false};var ge={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(t){var e=t%100;if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:false};var we=function(t,e){if(e===void 0){e=2}return("000"+t).slice(e*-1)};var ke=function(t){return t===true?1:0};function ye(t,e){var n;return function(){var i=this;var r=arguments;clearTimeout(n);n=setTimeout((function(){return t.apply(i,r)}),e)}}var xe=function(t){return t instanceof Array?t:[t]};function Ce(t,e,n){if(n===true)return t.classList.add(e);t.classList.remove(e)}function De(t,e,n){var i=window.document.createElement(t);e=e||"";n=n||"";i.className=e;if(n!==undefined)i.textContent=n;return i}function Me(t){while(t.firstChild)t.removeChild(t.firstChild)}function Se(t,e){if(e(t))return t;else if(t.parentNode)return Se(t.parentNode,e);return undefined}function Ie(t,e){var n=De("div","numInputWrapper"),i=De("input","numInput "+t),r=De("span","arrowUp"),o=De("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1){i.type="number"}else{i.type="text";i.pattern="\\d*"}if(e!==undefined)for(var a in e)i.setAttribute(a,e[a]);n.appendChild(i);n.appendChild(r);n.appendChild(o);return n}function Te(t){try{if(typeof t.composedPath==="function"){var e=t.composedPath();return e[0]}return t.target}catch(e){return t.target}}var Re=function(){return undefined};var ze=function(t,e,n){return n.months[e?"shorthand":"longhand"][t]};var Ae={D:Re,F:function(t,e,n){t.setMonth(n.months.longhand.indexOf(e))},G:function(t,e){t.setHours((t.getHours()>=12?12:0)+parseFloat(e))},H:function(t,e){t.setHours(parseFloat(e))},J:function(t,e){t.setDate(parseFloat(e))},K:function(t,e,n){t.setHours(t.getHours()%12+12*ke(new RegExp(n.amPM[1],"i").test(e)))},M:function(t,e,n){t.setMonth(n.months.shorthand.indexOf(e))},S:function(t,e){t.setSeconds(parseFloat(e))},U:function(t,e){return new Date(parseFloat(e)*1e3)},W:function(t,e,n){var i=parseInt(e);var r=new Date(t.getFullYear(),0,2+(i-1)*7,0,0,0,0);r.setDate(r.getDate()-r.getDay()+n.firstDayOfWeek);return r},Y:function(t,e){t.setFullYear(parseFloat(e))},Z:function(t,e){return new Date(e)},d:function(t,e){t.setDate(parseFloat(e))},h:function(t,e){t.setHours((t.getHours()>=12?12:0)+parseFloat(e))},i:function(t,e){t.setMinutes(parseFloat(e))},j:function(t,e){t.setDate(parseFloat(e))},l:Re,m:function(t,e){t.setMonth(parseFloat(e)-1)},n:function(t,e){t.setMonth(parseFloat(e)-1)},s:function(t,e){t.setSeconds(parseFloat(e))},u:function(t,e){return new Date(parseFloat(e))},w:Re,y:function(t,e){t.setFullYear(2e3+parseFloat(e))}};var je={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"};var Oe={Z:function(t){return t.toISOString()},D:function(t,e,n){return e.weekdays.shorthand[Oe.w(t,e,n)]},F:function(t,e,n){return ze(Oe.n(t,e,n)-1,false,e)},G:function(t,e,n){return we(Oe.h(t,e,n))},H:function(t){return we(t.getHours())},J:function(t,e){return e.ordinal!==undefined?t.getDate()+e.ordinal(t.getDate()):t.getDate()},K:function(t,e){return e.amPM[ke(t.getHours()>11)]},M:function(t,e){return ze(t.getMonth(),true,e)},S:function(t){return we(t.getSeconds())},U:function(t){return t.getTime()/1e3},W:function(t,e,n){return n.getWeek(t)},Y:function(t){return we(t.getFullYear(),4)},d:function(t){return we(t.getDate())},h:function(t){return t.getHours()%12?t.getHours()%12:12},i:function(t){return we(t.getMinutes())},j:function(t){return t.getDate()},l:function(t,e){return e.weekdays.longhand[t.getDay()]},m:function(t){return we(t.getMonth()+1)},n:function(t){return t.getMonth()+1},s:function(t){return t.getSeconds()},u:function(t){return t.getTime()},w:function(t){return t.getDay()},y:function(t){return String(t.getFullYear()).substring(2)}};var Ee=function(t){var e=t.config,n=e===void 0?me:e,i=t.l10n,r=i===void 0?ge:i,o=t.isMobile,a=o===void 0?false:o;return function(t,e,i){var o=i||r;if(n.formatDate!==undefined&&!a){return n.formatDate(t,e,o)}return e.split("").map((function(e,i,r){return Oe[e]&&r[i-1]!=="\\"?Oe[e](t,o,n):e!=="\\"?e:""})).join("")}};var Pe=function(t){var e=t.config,n=e===void 0?me:e,i=t.l10n,r=i===void 0?ge:i;return function(t,e,i,o){if(t!==0&&!t)return undefined;var a=o||r;var s;var l=t;if(t instanceof Date)s=new Date(t.getTime());else if(typeof t!=="string"&&t.toFixed!==undefined)s=new Date(t);else if(typeof t==="string"){var c=e||(n||me).dateFormat;var f=String(t).trim();if(f==="today"){s=new Date;i=true}else if(n&&n.parseDate){s=n.parseDate(t,c)}else if(/Z$/.test(f)||/GMT$/.test(f)){s=new Date(t)}else{var u=void 0,d=[];for(var h=0,p=0,b="";h<c.length;h++){var v=c[h];var m=v==="\\";var g=c[h-1]==="\\"||m;if(je[v]&&!g){b+=je[v];var w=new RegExp(b).exec(t);if(w&&(u=true)){d[v!=="Y"?"push":"unshift"]({fn:Ae[v],val:w[++p]})}}else if(!m)b+="."}s=!n||!n.noCalendar?new Date((new Date).getFullYear(),0,1,0,0,0,0):new Date((new Date).setHours(0,0,0,0));d.forEach((function(t){var e=t.fn,n=t.val;return s=e(s,n,a)||s}));s=u?s:undefined}}if(!(s instanceof Date&&!isNaN(s.getTime()))){n.errorHandler(new Error("Invalid date provided: "+l));return undefined}if(i===true)s.setHours(0,0,0,0);return s}};function Le(t,e,n){if(n===void 0){n=true}if(n!==false){return new Date(t.getTime()).setHours(0,0,0,0)-new Date(e.getTime()).setHours(0,0,0,0)}return t.getTime()-e.getTime()}var Fe=function(t,e,n){return t>Math.min(e,n)&&t<Math.max(e,n)};var _e=function(t,e,n){return t*3600+e*60+n};var We=function(t){var e=Math.floor(t/3600),n=(t-e*3600)/60;return[e,n,t-e*3600-n*60]};var Ne={DAY:864e5};function $e(t){var e=t.defaultHour;var n=t.defaultMinute;var i=t.defaultSeconds;if(t.minDate!==undefined){var r=t.minDate.getHours();var o=t.minDate.getMinutes();var a=t.minDate.getSeconds();if(e<r){e=r}if(e===r&&n<o){n=o}if(e===r&&n===o&&i<a)i=t.minDate.getSeconds()}if(t.maxDate!==undefined){var s=t.maxDate.getHours();var l=t.maxDate.getMinutes();e=Math.min(e,s);if(e===s)n=Math.min(l,n);if(e===s&&n===l)i=t.maxDate.getSeconds()}return{hours:e,minutes:n,seconds:i}}if(typeof Object.assign!=="function"){Object.assign=function(t){var e=[];for(var n=1;n<arguments.length;n++){e[n-1]=arguments[n]}if(!t){throw TypeError("Cannot convert undefined or null to object")}var i=function(e){if(e){Object.keys(e).forEach((function(n){return t[n]=e[n]}))}};for(var r=0,o=e;r<o.length;r++){var a=o[r];i(a)}return t}}var He=undefined&&undefined.__assign||function(){He=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}return t};return He.apply(this,arguments)};var Be=undefined&&undefined.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var i=Array(t),r=0,e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i};var Ye=300;function qe(t,e){var n={config:He(He({},me),Ve.defaultConfig),l10n:ge};n.parseDate=Pe({config:n.config,l10n:n.l10n});n._handlers=[];n.pluginElements=[];n.loadedPlugins=[];n._bind=b;n._setHoursFromDate=d;n._positionCalendar=et;n.changeMonth=F;n.changeYear=B;n.clear=_;n.close=W;n.onMouseOver=U;n._createElement=De;n.createDay=x;n.destroy=N;n.isEnabled=Y;n.jumpToDate=g;n.updateValue=Ct;n.open=Q;n.redraw=rt;n.set=lt;n.setDate=ft;n.toggle=vt;function i(){n.utils={getDaysInMonth:function(t,e){if(t===void 0){t=n.currentMonth}if(e===void 0){e=n.currentYear}if(t===1&&(e%4===0&&e%100!==0||e%400===0))return 29;return n.l10n.daysInMonth[t]}}}function r(){n.element=n.input=t;n.isOpen=false;G();tt();ht();dt();i();if(!n.isMobile)y();m();if(n.selectedDates.length||n.config.noCalendar){if(n.config.enableTime){d(n.config.noCalendar?n.latestSelectedDateObj:undefined)}Ct(false)}s();var e=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);if(!n.isMobile&&e){et()}mt("onReady")}function o(){var t;return((t=n.calendarContainer)===null||t===void 0?void 0:t.getRootNode()).activeElement||document.activeElement}function a(t){return t.bind(n)}function s(){var t=n.config;if(t.weekNumbers===false&&t.showMonths===1){return}else if(t.noCalendar!==true){window.requestAnimationFrame((function(){if(n.calendarContainer!==undefined){n.calendarContainer.style.visibility="hidden";n.calendarContainer.style.display="block"}if(n.daysContainer!==undefined){var e=(n.days.offsetWidth+1)*t.showMonths;n.daysContainer.style.width=e+"px";n.calendarContainer.style.width=e+(n.weekWrapper!==undefined?n.weekWrapper.offsetWidth:0)+"px";n.calendarContainer.style.removeProperty("visibility");n.calendarContainer.style.removeProperty("display")}}))}}function l(t){if(n.selectedDates.length===0){var e=n.config.minDate===undefined||Le(new Date,n.config.minDate)>=0?new Date:new Date(n.config.minDate.getTime());var i=$e(n.config);e.setHours(i.hours,i.minutes,i.seconds,e.getMilliseconds());n.selectedDates=[e];n.latestSelectedDateObj=e}if(t!==undefined&&t.type!=="blur"){Mt(t)}var r=n._input.value;u();Ct();if(n._input.value!==r){n._debouncedChange()}}function c(t,e){return t%12+12*ke(e===n.l10n.amPM[1])}function f(t){switch(t%24){case 0:case 12:return 12;default:return t%12}}function u(){if(n.hourElement===undefined||n.minuteElement===undefined)return;var t=(parseInt(n.hourElement.value.slice(-2),10)||0)%24,e=(parseInt(n.minuteElement.value,10)||0)%60,i=n.secondElement!==undefined?(parseInt(n.secondElement.value,10)||0)%60:0;if(n.amPM!==undefined){t=c(t,n.amPM.textContent)}var r=n.config.minTime!==undefined||n.config.minDate&&n.minDateHasTime&&n.latestSelectedDateObj&&Le(n.latestSelectedDateObj,n.config.minDate,true)===0;var o=n.config.maxTime!==undefined||n.config.maxDate&&n.maxDateHasTime&&n.latestSelectedDateObj&&Le(n.latestSelectedDateObj,n.config.maxDate,true)===0;if(n.config.maxTime!==undefined&&n.config.minTime!==undefined&&n.config.minTime>n.config.maxTime){var a=_e(n.config.minTime.getHours(),n.config.minTime.getMinutes(),n.config.minTime.getSeconds());var s=_e(n.config.maxTime.getHours(),n.config.maxTime.getMinutes(),n.config.maxTime.getSeconds());var l=_e(t,e,i);if(l>s&&l<a){var f=We(a);t=f[0];e=f[1];i=f[2]}}else{if(o){var u=n.config.maxTime!==undefined?n.config.maxTime:n.config.maxDate;t=Math.min(t,u.getHours());if(t===u.getHours())e=Math.min(e,u.getMinutes());if(e===u.getMinutes())i=Math.min(i,u.getSeconds())}if(r){var d=n.config.minTime!==undefined?n.config.minTime:n.config.minDate;t=Math.max(t,d.getHours());if(t===d.getHours()&&e<d.getMinutes())e=d.getMinutes();if(e===d.getMinutes())i=Math.max(i,d.getSeconds())}}h(t,e,i)}function d(t){var e=t||n.latestSelectedDateObj;if(e&&e instanceof Date){h(e.getHours(),e.getMinutes(),e.getSeconds())}}function h(t,e,i){if(n.latestSelectedDateObj!==undefined){n.latestSelectedDateObj.setHours(t%24,e,i||0,0)}if(!n.hourElement||!n.minuteElement||n.isMobile)return;n.hourElement.value=we(!n.config.time_24hr?(12+t)%12+12*ke(t%12===0):t);n.minuteElement.value=we(e);if(n.amPM!==undefined)n.amPM.textContent=n.l10n.amPM[ke(t>=12)];if(n.secondElement!==undefined)n.secondElement.value=we(i)}function p(t){var e=Te(t);var n=parseInt(e.value)+(t.delta||0);if(n/1e3>1||t.key==="Enter"&&!/[^\d]/.test(n.toString())){B(n)}}function b(t,e,i,r){if(e instanceof Array)return e.forEach((function(e){return b(t,e,i,r)}));if(t instanceof Array)return t.forEach((function(t){return b(t,e,i,r)}));t.addEventListener(e,i,r);n._handlers.push({remove:function(){return t.removeEventListener(e,i,r)}})}function v(){mt("onChange")}function m(){if(n.config.wrap){["open","close","toggle","clear"].forEach((function(t){Array.prototype.forEach.call(n.element.querySelectorAll("[data-"+t+"]"),(function(e){return b(e,"click",n[t])}))}))}if(n.isMobile){bt();return}var t=ye(K,50);n._debouncedChange=ye(v,Ye);if(n.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent))b(n.daysContainer,"mouseover",(function(t){if(n.config.mode==="range")U(Te(t))}));b(n._input,"keydown",V);if(n.calendarContainer!==undefined){b(n.calendarContainer,"keydown",V)}if(!n.config.inline&&!n.config.static)b(window,"resize",t);if(window.ontouchstart!==undefined)b(window.document,"touchstart",H);else b(window.document,"mousedown",H);b(window.document,"focus",H,{capture:true});if(n.config.clickOpens===true){b(n._input,"focus",n.open);b(n._input,"click",n.open)}if(n.daysContainer!==undefined){b(n.monthNav,"click",Dt);b(n.monthNav,["keyup","increment"],p);b(n.daysContainer,"click",at)}if(n.timeContainer!==undefined&&n.minuteElement!==undefined&&n.hourElement!==undefined){var e=function(t){return Te(t).select()};b(n.timeContainer,["increment"],l);b(n.timeContainer,"blur",l,{capture:true});b(n.timeContainer,"click",w);b([n.hourElement,n.minuteElement],["focus","click"],e);if(n.secondElement!==undefined)b(n.secondElement,"focus",(function(){return n.secondElement&&n.secondElement.select()}));if(n.amPM!==undefined){b(n.amPM,"click",(function(t){l(t)}))}}if(n.config.allowInput){b(n._input,"blur",J)}}function g(t,e){var i=t!==undefined?n.parseDate(t):n.latestSelectedDateObj||(n.config.minDate&&n.config.minDate>n.now?n.config.minDate:n.config.maxDate&&n.config.maxDate<n.now?n.config.maxDate:n.now);var r=n.currentYear;var o=n.currentMonth;try{if(i!==undefined){n.currentYear=i.getFullYear();n.currentMonth=i.getMonth()}}catch(t){t.message="Invalid date supplied: "+i;n.config.errorHandler(t)}if(e&&n.currentYear!==r){mt("onYearChange");R()}if(e&&(n.currentYear!==r||n.currentMonth!==o)){mt("onMonthChange")}n.redraw()}function w(t){var e=Te(t);if(~e.className.indexOf("arrow"))k(t,e.classList.contains("arrowUp")?1:-1)}function k(t,e,n){var i=t&&Te(t);var r=n||i&&i.parentNode&&i.parentNode.firstChild;var o=gt("increment");o.delta=e;r&&r.dispatchEvent(o)}function y(){var t=window.document.createDocumentFragment();n.calendarContainer=De("div","flatpickr-calendar");n.calendarContainer.tabIndex=-1;if(!n.config.noCalendar){t.appendChild(j());n.innerContainer=De("div","flatpickr-innerContainer");if(n.config.weekNumbers){var e=L(),i=e.weekWrapper,r=e.weekNumbers;n.innerContainer.appendChild(i);n.weekNumbers=r;n.weekWrapper=i}n.rContainer=De("div","flatpickr-rContainer");n.rContainer.appendChild(E());if(!n.daysContainer){n.daysContainer=De("div","flatpickr-days");n.daysContainer.tabIndex=-1}T();n.rContainer.appendChild(n.daysContainer);n.innerContainer.appendChild(n.rContainer);t.appendChild(n.innerContainer)}if(n.config.enableTime){t.appendChild(O())}Ce(n.calendarContainer,"rangeMode",n.config.mode==="range");Ce(n.calendarContainer,"animate",n.config.animate===true);Ce(n.calendarContainer,"multiMonth",n.config.showMonths>1);n.calendarContainer.appendChild(t);var o=n.config.appendTo!==undefined&&n.config.appendTo.nodeType!==undefined;if(n.config.inline||n.config.static){n.calendarContainer.classList.add(n.config.inline?"inline":"static");if(n.config.inline){if(!o&&n.element.parentNode)n.element.parentNode.insertBefore(n.calendarContainer,n._input.nextSibling);else if(n.config.appendTo!==undefined)n.config.appendTo.appendChild(n.calendarContainer)}if(n.config.static){var a=De("div","flatpickr-wrapper");if(n.element.parentNode)n.element.parentNode.insertBefore(a,n.element);a.appendChild(n.element);if(n.altInput)a.appendChild(n.altInput);a.appendChild(n.calendarContainer)}}if(!n.config.static&&!n.config.inline)(n.config.appendTo!==undefined?n.config.appendTo:window.document.body).appendChild(n.calendarContainer)}function x(t,e,i,r){var o=Y(e,true),a=De("span",t,e.getDate().toString());a.dateObj=e;a.$i=r;a.setAttribute("aria-label",n.formatDate(e,n.config.ariaDateFormat));if(t.indexOf("hidden")===-1&&Le(e,n.now)===0){n.todayDateElem=a;a.classList.add("today");a.setAttribute("aria-current","date")}if(o){a.tabIndex=-1;if(wt(e)){a.classList.add("selected");n.selectedDateElem=a;if(n.config.mode==="range"){Ce(a,"startRange",n.selectedDates[0]&&Le(e,n.selectedDates[0],true)===0);Ce(a,"endRange",n.selectedDates[1]&&Le(e,n.selectedDates[1],true)===0);if(t==="nextMonthDay")a.classList.add("inRange")}}}else{a.classList.add("flatpickr-disabled")}if(n.config.mode==="range"){if(kt(e)&&!wt(e))a.classList.add("inRange")}if(n.weekNumbers&&n.config.showMonths===1&&t!=="prevMonthDay"&&r%7===6){n.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+n.config.getWeek(e)+"</span>")}mt("onDayCreate",a);return a}function C(t){t.focus();if(n.config.mode==="range")U(t)}function D(t){var e=t>0?0:n.config.showMonths-1;var i=t>0?n.config.showMonths:-1;for(var r=e;r!=i;r+=t){var o=n.daysContainer.children[r];var a=t>0?0:o.children.length-1;var s=t>0?o.children.length:-1;for(var l=a;l!=s;l+=t){var c=o.children[l];if(c.className.indexOf("hidden")===-1&&Y(c.dateObj))return c}}return undefined}function M(t,e){var i=t.className.indexOf("Month")===-1?t.dateObj.getMonth():n.currentMonth;var r=e>0?n.config.showMonths:-1;var o=e>0?1:-1;for(var a=i-n.currentMonth;a!=r;a+=o){var s=n.daysContainer.children[a];var l=i-n.currentMonth===a?t.$i+e:e<0?s.children.length-1:0;var c=s.children.length;for(var f=l;f>=0&&f<c&&f!=(e>0?c:-1);f+=o){var u=s.children[f];if(u.className.indexOf("hidden")===-1&&Y(u.dateObj)&&Math.abs(t.$i-f)>=Math.abs(e))return C(u)}}n.changeMonth(o);S(D(o),0);return undefined}function S(t,e){var i=o();var r=q(i||document.body);var a=t!==undefined?t:r?i:n.selectedDateElem!==undefined&&q(n.selectedDateElem)?n.selectedDateElem:n.todayDateElem!==undefined&&q(n.todayDateElem)?n.todayDateElem:D(e>0?1:-1);if(a===undefined){n._input.focus()}else if(!r){C(a)}else{M(a,e)}}function I(t,e){var i=(new Date(t,e,1).getDay()-n.l10n.firstDayOfWeek+7)%7;var r=n.utils.getDaysInMonth((e-1+12)%12,t);var o=n.utils.getDaysInMonth(e,t),a=window.document.createDocumentFragment(),s=n.config.showMonths>1,l=s?"prevMonthDay hidden":"prevMonthDay",c=s?"nextMonthDay hidden":"nextMonthDay";var f=r+1-i,u=0;for(;f<=r;f++,u++){a.appendChild(x("flatpickr-day "+l,new Date(t,e-1,f),f,u))}for(f=1;f<=o;f++,u++){a.appendChild(x("flatpickr-day",new Date(t,e,f),f,u))}for(var d=o+1;d<=42-i&&(n.config.showMonths===1||u%7!==0);d++,u++){a.appendChild(x("flatpickr-day "+c,new Date(t,e+1,d%o),d,u))}var h=De("div","dayContainer");h.appendChild(a);return h}function T(){if(n.daysContainer===undefined){return}Me(n.daysContainer);if(n.weekNumbers)Me(n.weekNumbers);var t=document.createDocumentFragment();for(var e=0;e<n.config.showMonths;e++){var i=new Date(n.currentYear,n.currentMonth,1);i.setMonth(n.currentMonth+e);t.appendChild(I(i.getFullYear(),i.getMonth()))}n.daysContainer.appendChild(t);n.days=n.daysContainer.firstChild;if(n.config.mode==="range"&&n.selectedDates.length===1){U()}}function R(){if(n.config.showMonths>1||n.config.monthSelectorType!=="dropdown")return;var t=function(t){if(n.config.minDate!==undefined&&n.currentYear===n.config.minDate.getFullYear()&&t<n.config.minDate.getMonth()){return false}return!(n.config.maxDate!==undefined&&n.currentYear===n.config.maxDate.getFullYear()&&t>n.config.maxDate.getMonth())};n.monthsDropdownContainer.tabIndex=-1;n.monthsDropdownContainer.innerHTML="";for(var e=0;e<12;e++){if(!t(e))continue;var i=De("option","flatpickr-monthDropdown-month");i.value=new Date(n.currentYear,e).getMonth().toString();i.textContent=ze(e,n.config.shorthandCurrentMonth,n.l10n);i.tabIndex=-1;if(n.currentMonth===e){i.selected=true}n.monthsDropdownContainer.appendChild(i)}}function z(){var t=De("div","flatpickr-month");var e=window.document.createDocumentFragment();var i;if(n.config.showMonths>1||n.config.monthSelectorType==="static"){i=De("span","cur-month")}else{n.monthsDropdownContainer=De("select","flatpickr-monthDropdown-months");n.monthsDropdownContainer.setAttribute("aria-label",n.l10n.monthAriaLabel);b(n.monthsDropdownContainer,"change",(function(t){var e=Te(t);var i=parseInt(e.value,10);n.changeMonth(i-n.currentMonth);mt("onMonthChange")}));R();i=n.monthsDropdownContainer}var r=Ie("cur-year",{tabindex:"-1"});var o=r.getElementsByTagName("input")[0];o.setAttribute("aria-label",n.l10n.yearAriaLabel);if(n.config.minDate){o.setAttribute("min",n.config.minDate.getFullYear().toString())}if(n.config.maxDate){o.setAttribute("max",n.config.maxDate.getFullYear().toString());o.disabled=!!n.config.minDate&&n.config.minDate.getFullYear()===n.config.maxDate.getFullYear()}var a=De("div","flatpickr-current-month");a.appendChild(i);a.appendChild(r);e.appendChild(a);t.appendChild(e);return{container:t,yearElement:o,monthElement:i}}function A(){Me(n.monthNav);n.monthNav.appendChild(n.prevMonthNav);if(n.config.showMonths){n.yearElements=[];n.monthElements=[]}for(var t=n.config.showMonths;t--;){var e=z();n.yearElements.push(e.yearElement);n.monthElements.push(e.monthElement);n.monthNav.appendChild(e.container)}n.monthNav.appendChild(n.nextMonthNav)}function j(){n.monthNav=De("div","flatpickr-months");n.yearElements=[];n.monthElements=[];n.prevMonthNav=De("span","flatpickr-prev-month");n.prevMonthNav.innerHTML=n.config.prevArrow;n.nextMonthNav=De("span","flatpickr-next-month");n.nextMonthNav.innerHTML=n.config.nextArrow;A();Object.defineProperty(n,"_hidePrevMonthArrow",{get:function(){return n.__hidePrevMonthArrow},set:function(t){if(n.__hidePrevMonthArrow!==t){Ce(n.prevMonthNav,"flatpickr-disabled",t);n.__hidePrevMonthArrow=t}}});Object.defineProperty(n,"_hideNextMonthArrow",{get:function(){return n.__hideNextMonthArrow},set:function(t){if(n.__hideNextMonthArrow!==t){Ce(n.nextMonthNav,"flatpickr-disabled",t);n.__hideNextMonthArrow=t}}});n.currentYearElement=n.yearElements[0];yt();return n.monthNav}function O(){n.calendarContainer.classList.add("hasTime");if(n.config.noCalendar)n.calendarContainer.classList.add("noCalendar");var t=$e(n.config);n.timeContainer=De("div","flatpickr-time");n.timeContainer.tabIndex=-1;var e=De("span","flatpickr-time-separator",":");var i=Ie("flatpickr-hour",{"aria-label":n.l10n.hourAriaLabel});n.hourElement=i.getElementsByTagName("input")[0];var r=Ie("flatpickr-minute",{"aria-label":n.l10n.minuteAriaLabel});n.minuteElement=r.getElementsByTagName("input")[0];n.hourElement.tabIndex=n.minuteElement.tabIndex=-1;n.hourElement.value=we(n.latestSelectedDateObj?n.latestSelectedDateObj.getHours():n.config.time_24hr?t.hours:f(t.hours));n.minuteElement.value=we(n.latestSelectedDateObj?n.latestSelectedDateObj.getMinutes():t.minutes);n.hourElement.setAttribute("step",n.config.hourIncrement.toString());n.minuteElement.setAttribute("step",n.config.minuteIncrement.toString());n.hourElement.setAttribute("min",n.config.time_24hr?"0":"1");n.hourElement.setAttribute("max",n.config.time_24hr?"23":"12");n.hourElement.setAttribute("maxlength","2");n.minuteElement.setAttribute("min","0");n.minuteElement.setAttribute("max","59");n.minuteElement.setAttribute("maxlength","2");n.timeContainer.appendChild(i);n.timeContainer.appendChild(e);n.timeContainer.appendChild(r);if(n.config.time_24hr)n.timeContainer.classList.add("time24hr");if(n.config.enableSeconds){n.timeContainer.classList.add("hasSeconds");var o=Ie("flatpickr-second");n.secondElement=o.getElementsByTagName("input")[0];n.secondElement.value=we(n.latestSelectedDateObj?n.latestSelectedDateObj.getSeconds():t.seconds);n.secondElement.setAttribute("step",n.minuteElement.getAttribute("step"));n.secondElement.setAttribute("min","0");n.secondElement.setAttribute("max","59");n.secondElement.setAttribute("maxlength","2");n.timeContainer.appendChild(De("span","flatpickr-time-separator",":"));n.timeContainer.appendChild(o)}if(!n.config.time_24hr){n.amPM=De("span","flatpickr-am-pm",n.l10n.amPM[ke((n.latestSelectedDateObj?n.hourElement.value:n.config.defaultHour)>11)]);n.amPM.title=n.l10n.toggleTitle;n.amPM.tabIndex=-1;n.timeContainer.appendChild(n.amPM)}return n.timeContainer}function E(){if(!n.weekdayContainer)n.weekdayContainer=De("div","flatpickr-weekdays");else Me(n.weekdayContainer);for(var t=n.config.showMonths;t--;){var e=De("div","flatpickr-weekdaycontainer");n.weekdayContainer.appendChild(e)}P();return n.weekdayContainer}function P(){if(!n.weekdayContainer){return}var t=n.l10n.firstDayOfWeek;var e=Be(n.l10n.weekdays.shorthand);if(t>0&&t<e.length){e=Be(e.splice(t,e.length),e.splice(0,t))}for(var i=n.config.showMonths;i--;){n.weekdayContainer.children[i].innerHTML="\n      <span class='flatpickr-weekday'>\n        "+e.join("</span><span class='flatpickr-weekday'>")+"\n      </span>\n      "}}function L(){n.calendarContainer.classList.add("hasWeeks");var t=De("div","flatpickr-weekwrapper");t.appendChild(De("span","flatpickr-weekday",n.l10n.weekAbbreviation));var e=De("div","flatpickr-weeks");t.appendChild(e);return{weekWrapper:t,weekNumbers:e}}function F(t,e){if(e===void 0){e=true}var i=e?t:t-n.currentMonth;if(i<0&&n._hidePrevMonthArrow===true||i>0&&n._hideNextMonthArrow===true)return;n.currentMonth+=i;if(n.currentMonth<0||n.currentMonth>11){n.currentYear+=n.currentMonth>11?1:-1;n.currentMonth=(n.currentMonth+12)%12;mt("onYearChange");R()}T();mt("onMonthChange");yt()}function _(t,e){if(t===void 0){t=true}if(e===void 0){e=true}n.input.value="";if(n.altInput!==undefined)n.altInput.value="";if(n.mobileInput!==undefined)n.mobileInput.value="";n.selectedDates=[];n.latestSelectedDateObj=undefined;if(e===true){n.currentYear=n._initialDate.getFullYear();n.currentMonth=n._initialDate.getMonth()}if(n.config.enableTime===true){var i=$e(n.config),r=i.hours,o=i.minutes,a=i.seconds;h(r,o,a)}n.redraw();if(t)mt("onChange")}function W(){n.isOpen=false;if(!n.isMobile){if(n.calendarContainer!==undefined){n.calendarContainer.classList.remove("open")}if(n._input!==undefined){n._input.classList.remove("active")}}mt("onClose")}function N(){if(n.config!==undefined)mt("onDestroy");for(var t=n._handlers.length;t--;){n._handlers[t].remove()}n._handlers=[];if(n.mobileInput){if(n.mobileInput.parentNode)n.mobileInput.parentNode.removeChild(n.mobileInput);n.mobileInput=undefined}else if(n.calendarContainer&&n.calendarContainer.parentNode){if(n.config.static&&n.calendarContainer.parentNode){var e=n.calendarContainer.parentNode;e.lastChild&&e.removeChild(e.lastChild);if(e.parentNode){while(e.firstChild)e.parentNode.insertBefore(e.firstChild,e);e.parentNode.removeChild(e)}}else n.calendarContainer.parentNode.removeChild(n.calendarContainer)}if(n.altInput){n.input.type="text";if(n.altInput.parentNode)n.altInput.parentNode.removeChild(n.altInput);delete n.altInput}if(n.input){n.input.type=n.input._type;n.input.classList.remove("flatpickr-input");n.input.removeAttribute("readonly")}["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach((function(t){try{delete n[t]}catch(t){}}))}function $(t){return n.calendarContainer.contains(t)}function H(t){if(n.isOpen&&!n.config.inline){var e=Te(t);var i=$(e);var r=e===n.input||e===n.altInput||n.element.contains(e)||t.path&&t.path.indexOf&&(~t.path.indexOf(n.input)||~t.path.indexOf(n.altInput));var o=!r&&!i&&!$(t.relatedTarget);var a=!n.config.ignoredFocusElements.some((function(t){return t.contains(e)}));if(o&&a){if(n.config.allowInput){n.setDate(n._input.value,false,n.config.altInput?n.config.altFormat:n.config.dateFormat)}if(n.timeContainer!==undefined&&n.minuteElement!==undefined&&n.hourElement!==undefined&&n.input.value!==""&&n.input.value!==undefined){l()}n.close();if(n.config&&n.config.mode==="range"&&n.selectedDates.length===1)n.clear(false)}}}function B(t){if(!t||n.config.minDate&&t<n.config.minDate.getFullYear()||n.config.maxDate&&t>n.config.maxDate.getFullYear())return;var e=t,i=n.currentYear!==e;n.currentYear=e||n.currentYear;if(n.config.maxDate&&n.currentYear===n.config.maxDate.getFullYear()){n.currentMonth=Math.min(n.config.maxDate.getMonth(),n.currentMonth)}else if(n.config.minDate&&n.currentYear===n.config.minDate.getFullYear()){n.currentMonth=Math.max(n.config.minDate.getMonth(),n.currentMonth)}if(i){n.redraw();mt("onYearChange");R()}}function Y(t,e){var i;if(e===void 0){e=true}var r=n.parseDate(t,undefined,e);if(n.config.minDate&&r&&Le(r,n.config.minDate,e!==undefined?e:!n.minDateHasTime)<0||n.config.maxDate&&r&&Le(r,n.config.maxDate,e!==undefined?e:!n.maxDateHasTime)>0)return false;if(!n.config.enable&&n.config.disable.length===0)return true;if(r===undefined)return false;var o=!!n.config.enable,a=(i=n.config.enable)!==null&&i!==void 0?i:n.config.disable;for(var s=0,l=void 0;s<a.length;s++){l=a[s];if(typeof l==="function"&&l(r))return o;else if(l instanceof Date&&r!==undefined&&l.getTime()===r.getTime())return o;else if(typeof l==="string"){var c=n.parseDate(l,undefined,true);return c&&c.getTime()===r.getTime()?o:!o}else if(typeof l==="object"&&r!==undefined&&l.from&&l.to&&r.getTime()>=l.from.getTime()&&r.getTime()<=l.to.getTime())return o}return!o}function q(t){if(n.daysContainer!==undefined)return t.className.indexOf("hidden")===-1&&t.className.indexOf("flatpickr-disabled")===-1&&n.daysContainer.contains(t);return false}function J(t){var e=t.target===n._input;var i=n._input.value.trimEnd()!==xt();if(e&&i&&!(t.relatedTarget&&$(t.relatedTarget))){n.setDate(n._input.value,true,t.target===n.altInput?n.config.altFormat:n.config.dateFormat)}}function V(e){var i=Te(e);var r=n.config.wrap?t.contains(i):i===n._input;var a=n.config.allowInput;var s=n.isOpen&&(!a||!r);var c=n.config.inline&&r&&!a;if(e.keyCode===13&&r){if(a){n.setDate(n._input.value,true,i===n.altInput?n.config.altFormat:n.config.dateFormat);n.close();return i.blur()}else{n.open()}}else if($(i)||s||c){var f=!!n.timeContainer&&n.timeContainer.contains(i);switch(e.keyCode){case 13:if(f){e.preventDefault();l();ot()}else at(e);break;case 27:e.preventDefault();ot();break;case 8:case 46:if(r&&!n.config.allowInput){e.preventDefault();n.clear()}break;case 37:case 39:if(!f&&!r){e.preventDefault();var d=o();if(n.daysContainer!==undefined&&(a===false||d&&q(d))){var h=e.keyCode===39?1:-1;if(!e.ctrlKey)S(undefined,h);else{e.stopPropagation();F(h);S(D(1),0)}}}else if(n.hourElement)n.hourElement.focus();break;case 38:case 40:e.preventDefault();var p=e.keyCode===40?1:-1;if(n.daysContainer&&i.$i!==undefined||i===n.input||i===n.altInput){if(e.ctrlKey){e.stopPropagation();B(n.currentYear-p);S(D(1),0)}else if(!f)S(undefined,p*7)}else if(i===n.currentYearElement){B(n.currentYear-p)}else if(n.config.enableTime){if(!f&&n.hourElement)n.hourElement.focus();l(e);n._debouncedChange()}break;case 9:if(f){var b=[n.hourElement,n.minuteElement,n.secondElement,n.amPM].concat(n.pluginElements).filter((function(t){return t}));var v=b.indexOf(i);if(v!==-1){var m=b[v+(e.shiftKey?-1:1)];e.preventDefault();(m||n._input).focus()}}else if(!n.config.noCalendar&&n.daysContainer&&n.daysContainer.contains(i)&&e.shiftKey){e.preventDefault();n._input.focus()}break}}if(n.amPM!==undefined&&i===n.amPM){switch(e.key){case n.l10n.amPM[0].charAt(0):case n.l10n.amPM[0].charAt(0).toLowerCase():n.amPM.textContent=n.l10n.amPM[0];u();Ct();break;case n.l10n.amPM[1].charAt(0):case n.l10n.amPM[1].charAt(0).toLowerCase():n.amPM.textContent=n.l10n.amPM[1];u();Ct();break}}if(r||$(i)){mt("onKeyDown",e)}}function U(t,e){if(e===void 0){e="flatpickr-day"}if(n.selectedDates.length!==1||t&&(!t.classList.contains(e)||t.classList.contains("flatpickr-disabled")))return;var i=t?t.dateObj.getTime():n.days.firstElementChild.dateObj.getTime(),r=n.parseDate(n.selectedDates[0],undefined,true).getTime(),o=Math.min(i,n.selectedDates[0].getTime()),a=Math.max(i,n.selectedDates[0].getTime());var s=false;var l=0,c=0;for(var f=o;f<a;f+=Ne.DAY){if(!Y(new Date(f),true)){s=s||f>o&&f<a;if(f<r&&(!l||f>l))l=f;else if(f>r&&(!c||f<c))c=f}}var u=Array.from(n.rContainer.querySelectorAll("*:nth-child(-n+"+n.config.showMonths+") > ."+e));u.forEach((function(e){var o=e.dateObj;var a=o.getTime();var f=l>0&&a<l||c>0&&a>c;if(f){e.classList.add("notAllowed");["inRange","startRange","endRange"].forEach((function(t){e.classList.remove(t)}));return}else if(s&&!f)return;["startRange","inRange","endRange","notAllowed"].forEach((function(t){e.classList.remove(t)}));if(t!==undefined){t.classList.add(i<=n.selectedDates[0].getTime()?"startRange":"endRange");if(r<i&&a===r)e.classList.add("startRange");else if(r>i&&a===r)e.classList.add("endRange");if(a>=l&&(c===0||a<=c)&&Fe(a,r,i))e.classList.add("inRange")}}))}function K(){if(n.isOpen&&!n.config.static&&!n.config.inline)et()}function Q(t,e){if(e===void 0){e=n._positionElement}if(n.isMobile===true){if(t){t.preventDefault();var i=Te(t);if(i){i.blur()}}if(n.mobileInput!==undefined){n.mobileInput.focus();n.mobileInput.click()}mt("onOpen");return}else if(n._input.disabled||n.config.inline){return}var r=n.isOpen;n.isOpen=true;if(!r){n.calendarContainer.classList.add("open");n._input.classList.add("active");mt("onOpen");et(e)}if(n.config.enableTime===true&&n.config.noCalendar===true){if(n.config.allowInput===false&&(t===undefined||!n.timeContainer.contains(t.relatedTarget))){setTimeout((function(){return n.hourElement.select()}),50)}}}function Z(t){return function(e){var i=n.config["_"+t+"Date"]=n.parseDate(e,n.config.dateFormat);var r=n.config["_"+(t==="min"?"max":"min")+"Date"];if(i!==undefined){n[t==="min"?"minDateHasTime":"maxDateHasTime"]=i.getHours()>0||i.getMinutes()>0||i.getSeconds()>0}if(n.selectedDates){n.selectedDates=n.selectedDates.filter((function(t){return Y(t)}));if(!n.selectedDates.length&&t==="min")d(i);Ct()}if(n.daysContainer){rt();if(i!==undefined)n.currentYearElement[t]=i.getFullYear().toString();else n.currentYearElement.removeAttribute(t);n.currentYearElement.disabled=!!r&&i!==undefined&&r.getFullYear()===i.getFullYear()}}}function G(){var i=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"];var r=He(He({},JSON.parse(JSON.stringify(t.dataset||{}))),e);var o={};n.config.parseDate=r.parseDate;n.config.formatDate=r.formatDate;Object.defineProperty(n.config,"enable",{get:function(){return n.config._enable},set:function(t){n.config._enable=ut(t)}});Object.defineProperty(n.config,"disable",{get:function(){return n.config._disable},set:function(t){n.config._disable=ut(t)}});var s=r.mode==="time";if(!r.dateFormat&&(r.enableTime||s)){var l=Ve.defaultConfig.dateFormat||me.dateFormat;o.dateFormat=r.noCalendar||s?"H:i"+(r.enableSeconds?":S":""):l+" H:i"+(r.enableSeconds?":S":"")}if(r.altInput&&(r.enableTime||s)&&!r.altFormat){var c=Ve.defaultConfig.altFormat||me.altFormat;o.altFormat=r.noCalendar||s?"h:i"+(r.enableSeconds?":S K":" K"):c+(" h:i"+(r.enableSeconds?":S":"")+" K")}Object.defineProperty(n.config,"minDate",{get:function(){return n.config._minDate},set:Z("min")});Object.defineProperty(n.config,"maxDate",{get:function(){return n.config._maxDate},set:Z("max")});var f=function(t){return function(e){n.config[t==="min"?"_minTime":"_maxTime"]=n.parseDate(e,"H:i:S")}};Object.defineProperty(n.config,"minTime",{get:function(){return n.config._minTime},set:f("min")});Object.defineProperty(n.config,"maxTime",{get:function(){return n.config._maxTime},set:f("max")});if(r.mode==="time"){n.config.noCalendar=true;n.config.enableTime=true}Object.assign(n.config,o,r);for(var u=0;u<i.length;u++)n.config[i[u]]=n.config[i[u]]===true||n.config[i[u]]==="true";ve.filter((function(t){return n.config[t]!==undefined})).forEach((function(t){n.config[t]=xe(n.config[t]||[]).map(a)}));n.isMobile=!n.config.disableMobile&&!n.config.inline&&n.config.mode==="single"&&!n.config.disable.length&&!n.config.enable&&!n.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var u=0;u<n.config.plugins.length;u++){var d=n.config.plugins[u](n)||{};for(var h in d){if(ve.indexOf(h)>-1){n.config[h]=xe(d[h]).map(a).concat(n.config[h])}else if(typeof r[h]==="undefined")n.config[h]=d[h]}}if(!r.altInputClass){n.config.altInputClass=X().className+" "+n.config.altInputClass}mt("onParseConfig")}function X(){return n.config.wrap?t.querySelector("[data-input]"):t}function tt(){if(typeof n.config.locale!=="object"&&typeof Ve.l10ns[n.config.locale]==="undefined")n.config.errorHandler(new Error("flatpickr: invalid locale "+n.config.locale));n.l10n=He(He({},Ve.l10ns.default),typeof n.config.locale==="object"?n.config.locale:n.config.locale!=="default"?Ve.l10ns[n.config.locale]:undefined);je.D="("+n.l10n.weekdays.shorthand.join("|")+")";je.l="("+n.l10n.weekdays.longhand.join("|")+")";je.M="("+n.l10n.months.shorthand.join("|")+")";je.F="("+n.l10n.months.longhand.join("|")+")";je.K="("+n.l10n.amPM[0]+"|"+n.l10n.amPM[1]+"|"+n.l10n.amPM[0].toLowerCase()+"|"+n.l10n.amPM[1].toLowerCase()+")";var i=He(He({},e),JSON.parse(JSON.stringify(t.dataset||{})));if(i.time_24hr===undefined&&Ve.defaultConfig.time_24hr===undefined){n.config.time_24hr=n.l10n.time_24hr}n.formatDate=Ee(n);n.parseDate=Pe({config:n.config,l10n:n.l10n})}function et(t){if(typeof n.config.position==="function"){return void n.config.position(n,t)}if(n.calendarContainer===undefined)return;mt("onPreCalendarPosition");var e=t||n._positionElement;var i=Array.prototype.reduce.call(n.calendarContainer.children,(function(t,e){return t+e.offsetHeight}),0),r=n.calendarContainer.offsetWidth,o=n.config.position.split(" "),a=o[0],s=o.length>1?o[1]:null,l=e.getBoundingClientRect(),c=window.innerHeight-l.bottom,f=a==="above"||a!=="below"&&c<i&&l.top>i;var u=window.pageYOffset+l.top+(!f?e.offsetHeight+2:-i-2);Ce(n.calendarContainer,"arrowTop",!f);Ce(n.calendarContainer,"arrowBottom",f);if(n.config.inline)return;var d=window.pageXOffset+l.left;var h=false;var p=false;if(s==="center"){d-=(r-l.width)/2;h=true}else if(s==="right"){d-=r-l.width;p=true}Ce(n.calendarContainer,"arrowLeft",!h&&!p);Ce(n.calendarContainer,"arrowCenter",h);Ce(n.calendarContainer,"arrowRight",p);var b=window.document.body.offsetWidth-(window.pageXOffset+l.right);var v=d+r>window.document.body.offsetWidth;var m=b+r>window.document.body.offsetWidth;Ce(n.calendarContainer,"rightMost",v);if(n.config.static)return;n.calendarContainer.style.top=u+"px";if(!v){n.calendarContainer.style.left=d+"px";n.calendarContainer.style.right="auto"}else if(!m){n.calendarContainer.style.left="auto";n.calendarContainer.style.right=b+"px"}else{var g=nt();if(g===undefined)return;var w=window.document.body.offsetWidth;var k=Math.max(0,w/2-r/2);var y=".flatpickr-calendar.centerMost:before";var x=".flatpickr-calendar.centerMost:after";var C=g.cssRules.length;var D="{left:"+l.left+"px;right:auto;}";Ce(n.calendarContainer,"rightMost",false);Ce(n.calendarContainer,"centerMost",true);g.insertRule(y+","+x+D,C);n.calendarContainer.style.left=k+"px";n.calendarContainer.style.right="auto"}}function nt(){var t=null;for(var e=0;e<document.styleSheets.length;e++){var n=document.styleSheets[e];if(!n.cssRules)continue;t=n;break}return t!=null?t:it()}function it(){var t=document.createElement("style");document.head.appendChild(t);return t.sheet}function rt(){if(n.config.noCalendar||n.isMobile)return;R();yt();T()}function ot(){n._input.focus();if(window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==undefined){setTimeout(n.close,0)}else{n.close()}}function at(t){t.preventDefault();t.stopPropagation();var e=function(t){return t.classList&&t.classList.contains("flatpickr-day")&&!t.classList.contains("flatpickr-disabled")&&!t.classList.contains("notAllowed")};var i=Se(Te(t),e);if(i===undefined)return;var r=i;var o=n.latestSelectedDateObj=new Date(r.dateObj.getTime());var a=(o.getMonth()<n.currentMonth||o.getMonth()>n.currentMonth+n.config.showMonths-1)&&n.config.mode!=="range";n.selectedDateElem=r;if(n.config.mode==="single")n.selectedDates=[o];else if(n.config.mode==="multiple"){var s=wt(o);if(s)n.selectedDates.splice(parseInt(s),1);else n.selectedDates.push(o)}else if(n.config.mode==="range"){if(n.selectedDates.length===2){n.clear(false,false)}n.latestSelectedDateObj=o;n.selectedDates.push(o);if(Le(o,n.selectedDates[0],true)!==0)n.selectedDates.sort((function(t,e){return t.getTime()-e.getTime()}))}u();if(a){var l=n.currentYear!==o.getFullYear();n.currentYear=o.getFullYear();n.currentMonth=o.getMonth();if(l){mt("onYearChange");R()}mt("onMonthChange")}yt();T();Ct();if(!a&&n.config.mode!=="range"&&n.config.showMonths===1)C(r);else if(n.selectedDateElem!==undefined&&n.hourElement===undefined){n.selectedDateElem&&n.selectedDateElem.focus()}if(n.hourElement!==undefined)n.hourElement!==undefined&&n.hourElement.focus();if(n.config.closeOnSelect){var c=n.config.mode==="single"&&!n.config.enableTime;var f=n.config.mode==="range"&&n.selectedDates.length===2&&!n.config.enableTime;if(c||f){ot()}}v()}var st={locale:[tt,P],showMonths:[A,s,E],minDate:[g],maxDate:[g],positionElement:[pt],clickOpens:[function(){if(n.config.clickOpens===true){b(n._input,"focus",n.open);b(n._input,"click",n.open)}else{n._input.removeEventListener("focus",n.open);n._input.removeEventListener("click",n.open)}}]};function lt(t,e){if(t!==null&&typeof t==="object"){Object.assign(n.config,t);for(var i in t){if(st[i]!==undefined)st[i].forEach((function(t){return t()}))}}else{n.config[t]=e;if(st[t]!==undefined)st[t].forEach((function(t){return t()}));else if(ve.indexOf(t)>-1)n.config[t]=xe(e)}n.redraw();Ct(true)}function ct(t,e){var i=[];if(t instanceof Array)i=t.map((function(t){return n.parseDate(t,e)}));else if(t instanceof Date||typeof t==="number")i=[n.parseDate(t,e)];else if(typeof t==="string"){switch(n.config.mode){case"single":case"time":i=[n.parseDate(t,e)];break;case"multiple":i=t.split(n.config.conjunction).map((function(t){return n.parseDate(t,e)}));break;case"range":i=t.split(n.l10n.rangeSeparator).map((function(t){return n.parseDate(t,e)}));break}}else n.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(t)));n.selectedDates=n.config.allowInvalidPreload?i:i.filter((function(t){return t instanceof Date&&Y(t,false)}));if(n.config.mode==="range")n.selectedDates.sort((function(t,e){return t.getTime()-e.getTime()}))}function ft(t,e,i){if(e===void 0){e=false}if(i===void 0){i=n.config.dateFormat}if(t!==0&&!t||t instanceof Array&&t.length===0)return n.clear(e);ct(t,i);n.latestSelectedDateObj=n.selectedDates[n.selectedDates.length-1];n.redraw();g(undefined,e);d();if(n.selectedDates.length===0){n.clear(false)}Ct(e);if(e)mt("onChange")}function ut(t){return t.slice().map((function(t){if(typeof t==="string"||typeof t==="number"||t instanceof Date){return n.parseDate(t,undefined,true)}else if(t&&typeof t==="object"&&t.from&&t.to)return{from:n.parseDate(t.from,undefined),to:n.parseDate(t.to,undefined)};return t})).filter((function(t){return t}))}function dt(){n.selectedDates=[];n.now=n.parseDate(n.config.now)||new Date;var t=n.config.defaultDate||((n.input.nodeName==="INPUT"||n.input.nodeName==="TEXTAREA")&&n.input.placeholder&&n.input.value===n.input.placeholder?null:n.input.value);if(t)ct(t,n.config.dateFormat);n._initialDate=n.selectedDates.length>0?n.selectedDates[0]:n.config.minDate&&n.config.minDate.getTime()>n.now.getTime()?n.config.minDate:n.config.maxDate&&n.config.maxDate.getTime()<n.now.getTime()?n.config.maxDate:n.now;n.currentYear=n._initialDate.getFullYear();n.currentMonth=n._initialDate.getMonth();if(n.selectedDates.length>0)n.latestSelectedDateObj=n.selectedDates[0];if(n.config.minTime!==undefined)n.config.minTime=n.parseDate(n.config.minTime,"H:i");if(n.config.maxTime!==undefined)n.config.maxTime=n.parseDate(n.config.maxTime,"H:i");n.minDateHasTime=!!n.config.minDate&&(n.config.minDate.getHours()>0||n.config.minDate.getMinutes()>0||n.config.minDate.getSeconds()>0);n.maxDateHasTime=!!n.config.maxDate&&(n.config.maxDate.getHours()>0||n.config.maxDate.getMinutes()>0||n.config.maxDate.getSeconds()>0)}function ht(){n.input=X();if(!n.input){n.config.errorHandler(new Error("Invalid input element specified"));return}n.input._type=n.input.type;n.input.type="text";n.input.classList.add("flatpickr-input");n._input=n.input;if(n.config.altInput){n.altInput=De(n.input.nodeName,n.config.altInputClass);n._input=n.altInput;n.altInput.placeholder=n.input.placeholder;n.altInput.disabled=n.input.disabled;n.altInput.required=n.input.required;n.altInput.tabIndex=n.input.tabIndex;n.altInput.type="text";n.input.setAttribute("type","hidden");if(!n.config.static&&n.input.parentNode)n.input.parentNode.insertBefore(n.altInput,n.input.nextSibling)}if(!n.config.allowInput)n._input.setAttribute("readonly","readonly");pt()}function pt(){n._positionElement=n.config.positionElement||n._input}function bt(){var t=n.config.enableTime?n.config.noCalendar?"time":"datetime-local":"date";n.mobileInput=De("input",n.input.className+" flatpickr-mobile");n.mobileInput.tabIndex=1;n.mobileInput.type=t;n.mobileInput.disabled=n.input.disabled;n.mobileInput.required=n.input.required;n.mobileInput.placeholder=n.input.placeholder;n.mobileFormatStr=t==="datetime-local"?"Y-m-d\\TH:i:S":t==="date"?"Y-m-d":"H:i:S";if(n.selectedDates.length>0){n.mobileInput.defaultValue=n.mobileInput.value=n.formatDate(n.selectedDates[0],n.mobileFormatStr)}if(n.config.minDate)n.mobileInput.min=n.formatDate(n.config.minDate,"Y-m-d");if(n.config.maxDate)n.mobileInput.max=n.formatDate(n.config.maxDate,"Y-m-d");if(n.input.getAttribute("step"))n.mobileInput.step=String(n.input.getAttribute("step"));n.input.type="hidden";if(n.altInput!==undefined)n.altInput.type="hidden";try{if(n.input.parentNode)n.input.parentNode.insertBefore(n.mobileInput,n.input.nextSibling)}catch(t){}b(n.mobileInput,"change",(function(t){n.setDate(Te(t).value,false,n.mobileFormatStr);mt("onChange");mt("onClose")}))}function vt(t){if(n.isOpen===true)return n.close();n.open(t)}function mt(t,e){if(n.config===undefined)return;var i=n.config[t];if(i!==undefined&&i.length>0){for(var r=0;i[r]&&r<i.length;r++)i[r](n.selectedDates,n.input.value,n,e)}if(t==="onChange"){n.input.dispatchEvent(gt("change"));n.input.dispatchEvent(gt("input"))}}function gt(t){var e=document.createEvent("Event");e.initEvent(t,true,true);return e}function wt(t){for(var e=0;e<n.selectedDates.length;e++){var i=n.selectedDates[e];if(i instanceof Date&&Le(i,t)===0)return""+e}return false}function kt(t){if(n.config.mode!=="range"||n.selectedDates.length<2)return false;return Le(t,n.selectedDates[0])>=0&&Le(t,n.selectedDates[1])<=0}function yt(){if(n.config.noCalendar||n.isMobile||!n.monthNav)return;n.yearElements.forEach((function(t,e){var i=new Date(n.currentYear,n.currentMonth,1);i.setMonth(n.currentMonth+e);if(n.config.showMonths>1||n.config.monthSelectorType==="static"){n.monthElements[e].textContent=ze(i.getMonth(),n.config.shorthandCurrentMonth,n.l10n)+" "}else{n.monthsDropdownContainer.value=i.getMonth().toString()}t.value=i.getFullYear().toString()}));n._hidePrevMonthArrow=n.config.minDate!==undefined&&(n.currentYear===n.config.minDate.getFullYear()?n.currentMonth<=n.config.minDate.getMonth():n.currentYear<n.config.minDate.getFullYear());n._hideNextMonthArrow=n.config.maxDate!==undefined&&(n.currentYear===n.config.maxDate.getFullYear()?n.currentMonth+1>n.config.maxDate.getMonth():n.currentYear>n.config.maxDate.getFullYear())}function xt(t){var e=t||(n.config.altInput?n.config.altFormat:n.config.dateFormat);return n.selectedDates.map((function(t){return n.formatDate(t,e)})).filter((function(t,e,i){return n.config.mode!=="range"||n.config.enableTime||i.indexOf(t)===e})).join(n.config.mode!=="range"?n.config.conjunction:n.l10n.rangeSeparator)}function Ct(t){if(t===void 0){t=true}if(n.mobileInput!==undefined&&n.mobileFormatStr){n.mobileInput.value=n.latestSelectedDateObj!==undefined?n.formatDate(n.latestSelectedDateObj,n.mobileFormatStr):""}n.input.value=xt(n.config.dateFormat);if(n.altInput!==undefined){n.altInput.value=xt(n.config.altFormat)}if(t!==false)mt("onValueUpdate")}function Dt(t){var e=Te(t);var i=n.prevMonthNav.contains(e);var r=n.nextMonthNav.contains(e);if(i||r){F(i?-1:1)}else if(n.yearElements.indexOf(e)>=0){e.select()}else if(e.classList.contains("arrowUp")){n.changeYear(n.currentYear+1)}else if(e.classList.contains("arrowDown")){n.changeYear(n.currentYear-1)}}function Mt(t){t.preventDefault();var e=t.type==="keydown",i=Te(t),r=i;if(n.amPM!==undefined&&i===n.amPM){n.amPM.textContent=n.l10n.amPM[ke(n.amPM.textContent===n.l10n.amPM[0])]}var o=parseFloat(r.getAttribute("min")),a=parseFloat(r.getAttribute("max")),s=parseFloat(r.getAttribute("step")),l=parseInt(r.value,10),c=t.delta||(e?t.which===38?1:-1:0);var f=l+s*c;if(typeof r.value!=="undefined"&&r.value.length===2){var u=r===n.hourElement,d=r===n.minuteElement;if(f<o){f=a+f+ke(!u)+(ke(u)&&ke(!n.amPM));if(d)k(undefined,-1,n.hourElement)}else if(f>a){f=r===n.hourElement?f-a-ke(!n.amPM):o;if(d)k(undefined,1,n.hourElement)}if(n.amPM&&u&&(s===1?f+l===23:Math.abs(f-l)>s)){n.amPM.textContent=n.l10n.amPM[ke(n.amPM.textContent===n.l10n.amPM[0])]}r.value=we(f)}}r();return n}function Je(t,e){var n=Array.prototype.slice.call(t).filter((function(t){return t instanceof HTMLElement}));var i=[];for(var r=0;r<n.length;r++){var o=n[r];try{if(o.getAttribute("data-fp-omit")!==null)continue;if(o._flatpickr!==undefined){o._flatpickr.destroy();o._flatpickr=undefined}o._flatpickr=qe(o,e||{});i.push(o._flatpickr)}catch(t){console.error(t)}}return i.length===1?i[0]:i}if(typeof HTMLElement!=="undefined"&&typeof HTMLCollection!=="undefined"&&typeof NodeList!=="undefined"){HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(t){return Je(this,t)};HTMLElement.prototype.flatpickr=function(t){return Je([this],t)}}var Ve=function(t,e){if(typeof t==="string"){return Je(window.document.querySelectorAll(t),e)}else if(t instanceof Node){return Je([t],e)}else{return Je(t,e)}};Ve.defaultConfig={};Ve.l10ns={en:He({},ge),default:He({},ge)};Ve.localize=function(t){Ve.l10ns.default=He(He({},Ve.l10ns.default),t)};Ve.setDefaults=function(t){Ve.defaultConfig=He(He({},Ve.defaultConfig),t)};Ve.parseDate=Pe({});Ve.formatDate=Ee({});Ve.compareDates=Le;if(typeof jQuery!=="undefined"&&typeof jQuery.fn!=="undefined"){jQuery.fn.flatpickr=function(t){return Je(this,t)}}Date.prototype.fp_incr=function(t){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof t==="string"?parseInt(t,10):t))};if(typeof window!=="undefined"){window.flatpickr=Ve}var Ue=typeof globalThis!=="undefined"?globalThis:typeof window!=="undefined"?window:typeof global!=="undefined"?global:typeof self!=="undefined"?self:{};function Ke(t,e,n){return n={path:e,exports:{},require:function(t,e){return Qe()}},t(n,n.exports),n.exports}function Qe(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var Ze=Ke((function(t,e){(function(t,n){n(e)})(Ue,(function(t){var e=typeof window!=="undefined"&&window.flatpickr!==undefined?window.flatpickr:{l10ns:{}};var n={firstDayOfWeek:1,weekdays:{shorthand:["V","H","K","Sz","Cs","P","Szo"],longhand:["Vasárnap","Hétfő","Kedd","Szerda","Csütörtök","Péntek","Szombat"]},months:{shorthand:["Jan","Feb","Már","Ápr","Máj","Jún","Júl","Aug","Szep","Okt","Nov","Dec"],longhand:["Január","Február","Március","Április","Május","Június","Július","Augusztus","Szeptember","Október","November","December"]},ordinal:function(){return"."},weekAbbreviation:"Hét",scrollTitle:"Görgessen",toggleTitle:"Kattintson a váltáshoz",rangeSeparator:" - ",time_24hr:true};e.l10ns.hu=n;var i=e.l10ns;t.Hungarian=n;t.default=i;Object.defineProperty(t,"__esModule",{value:true})}))}));const Ge='.flatpickr-calendar{background:transparent;opacity:0;display:none;text-align:center;visibility:hidden;padding:0;-webkit-animation:none;animation:none;direction:ltr;border:0;font-size:14px;line-height:24px;border-radius:5px;position:absolute;width:307.875px;-webkit-box-sizing:border-box;box-sizing:border-box;-ms-touch-action:manipulation;touch-action:manipulation;background:#fff;-webkit-box-shadow:1px 0 0 #e6e6e6,-1px 0 0 #e6e6e6,0 1px 0 #e6e6e6,0 -1px 0 #e6e6e6,0 3px 13px rgba(0,0,0,0.08);box-shadow:1px 0 0 #e6e6e6,-1px 0 0 #e6e6e6,0 1px 0 #e6e6e6,0 -1px 0 #e6e6e6,0 3px 13px rgba(0,0,0,0.08)}.flatpickr-calendar.open,.flatpickr-calendar.inline{opacity:1;max-height:640px;visibility:visible}.flatpickr-calendar.open{display:inline-block;z-index:99999}.flatpickr-calendar.animate.open{-webkit-animation:fpFadeInDown 300ms cubic-bezier(.23,1,.32,1);animation:fpFadeInDown 300ms cubic-bezier(.23,1,.32,1)}.flatpickr-calendar.inline{display:block;position:relative;top:2px}.flatpickr-calendar.static{position:absolute;top:calc(100% + 2px)}.flatpickr-calendar.static.open{z-index:999;display:block}.flatpickr-calendar.multiMonth .flatpickr-days .dayContainer:nth-child(n+1) .flatpickr-day.inRange:nth-child(7n+7){-webkit-box-shadow:none !important;box-shadow:none !important}.flatpickr-calendar.multiMonth .flatpickr-days .dayContainer:nth-child(n+2) .flatpickr-day.inRange:nth-child(7n+1){-webkit-box-shadow:-2px 0 0 #e6e6e6,5px 0 0 #e6e6e6;box-shadow:-2px 0 0 #e6e6e6,5px 0 0 #e6e6e6}.flatpickr-calendar .hasWeeks .dayContainer,.flatpickr-calendar .hasTime .dayContainer{border-bottom:0;border-bottom-right-radius:0;border-bottom-left-radius:0}.flatpickr-calendar .hasWeeks .dayContainer{border-left:0}.flatpickr-calendar.hasTime .flatpickr-time{height:40px;border-top:1px solid #e6e6e6}.flatpickr-calendar.noCalendar.hasTime .flatpickr-time{height:auto}.flatpickr-calendar:before,.flatpickr-calendar:after{position:absolute;display:block;pointer-events:none;border:solid transparent;content:\'\';height:0;width:0;left:22px}.flatpickr-calendar.rightMost:before,.flatpickr-calendar.arrowRight:before,.flatpickr-calendar.rightMost:after,.flatpickr-calendar.arrowRight:after{left:auto;right:22px}.flatpickr-calendar.arrowCenter:before,.flatpickr-calendar.arrowCenter:after{left:50%;right:50%}.flatpickr-calendar:before{border-width:5px;margin:0 -5px}.flatpickr-calendar:after{border-width:4px;margin:0 -4px}.flatpickr-calendar.arrowTop:before,.flatpickr-calendar.arrowTop:after{bottom:100%}.flatpickr-calendar.arrowTop:before{border-bottom-color:#e6e6e6}.flatpickr-calendar.arrowTop:after{border-bottom-color:#fff}.flatpickr-calendar.arrowBottom:before,.flatpickr-calendar.arrowBottom:after{top:100%}.flatpickr-calendar.arrowBottom:before{border-top-color:#e6e6e6}.flatpickr-calendar.arrowBottom:after{border-top-color:#fff}.flatpickr-calendar:focus{outline:0}.flatpickr-wrapper{position:relative;display:inline-block}.flatpickr-months{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.flatpickr-months .flatpickr-month{background:transparent;color:rgba(0,0,0,0.9);fill:rgba(0,0,0,0.9);height:34px;line-height:1;text-align:center;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;overflow:hidden;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.flatpickr-months .flatpickr-prev-month,.flatpickr-months .flatpickr-next-month{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;text-decoration:none;cursor:pointer;position:absolute;top:0;height:34px;padding:10px;z-index:3;color:rgba(0,0,0,0.9);fill:rgba(0,0,0,0.9)}.flatpickr-months .flatpickr-prev-month.flatpickr-disabled,.flatpickr-months .flatpickr-next-month.flatpickr-disabled{display:none}.flatpickr-months .flatpickr-prev-month i,.flatpickr-months .flatpickr-next-month i{position:relative}.flatpickr-months .flatpickr-prev-month.flatpickr-prev-month,.flatpickr-months .flatpickr-next-month.flatpickr-prev-month{left:0}.flatpickr-months .flatpickr-prev-month.flatpickr-next-month,.flatpickr-months .flatpickr-next-month.flatpickr-next-month{right:0}.flatpickr-months .flatpickr-prev-month:hover,.flatpickr-months .flatpickr-next-month:hover{color:#959ea9}.flatpickr-months .flatpickr-prev-month:hover svg,.flatpickr-months .flatpickr-next-month:hover svg{fill:#f64747}.flatpickr-months .flatpickr-prev-month svg,.flatpickr-months .flatpickr-next-month svg{width:14px;height:14px}.flatpickr-months .flatpickr-prev-month svg path,.flatpickr-months .flatpickr-next-month svg path{-webkit-transition:fill .1s;transition:fill .1s;fill:inherit}.numInputWrapper{position:relative;height:auto}.numInputWrapper input,.numInputWrapper span{display:inline-block}.numInputWrapper input{width:100%}.numInputWrapper input::-ms-clear{display:none}.numInputWrapper input::-webkit-outer-spin-button,.numInputWrapper input::-webkit-inner-spin-button{margin:0;-webkit-appearance:none}.numInputWrapper span{position:absolute;right:0;width:14px;padding:0 4px 0 2px;height:50%;line-height:50%;opacity:0;cursor:pointer;border:1px solid rgba(57,57,57,0.15);-webkit-box-sizing:border-box;box-sizing:border-box}.numInputWrapper span:hover{background:rgba(0,0,0,0.1)}.numInputWrapper span:active{background:rgba(0,0,0,0.2)}.numInputWrapper span:after{display:block;content:"";position:absolute}.numInputWrapper span.arrowUp{top:0;border-bottom:0}.numInputWrapper span.arrowUp:after{border-left:4px solid transparent;border-right:4px solid transparent;border-bottom:4px solid rgba(57,57,57,0.6);top:26%}.numInputWrapper span.arrowDown{top:50%}.numInputWrapper span.arrowDown:after{border-left:4px solid transparent;border-right:4px solid transparent;border-top:4px solid rgba(57,57,57,0.6);top:40%}.numInputWrapper span svg{width:inherit;height:auto}.numInputWrapper span svg path{fill:rgba(0,0,0,0.5)}.numInputWrapper:hover{background:rgba(0,0,0,0.05)}.numInputWrapper:hover span{opacity:1}.flatpickr-current-month{font-size:135%;line-height:inherit;font-weight:300;color:inherit;position:absolute;width:75%;left:12.5%;padding:7.48px 0 0 0;line-height:1;height:34px;display:inline-block;text-align:center;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}.flatpickr-current-month span.cur-month{font-family:inherit;font-weight:700;color:inherit;display:inline-block;margin-left:.5ch;padding:0}.flatpickr-current-month span.cur-month:hover{background:rgba(0,0,0,0.05)}.flatpickr-current-month .numInputWrapper{width:6ch;width:7ch\\0;display:inline-block}.flatpickr-current-month .numInputWrapper span.arrowUp:after{border-bottom-color:rgba(0,0,0,0.9)}.flatpickr-current-month .numInputWrapper span.arrowDown:after{border-top-color:rgba(0,0,0,0.9)}.flatpickr-current-month input.cur-year{background:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;color:inherit;cursor:text;padding:0 0 0 .5ch;margin:0;display:inline-block;font-size:inherit;font-family:inherit;font-weight:300;line-height:inherit;height:auto;border:0;border-radius:0;vertical-align:initial;-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield}.flatpickr-current-month input.cur-year:focus{outline:0}.flatpickr-current-month input.cur-year[disabled],.flatpickr-current-month input.cur-year[disabled]:hover{font-size:100%;color:rgba(0,0,0,0.5);background:transparent;pointer-events:none}.flatpickr-current-month .flatpickr-monthDropdown-months{appearance:menulist;background:transparent;border:none;border-radius:0;box-sizing:border-box;color:inherit;cursor:pointer;font-size:inherit;font-family:inherit;font-weight:300;height:auto;line-height:inherit;margin:-1px 0 0 0;outline:none;padding:0 0 0 .5ch;position:relative;vertical-align:initial;-webkit-box-sizing:border-box;-webkit-appearance:menulist;-moz-appearance:menulist;width:auto}.flatpickr-current-month .flatpickr-monthDropdown-months:focus,.flatpickr-current-month .flatpickr-monthDropdown-months:active{outline:none}.flatpickr-current-month .flatpickr-monthDropdown-months:hover{background:rgba(0,0,0,0.05)}.flatpickr-current-month .flatpickr-monthDropdown-months .flatpickr-monthDropdown-month{background-color:transparent;outline:none;padding:0}.flatpickr-weekdays{background:transparent;text-align:center;overflow:hidden;width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;height:28px}.flatpickr-weekdays .flatpickr-weekdaycontainer{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}span.flatpickr-weekday{cursor:default;font-size:90%;background:transparent;color:rgba(0,0,0,0.54);line-height:1;margin:0;text-align:center;display:block;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;font-weight:bolder}.dayContainer,.flatpickr-weeks{padding:1px 0 0 0}.flatpickr-days{position:relative;overflow:hidden;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start;width:307.875px}.flatpickr-days:focus{outline:0}.dayContainer{padding:0;outline:0;text-align:left;width:307.875px;min-width:307.875px;max-width:307.875px;-webkit-box-sizing:border-box;box-sizing:border-box;display:inline-block;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-wrap:wrap;-ms-flex-pack:justify;-webkit-justify-content:space-around;justify-content:space-around;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0);opacity:1}.dayContainer+.dayContainer{-webkit-box-shadow:-1px 0 0 #e6e6e6;box-shadow:-1px 0 0 #e6e6e6}.flatpickr-day{background:none;border:1px solid transparent;border-radius:150px;-webkit-box-sizing:border-box;box-sizing:border-box;color:#393939;cursor:pointer;font-weight:400;width:14.2857143%;-webkit-flex-basis:14.2857143%;-ms-flex-preferred-size:14.2857143%;flex-basis:14.2857143%;max-width:39px;height:39px;line-height:39px;margin:0;display:inline-block;position:relative;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;text-align:center}.flatpickr-day.inRange,.flatpickr-day.prevMonthDay.inRange,.flatpickr-day.nextMonthDay.inRange,.flatpickr-day.today.inRange,.flatpickr-day.prevMonthDay.today.inRange,.flatpickr-day.nextMonthDay.today.inRange,.flatpickr-day:hover,.flatpickr-day.prevMonthDay:hover,.flatpickr-day.nextMonthDay:hover,.flatpickr-day:focus,.flatpickr-day.prevMonthDay:focus,.flatpickr-day.nextMonthDay:focus{cursor:pointer;outline:0;background:#e6e6e6;border-color:#e6e6e6}.flatpickr-day.today{border-color:#959ea9}.flatpickr-day.today:hover,.flatpickr-day.today:focus{border-color:#959ea9;background:#959ea9;color:#fff}.flatpickr-day.selected,.flatpickr-day.startRange,.flatpickr-day.endRange,.flatpickr-day.selected.inRange,.flatpickr-day.startRange.inRange,.flatpickr-day.endRange.inRange,.flatpickr-day.selected:focus,.flatpickr-day.startRange:focus,.flatpickr-day.endRange:focus,.flatpickr-day.selected:hover,.flatpickr-day.startRange:hover,.flatpickr-day.endRange:hover,.flatpickr-day.selected.prevMonthDay,.flatpickr-day.startRange.prevMonthDay,.flatpickr-day.endRange.prevMonthDay,.flatpickr-day.selected.nextMonthDay,.flatpickr-day.startRange.nextMonthDay,.flatpickr-day.endRange.nextMonthDay{background:#569ff7;-webkit-box-shadow:none;box-shadow:none;color:#fff;border-color:#569ff7}.flatpickr-day.selected.startRange,.flatpickr-day.startRange.startRange,.flatpickr-day.endRange.startRange{border-radius:50px 0 0 50px}.flatpickr-day.selected.endRange,.flatpickr-day.startRange.endRange,.flatpickr-day.endRange.endRange{border-radius:0 50px 50px 0}.flatpickr-day.selected.startRange+.endRange:not(:nth-child(7n+1)),.flatpickr-day.startRange.startRange+.endRange:not(:nth-child(7n+1)),.flatpickr-day.endRange.startRange+.endRange:not(:nth-child(7n+1)){-webkit-box-shadow:-10px 0 0 #569ff7;box-shadow:-10px 0 0 #569ff7}.flatpickr-day.selected.startRange.endRange,.flatpickr-day.startRange.startRange.endRange,.flatpickr-day.endRange.startRange.endRange{border-radius:50px}.flatpickr-day.inRange{border-radius:0;-webkit-box-shadow:-5px 0 0 #e6e6e6,5px 0 0 #e6e6e6;box-shadow:-5px 0 0 #e6e6e6,5px 0 0 #e6e6e6}.flatpickr-day.flatpickr-disabled,.flatpickr-day.flatpickr-disabled:hover,.flatpickr-day.prevMonthDay,.flatpickr-day.nextMonthDay,.flatpickr-day.notAllowed,.flatpickr-day.notAllowed.prevMonthDay,.flatpickr-day.notAllowed.nextMonthDay{color:rgba(57,57,57,0.3);background:transparent;border-color:transparent;cursor:default}.flatpickr-day.flatpickr-disabled,.flatpickr-day.flatpickr-disabled:hover{cursor:not-allowed;color:rgba(57,57,57,0.1)}.flatpickr-day.week.selected{border-radius:0;-webkit-box-shadow:-5px 0 0 #569ff7,5px 0 0 #569ff7;box-shadow:-5px 0 0 #569ff7,5px 0 0 #569ff7}.flatpickr-day.hidden{visibility:hidden}.rangeMode .flatpickr-day{margin-top:1px}.flatpickr-weekwrapper{float:left}.flatpickr-weekwrapper .flatpickr-weeks{padding:0 12px;-webkit-box-shadow:1px 0 0 #e6e6e6;box-shadow:1px 0 0 #e6e6e6}.flatpickr-weekwrapper .flatpickr-weekday{float:none;width:100%;line-height:28px}.flatpickr-weekwrapper span.flatpickr-day,.flatpickr-weekwrapper span.flatpickr-day:hover{display:block;width:100%;max-width:none;color:rgba(57,57,57,0.3);background:transparent;cursor:default;border:none}.flatpickr-innerContainer{display:block;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden}.flatpickr-rContainer{display:inline-block;padding:0;-webkit-box-sizing:border-box;box-sizing:border-box}.flatpickr-time{text-align:center;outline:0;display:block;height:0;line-height:40px;max-height:40px;-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.flatpickr-time:after{content:"";display:table;clear:both}.flatpickr-time .numInputWrapper{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;width:40%;height:40px;float:left}.flatpickr-time .numInputWrapper span.arrowUp:after{border-bottom-color:#393939}.flatpickr-time .numInputWrapper span.arrowDown:after{border-top-color:#393939}.flatpickr-time.hasSeconds .numInputWrapper{width:26%}.flatpickr-time.time24hr .numInputWrapper{width:49%}.flatpickr-time input{background:transparent;-webkit-box-shadow:none;box-shadow:none;border:0;border-radius:0;text-align:center;margin:0;padding:0;height:inherit;line-height:inherit;color:#393939;font-size:14px;position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield}.flatpickr-time input.flatpickr-hour{font-weight:bold}.flatpickr-time input.flatpickr-minute,.flatpickr-time input.flatpickr-second{font-weight:400}.flatpickr-time input:focus{outline:0;border:0}.flatpickr-time .flatpickr-time-separator,.flatpickr-time .flatpickr-am-pm{height:inherit;float:left;line-height:inherit;color:#393939;font-weight:bold;width:2%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-align-self:center;-ms-flex-item-align:center;align-self:center}.flatpickr-time .flatpickr-am-pm{outline:0;width:18%;cursor:pointer;text-align:center;font-weight:400}.flatpickr-time input:hover,.flatpickr-time .flatpickr-am-pm:hover,.flatpickr-time input:focus,.flatpickr-time .flatpickr-am-pm:focus{background:#eee}.flatpickr-input[readonly]{cursor:pointer}@-webkit-keyframes fpFadeInDown{from{opacity:0;-webkit-transform:translate3d(0,-20px,0);transform:translate3d(0,-20px,0)}to{opacity:1;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}}@keyframes fpFadeInDown{from{opacity:0;-webkit-transform:translate3d(0,-20px,0);transform:translate3d(0,-20px,0)}to{opacity:1;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}}:host{display:block}.answer{display:flex;align-items:center;justify-content:flex-end}.speech-bubble-triangle{display:flex;max-width:84%}.triangle-topright{border-top:7px solid var(--special-inactive);border-right:7px solid transparent}.speech-bubble-answer{background:var(--background-pastell-bg);border:1px solid  var(--special-inactive);border-radius:10px 0px 10px 10px;padding:0.3125rem}.speech-bubble-answer.date{display:flex}.speech-bubble-answer.string,.speech-bubble-answer.string>form{display:flex;width:100%}.answer-button{margin:0.3125rem;border:1px solid var(--brand-main-brand);background:var(--background-white-bg);border-radius:20px;color:var(--brand-main-brand);padding:0.3125rem 0.625rem;font-weight:600}.answer-button.active,.answer-input.answered{background:var(--brand-main-brand);color:var(--text-white-text)}.options-container{display:flex;flex-direction:row;flex-wrap:wrap}.answer-input{margin:0.0625rem !important;border:1px solid var(--brand-main-brand);border-radius:2px;padding-left:0.625rem;padding-right:0.625rem;color:var(--brand-main-brand);text-align:right;background-color:var(--background-white-bg)}textarea.answer-input{margin:0.0625rem;margin-right:0.625rem !important;border:1px solid var(--brand-main-brand);border-radius:2px;padding-left:0.625rem;padding-right:0.625rem;color:var(--brand-main-brand);text-align:right;background-color:var(--background-white-bg);min-width:13.9rem;min-height:1.875rem;height:1.875rem;width:100%}.answer-input:focus-visible{border-color:var(--brand-main-brand)}input::-webkit-outer-spin-button,input::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type="number"]{-moz-appearance:textfield}.fade-in.left{transition:0.5s all ease-in-out;transform:translate3d(-50px, 0, 0);opacity:0}.fade-in.right{transition:0.5s all ease-in-out;transform:translate3d(50px, 0, 0);opacity:0}.fade-in.show{opacity:1;transform:translate3d(0, 0, 0)}.answer-input:disabled,.answer-button:disabled{opacity:.4}';const Xe=class{constructor(e){t(this,e);this.answer=n(this,"answer",7);this.revokeAnswer=n(this,"revokeAnswer",7);this.messages={};this.options=[];this.localDateAnswerValue=undefined;this.fragment=undefined;this.answerValue=undefined;this.controlDisabled=undefined;this.locale="hu";this.lastLocale="";this.isActive=false;this.isDateActive=false;this.showContent=false}async loadMessages(){if(this.locale!==this.lastLocale){this.lastLocale=this.locale;this.messages=await ae(this.locale)}}handleAnswerValueChange(t){console.log("answerValue");this.numberAnswerValue=t+"";this.localNumberAnswerValue=t+"";this.dateAnswerValue=t;this.stringAnswerValue=t;this.yesButtonClass();this.noButtonClass();this.isActive=true;this.isDateActive=true}handleFragmentValueChange(t,e){console.log("old",e);console.log("new",t);this.showContent=false;if(this.fragment.type==="QuestionMenu"){this.options=[];for(let t=0;t<this.fragment.optionsExpert.length;t++){this.options.push(this.fragment.optionsLayman[t])}}console.log("handleFragmentValueChange",this.options);setTimeout((()=>{this.showContent=true;this.setFocus()}),1e3);console.log("fragment")}async componentWillLoad(){this.showContent=false;if(this.answerValue){this.numberAnswerValue=this.answerValue;this.localNumberAnswerValue=this.numberAnswerValue;this.dateAnswerValue=this.answerValue;this.stringAnswerValue=this.answerValue;this.localStringAnswerValue=this.stringAnswerValue;this.yesButtonClass();this.noButtonClass()}if(this.fragment.type==="QuestionMenu"){for(let t=0;t<this.fragment.optionsExpert.length;t++){this.options.push(this.fragment.optionsLayman[t])}}setTimeout((()=>{this.showContent=true;this.setFocus()}),1e3);console.log("componentWillLoad",this.options);await this.loadMessages()}componentDidLoad(){console.log("componentDidLoad");const t=this.element.querySelector("#hiddenDateInput");const e=this.element.querySelector("#dateInput");if(t){const n=Object.assign({},this.locale==="hu"?Ze.Hungarian:{});this.datePicker=Ve(t,{dateFormat:"Y-m-d",positionElement:e,clickOpens:false,disableMobile:true,allowInvalidPreload:true,locale:n,onChange:(t,e)=>{this.handleDateChange(e)}})}}handleButtonClick(){console.log("isDateActive",this.isDateActive);this.datePicker.open()}setFocus(){setTimeout((()=>{console.log("setFocus");const t=this.element.querySelector('input:not([hidden]):not([type="submit"])');console.log("input",t);if(!t){console.log(this.element)}if(!(this.answerValue!==null&&this.answerValue!==undefined)){console.log("focus",t);const e=this.element.querySelector("textarea");if(t){console.log("focus inputon");t.focus()}else if(e){console.log("focus arean");e.focus()}else{const t=this.element.querySelector("button");console.log("firstButton",t);if(t){console.log("focus gombon");t.focus()}}}}),1e3)}render(){const t="1.5em";const n="#2B7371";const i="M22.3402 10.6428L22.3327 10.6396L2.31328 2.33612C2.1449 2.26565 1.96167 2.23801 1.77999 2.25567C1.59831 2.27334 1.42384 2.33577 1.27219 2.43737C1.11197 2.54236 0.980359 2.68553 0.889207 2.85401C0.798055 3.02248 0.750218 3.21098 0.75 3.40253V8.713C0.750089 8.97486 0.841528 9.2285 1.00856 9.43018C1.17558 9.63186 1.40774 9.76896 1.665 9.81784L12.5836 11.8367C12.6265 11.8449 12.6652 11.8677 12.6931 11.9014C12.7209 11.935 12.7362 11.9773 12.7362 12.021C12.7362 12.0646 12.7209 12.1069 12.6931 12.1406C12.6652 12.1742 12.6265 12.1971 12.5836 12.2052L1.66547 14.2241C1.40828 14.2728 1.17614 14.4098 1.00903 14.6113C0.841932 14.8128 0.750328 15.0662 0.75 15.328V20.6394C0.749876 20.8223 0.795166 21.0024 0.881807 21.1635C0.968448 21.3246 1.09373 21.4616 1.24641 21.5624C1.43006 21.6844 1.6456 21.7496 1.86609 21.7499C2.01938 21.7497 2.1711 21.719 2.31234 21.6594L22.3312 13.4033L22.3402 13.3991C22.6096 13.2833 22.8392 13.091 23.0006 12.8461C23.1619 12.6011 23.2479 12.3143 23.2479 12.021C23.2479 11.7277 23.1619 11.4408 23.0006 11.1959C22.8392 10.9509 22.6096 10.7586 22.3402 10.6428Z";return e("div",{class:"step"},this.fragment.type!="Goal"&&e("div",null,e("step-question",{fragment:this.fragment,isActiveQuestion:!(this.answerValue!==null&&this.answerValue!==undefined)}),e("div",{class:`answer fade-in right ${this.showContent?"show":""}`},this.fragment.type==="QuestionMenu"&&e("div",{class:"speech-bubble-triangle"},e("span",{class:"speech-bubble-answer"},e("div",{class:"options-container"},this.options.map(((t,n)=>e("button",{class:{"answer-button":true,active:this.answerValue===n},disabled:this.controlDisabled,onClick:()=>this.menuAnswer(n)},e("div",null,t)))))),e("div",{class:"triangle-topright"})),this.fragment.type==="QuestionYesNo"&&e("div",{class:"speech-bubble-triangle"},e("span",{class:"speech-bubble-answer"},e("button",{class:{"answer-button":true,active:this.yesButtonClass()},disabled:this.controlDisabled,onClick:()=>this.yesNoAnswer("true")},this.messages["question-yes"]),e("button",{class:{"answer-button":true,active:this.noButtonClass()},disabled:this.controlDisabled,onClick:()=>this.yesNoAnswer("false")},this.messages["question-no"])),e("div",{class:"triangle-topright"})),this.fragment.type==="QuestionInteger"&&e("div",{class:"speech-bubble-triangle"},e("span",{class:"speech-bubble-answer"},e("form",{onSubmit:t=>{t.preventDefault();const e=t.target;this.numberAnswerValue=e.getElementsByTagName("input")[0].value;this.numberAnswer()}},e("input",{type:"number",required:true,inputMode:"numeric",min:"0",step:"1",class:{"answer-input":true,answered:this.isActive},value:this.localNumberAnswerValue,onInput:t=>{const e=t.target;e.setCustomValidity("");this.onNumberInput(t)},disabled:this.controlDisabled,onKeyDown:()=>this.setNumberActive(),onInvalid:t=>{const e=t.target;console.log("message",this.messages["validation-message"]);e.setCustomValidity(this.messages["validation-message"])},style:{width:"8em"}}),e("input",{type:"submit",hidden:true}))),e("div",{class:"triangle-topright"})),this.fragment.type==="QuestionDecimal"&&e("div",{class:"speech-bubble-triangle"},e("span",{class:"speech-bubble-answer"},e("form",{onSubmit:t=>{t.preventDefault();const e=t.target;this.numberAnswerValue=e.getElementsByTagName("input")[0].value;this.numberAnswer()}},e("input",{type:"number",required:true,step:"any",inputMode:"numeric",class:{"answer-input":true,answered:this.isActive},value:this.localNumberAnswerValue,onInput:t=>{const e=t.target;e.setCustomValidity("");this.onNumberInput(t)},disabled:this.controlDisabled,onKeyDown:()=>this.setNumberActive(),onInvalid:t=>{const e=t.target;console.log("message",this.messages["validation-message"]);e.setCustomValidity(this.messages["validation-message"])},style:{width:"8em"}}),e("input",{type:"submit",hidden:true}))),e("div",{class:"triangle-topright"})),this.fragment.type==="QuestionString"&&e("div",{class:"speech-bubble-triangle",style:{flexGrow:"1"}},e("span",{class:"speech-bubble-answer string"},e("form",{id:"stringform",onSubmit:t=>{t.preventDefault();this.stringAnswer()}},e("textarea",{required:true,class:{"answer-input":true,answered:this.isActive},value:this.localStringAnswerValue,onInput:t=>{const e=t.target;e.setCustomValidity("");this.onStringInput(t)},disabled:this.controlDisabled,onKeyDown:()=>this.setStringActive(),onInvalid:t=>{const e=t.target;console.log("message",this.messages["validation-message"]);e.setCustomValidity(this.messages["validation-message"])}}),e("input",{type:"submit",hidden:true})),e("button",{onClick:()=>{const t=this.element.querySelector("#stringform");console.log("form",t);const e=t.getElementsByTagName("input")[0];console.log("hiddenSubmit");e.click()},style:{alignSelf:"flex-start",marginTop:"4px"}},e("svg",{width:t,viewBox:"0 0 24 24",fill:"none"},e("path",{d:i,fill:n})))),e("div",{class:"triangle-topright"})),this.fragment.type==="QuestionDate"&&e("div",{class:"speech-bubble-triangle"},e("span",{class:"speech-bubble-answer date"},e("form",{id:"dateform",onSubmit:t=>{t.preventDefault();console.log("submit");const e=t.target;const n=e.getElementsByTagName("input")[0];if(isNaN(Date.parse(this.localDateAnswerValue))){this.datePicker.setDate((new Date).toISOString().slice(0,10));console.log("parse nem");n.setCustomValidity(this.messages["validation-message"]);return}else{this.datePicker.setDate(this.localDateAnswerValue)}this.dateAnswerValue=this.localDateAnswerValue;this.setDateActive();this.dateAnswer()},style:{marginRight:"0.625em"}},e("input",{type:"text",id:"dateInput",pattern:"\\d{4}-\\d{2}-\\d{2}",required:true,placeholder:"YYYY-MM-DD",value:this.localDateAnswerValue,class:{"answer-input":true,answered:this.isDateActive},disabled:this.controlDisabled,onInput:t=>{t.target.setCustomValidity("");this.onDateInput(t)},onKeyDown:()=>this.setDateActive(),onKeyUp:t=>{const e=t.target;if(isNaN(Date.parse(this.localDateAnswerValue))){this.datePicker.setDate((new Date).toISOString().slice(0,10));console.log("parse nem");e.setCustomValidity(this.messages["validation-message"])}else{e.setCustomValidity("")}},onInvalid:t=>{console.log(t);const e=t.target;e.setCustomValidity(this.messages["validation-message"])},style:{width:"8em"}}),e("input",{type:"hidden",id:"hiddenDateInput",readonly:true,style:{display:"none"}}),e("input",{type:"submit",hidden:true})),e("button",{id:"date",onClick:()=>this.handleButtonClick()},e("svg",{width:t,viewBox:"0 0 24 24",fill:"none"},e("path",{d:"M19.5 3.75H4.5C3.25736 3.75 2.25 4.75736 2.25 6V19.5C2.25 20.7426 3.25736 21.75 4.5 21.75H19.5C20.7426 21.75 21.75 20.7426 21.75 19.5V6C21.75 4.75736 20.7426 3.75 19.5 3.75Z",stroke:"#2B7371","stroke-width":"2","stroke-linejoin":"round"}),e("path",{d:"M6 2.25V3.75M18 2.25V3.75M21.75 7.5H2.25M14.25 12.1875L16.2853 10.6875H16.5V18.5625M7.21781 11.3873C7.42078 11.0442 7.98891 10.5 8.99203 10.5C10.178 10.5 11.2369 11.1459 11.2369 12.3703C11.2396 12.6073 11.1948 12.8425 11.1052 13.062C11.0156 13.2814 10.883 13.4807 10.7152 13.6481C10.2028 14.1727 9.42094 14.3733 8.99391 14.3733C9.47672 14.3733 10.3622 14.6002 10.9416 15.1927C11.3128 15.5709 11.4844 16.1044 11.4844 16.6959C11.4844 18.0028 10.3814 18.75 9.04125 18.75C7.90828 18.75 7.21313 17.9264 6.98438 17.5388",stroke:"#2B7371","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),e("rect",{x:"0.5",y:"0.5",width:"23",height:"23",stroke:n})))),e("div",{class:"triangle-topright"})))))}handleDateChange(t){console.log("handleDateChange",t);this.setDateActive();if(isNaN(Date.parse(t))){return}const e=new Date(t);const n=e.getFullYear();const i=e.getMonth()+1;const r=e.getDate();this.localDateAnswerValue=`${n}-${this.padZero(i)}-${this.padZero(r)}`;this.dateAnswerValue=this.localDateAnswerValue;this.dateAnswer()}padZero(t){return t.toString().padStart(2,"0")}onDateInput(t){this.localDateAnswerValue=t.target.value;this.setDateActive()}setDateActive(){this.isDateActive=this.answerValue===this.dateAnswerValue&&this.localDateAnswerValue===this.dateAnswerValue;console.log("isDateActive,",this.isDateActive)}onNumberInput(t){this.localNumberAnswerValue=t.target.value;this.setNumberActive()}checkNumberInput(t){if(t.key==="Enter"||t.key==="NumpadEnter"){this.numberAnswerValue=t.target.value;this.numberAnswer()}this.setNumberActive()}onStringInput(t){console.log("string input",t);let e=t.target;console.log("style",e.scrollHeight);e.style.height="";e.style.height=e.scrollHeight+"px";this.localStringAnswerValue=t.target.value;this.setStringActive()}setNumberActive(){this.isActive=this.answerValue===(this.numberAnswerValue+"").replace(",",".")&&(this.localNumberAnswerValue+"").replace(",",".")===this.numberAnswerValue;console.log("isActive,",this.isActive)}setStringActive(){this.isActive=this.answerValue===this.stringAnswerValue&&this.localStringAnswerValue===this.stringAnswerValue;console.log("isActive,",this.isActive)}menuAnswer(t){if(this.answerValue===undefined){this.answerValue=t;this.fragment.answer=this.answerValue;this.answer.emit({answer:this.answerValue,iri:this.fragment.iri})}else{this.answerValue=t;this.fragment.answer=this.answerValue;this.revokeAnswer.emit({answer:this.answerValue,iri:this.fragment.iri})}}yesNoAnswer(t){if(this.answerValue===undefined){this.answerValue=t;this.fragment.answer=this.answerValue;this.answer.emit({answer:this.answerValue,iri:this.fragment.iri})}else{this.answerValue=t;this.fragment.answer=this.answerValue;this.revokeAnswer.emit({answer:this.answerValue,iri:this.fragment.iri})}this.yesButtonClass();this.noButtonClass()}numberAnswer(){if(!this.answerValue){if(this.numberAnswerValue){this.answerValue=this.numberAnswerValue.replace(",",".");this.fragment.answer=this.answerValue;this.answer.emit({answer:this.answerValue,iri:this.fragment.iri})}}else{if(this.numberAnswerValue){this.answerValue=this.numberAnswerValue.replace(",",".");this.fragment.answer=this.answerValue;this.revokeAnswer.emit({answer:this.answerValue,iri:this.fragment.iri})}}}stringAnswer(){this.stringAnswerValue=this.localStringAnswerValue;if(!this.answerValue){if(this.stringAnswerValue){this.answerValue=this.stringAnswerValue;this.fragment.answer=this.answerValue;this.answer.emit({answer:this.answerValue,iri:this.fragment.iri})}}else{if(this.stringAnswerValue){this.answerValue=this.stringAnswerValue;this.fragment.answer=this.answerValue;this.revokeAnswer.emit({answer:this.answerValue,iri:this.fragment.iri})}}}dateAnswer(){if(!this.answerValue){if(this.dateAnswerValue){this.answerValue=this.dateAnswerValue;this.fragment.answer=this.answerValue;this.answer.emit({answer:this.answerValue,iri:this.fragment.iri})}}else{if(this.dateAnswerValue){this.answerValue=this.dateAnswerValue;this.fragment.answer=this.answerValue;this.revokeAnswer.emit({answer:this.answerValue,iri:this.fragment.iri})}}}yesButtonClass(){let t=this.answerValue+"";if(t==="undefined"||t==="null"){return false}return t==="true"}noButtonClass(){let t=this.answerValue+"";if(t==="undefined"||t==="null"){return false}return t==="false"}okButtonClass(){let t=this.answerValue+"";if(t==="undefined"||t==="null"){return"unselected-btn"}return"selected-btn"}get element(){return a(this)}static get watchers(){return{locale:["loadMessages"],answerValue:["handleAnswerValueChange"],fragment:["handleFragmentValueChange"]}}};Xe.style=Ge;const tn=":host{display:block}.question{display:flex;align-items:center;margin-bottom:1.25rem;margin-top:1.25rem}.speech-bubble-triangle{display:flex;max-width:84%}.triangle-topleft{border-top:7px solid var(--special-inactive);border-left:7px solid transparent}.speech-bubble-question{background:var(--background-white-bg);border:1px solid var(--special-inactive);border-radius:0px 10px 10px 10px;padding:0.625rem}.speech-bubble-question.active{background:var(--background-warning-bg)}.infoicon{margin-left:0.625rem;color:var(--brand-main-brand)}.clickable{cursor:pointer}ion-popover.full-size{--width:calc(100vw - var(--page-margin) * 2);--box-shadow:0 5px 10px 0 rgba(0, 0, 0, 0.6);--border-radius:20px;--overflow:hidden;--width:calc(100%);--margin-left:auto;--margin-right:auto}ion-popover.full-size::part(content){margin:var(--page-margin);left:0;border-radius:10px}ion-popover.full-size::part(backdrop){background-color:var(--special-transparent)}ion-popover.full-size::part(arrow){display:none}ion-popover h1{margin:0 0 10px 0}ion-popover ion-content{--background:#ecebeb}ion-popover.warning ion-content{--background:var(--special-warning)}";const en=class{constructor(e){t(this,e);this.fragment=undefined;this.isActiveQuestion=undefined;this.showContent=false}handleFragmentValueChange(){this.showContent=false;setTimeout((()=>{this.showContent=true}),1e3);console.log("q-fragment")}hasTooltip(){return!!this.fragment.descriptionLayman}async componentWillLoad(){this.showContent=false;setTimeout((()=>{this.showContent=true}),200);console.log("componentWillLoad-q")}async presentPopover(t){if(this.fragment.descriptionLayman.trim()!==""){const e=`button-${this.fragment.iri}`;const n=document.getElementById(e);console.log(n);if(!n){return}const i=await s.create({component:"ion-popover",event:t,alignment:"center",translucent:true,showBackdrop:false,cssClass:"full-size",animated:true,componentProps:{}});const r=document.createElement("ion-content");r.classList.add("ion-padding");r.innerHTML=this.fragment.descriptionLayman;i.appendChild(r);await i.present()}}render(){const t="1.5em";const n="#2B7371";const i="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336h24V272H216c-13.3 0-24-10.7-24-24s10.7-24 24-24h48c13.3 0 24 10.7 24 24v88h8c13.3 0 24 10.7 24 24s-10.7 24-24 24H216c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z";const r="0 0 512 512";if(!this.hasTooltip()){return e("div",{class:`question fade-in left ${this.showContent?"show":""}`},e("div",{class:"speech-bubble-triangle"},e("div",{class:"triangle-topleft"}),e("span",{class:{"speech-bubble-question":true,active:this.isActiveQuestion},innerHTML:this.fragment.labelLayman})))}return e("div",{class:`question fade-in left ${this.showContent?"show":""}`},e("div",{class:"speech-bubble-triangle"},e("div",{class:"triangle-topleft"}),e("span",{class:{"speech-bubble-question":true,active:this.isActiveQuestion},innerHTML:this.fragment.labelLayman})),e("svg",{id:`button-${this.fragment.iri}`,class:"infoicon clickable",width:t,viewBox:r,onClick:t=>this.presentPopover(t)},e("path",{d:i,fill:n})))}static get watchers(){return{fragment:["handleFragmentValueChange"]}}};en.style=tn;export{b as description_component,le as dialog_component,fe as ion_content,be as result_component,Xe as step_component,en as step_question};
//# sourceMappingURL=p-0a200f12.entry.js.map