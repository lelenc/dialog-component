import{r as t,d as o,w as e,h as i,H as r,i as s}from"./p-66a8649d.js";import{g as n,c as a}from"./p-3184ff59.js";import{a as d,i as c,d as h,r as p,f as l,p as f}from"./p-09c49e1c.js";import{C as u,a as m,d as b}from"./p-41d99575.js";import{g as w,h as x,b as g,d as v,n as k}from"./p-22318485.js";import{KEYBOARD_DID_OPEN as y}from"./p-5627b71a.js";import{p as A}from"./p-28e84784.js";import{w as D}from"./p-be7dc084.js";import{G as B,a as Y,B as E,b as M,s as S,d as C,h as j,e as P,f as $}from"./p-868d65df.js";import{g as O}from"./p-0e4de1d0.js";import{d as I,w as T}from"./p-9cabb3f6.js";import{c as z}from"./p-f1f22152.js";import{g as W}from"./p-2f802871.js";import{createGesture as L}from"./p-0b857c77.js";import"./p-7e6e551b.js";import"./p-add30d46.js";import"./p-6396c013.js";
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */var R;(function(t){t["Dark"]="DARK";t["Light"]="LIGHT";t["Default"]="DEFAULT"})(R||(R={}));const N={getEngine(){var t;return((t=D===null||D===void 0?void 0:D.Capacitor)===null||t===void 0?void 0:t.isPluginAvailable("StatusBar"))&&(D===null||D===void 0?void 0:D.Capacitor.Plugins.StatusBar)},supportsDefaultStatusBarStyle(){var t;return!!((t=D===null||D===void 0?void 0:D.Capacitor)===null||t===void 0?void 0:t.PluginHeaders)},setStyle(t){const o=this.getEngine();if(!o){return}o.setStyle(t)},getStyle:async function(){const t=this.getEngine();if(!t){return R.Default}const{style:o}=await t.getInfo();return o}};
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const _=(t,o)=>{if(o===1){return 0}const e=1/(1-o);const i=-(o*e);return t*e+i};const G=()=>{if(!D||D.innerWidth>=768||!N.supportsDefaultStatusBarStyle()){return}N.setStyle({style:R.Dark})};const K=(t=R.Default)=>{if(!D||D.innerWidth>=768||!N.supportsDefaultStatusBarStyle()){return}N.setStyle({style:t})};
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const V=async(t,o)=>{if(typeof t.canDismiss!=="function"){return}const e=await t.canDismiss(undefined,B);if(!e){return}if(o.isRunning()){o.onFinish((()=>{t.dismiss(undefined,"handler")}),{oneTimeCallback:true})}else{t.dismiss(undefined,"handler")}};const F=t=>.00255275*2.71828**(-14.9619*t)-1.00255*2.71828**(-.0380968*t)+1;
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const H={MIN_PRESENTING_SCALE:.93};const Z=(t,o,e,i)=>{const r=.5;const s=t.offsetHeight;let n=false;let a=false;let l=null;let f=null;const u=.2;let m=true;let b=0;const g=()=>{if(l&&c(l)){return l.scrollY}else{return true}};const v=t=>{const o=t.event.target;if(o===null||!o.closest){return true}l=d(o);if(l){if(c(l)){const t=w(l);f=t.querySelector(".inner-scroll")}else{f=l}const t=!!l.querySelector("ion-refresher");return!t&&f.scrollTop===0}const e=o.closest("ion-footer");if(e===null){return true}return false};const k=e=>{const{deltaY:i}=e;m=g();a=t.canDismiss!==undefined&&t.canDismiss!==true;if(i>0&&l){h(l)}o.progressStart(true,n?1:0)};const y=t=>{const{deltaY:i}=t;if(i>0&&l){h(l)}const n=t.deltaY/s;const d=n>=0&&a;const c=d?u:.9999;const p=d?F(n/c):n;const f=x(1e-4,p,c);o.progressStep(f);if(f>=r&&b<r){K(e)}else if(f<r&&b>=r){G()}b=f};const A=e=>{const d=e.velocityY;const c=e.deltaY/s;const h=c>=0&&a;const f=h?u:.9999;const b=h?F(c/f):c;const w=x(1e-4,b,f);const g=(e.deltaY+d*1e3)/s;const v=!h&&g>=r;let k=v?-.001:.001;if(!v){o.easing("cubic-bezier(1, 0, 0.68, 0.28)");k+=W([0,0],[1,0],[.68,.28],[1,1],w)[0]}else{o.easing("cubic-bezier(0.32, 0.72, 0, 1)");k+=W([0,0],[.32,.72],[0,1],[1,1],w)[0]}const y=v?U(c*s,d):U((1-w)*s,d);n=v;D.enable(false);if(l){p(l,m)}o.onFinish((()=>{if(!v){D.enable(true)}})).progressEnd(v?1:0,k,y);if(h&&w>f/4){V(t,o)}else if(v){i()}};const D=L({el:t,gestureName:"modalSwipeToClose",gesturePriority:39,direction:"y",threshold:10,canStart:v,onStart:k,onMove:y,onEnd:A});return D};const U=(t,o)=>x(400,t/Math.abs(o*1.1),500);
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const q=t=>{const{currentBreakpoint:o,backdropBreakpoint:e}=t;const i=e===undefined||e<o;const r=i?`calc(var(--backdrop-opacity) * ${o})`:"0";const s=z("backdropAnimation").fromTo("opacity",0,r);if(i){s.beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"])}const n=z("wrapperAnimation").keyframes([{offset:0,opacity:1,transform:"translateY(100%)"},{offset:1,opacity:1,transform:`translateY(${100-o*100}%)`}]);return{wrapperAnimation:n,backdropAnimation:s}};const J=t=>{const{currentBreakpoint:o,backdropBreakpoint:e}=t;const i=`calc(var(--backdrop-opacity) * ${_(o,e)})`;const r=[{offset:0,opacity:i},{offset:1,opacity:0}];const s=[{offset:0,opacity:i},{offset:e,opacity:0},{offset:1,opacity:0}];const n=z("backdropAnimation").keyframes(e!==0?s:r);const a=z("wrapperAnimation").keyframes([{offset:0,opacity:1,transform:`translateY(${100-o*100}%)`},{offset:1,opacity:1,transform:`translateY(100%)`}]);return{wrapperAnimation:a,backdropAnimation:n}};
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Q=()=>{const t=z().fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]);const o=z().fromTo("transform","translateY(100vh)","translateY(0vh)");return{backdropAnimation:t,wrapperAnimation:o}};const X=(t,o)=>{const{presentingEl:e,currentBreakpoint:i}=o;const r=w(t);const{wrapperAnimation:s,backdropAnimation:n}=i!==undefined?q(o):Q();n.addElement(r.querySelector("ion-backdrop"));s.addElement(r.querySelectorAll(".modal-wrapper, .modal-shadow")).beforeStyles({opacity:1});const a=z("entering-base").addElement(t).easing("cubic-bezier(0.32,0.72,0,1)").duration(500).addAnimation(s);if(e){const t=window.innerWidth<768;const o=e.tagName==="ION-MODAL"&&e.presentingElement!==undefined;const i=w(e);const r=z().beforeStyles({transform:"translateY(0)","transform-origin":"top center",overflow:"hidden"});const d=document.body;if(t){const t=!CSS.supports("width","max(0px, 1px)")?"30px":"max(30px, var(--ion-safe-area-top))";const i=o?"-10px":t;const s=H.MIN_PRESENTING_SCALE;const n=`translateY(${i}) scale(${s})`;r.afterStyles({transform:n}).beforeAddWrite((()=>d.style.setProperty("background-color","black"))).addElement(e).keyframes([{offset:0,filter:"contrast(1)",transform:"translateY(0px) scale(1)",borderRadius:"0px"},{offset:1,filter:"contrast(0.85)",transform:n,borderRadius:"10px 10px 0 0"}]);a.addAnimation(r)}else{a.addAnimation(n);if(!o){s.fromTo("opacity","0","1")}else{const t=o?H.MIN_PRESENTING_SCALE:1;const e=`translateY(-10px) scale(${t})`;r.afterStyles({transform:e}).addElement(i.querySelector(".modal-wrapper")).keyframes([{offset:0,filter:"contrast(1)",transform:"translateY(0) scale(1)"},{offset:1,filter:"contrast(0.85)",transform:e}]);const s=z().afterStyles({transform:e}).addElement(i.querySelector(".modal-shadow")).keyframes([{offset:0,opacity:"1",transform:"translateY(0) scale(1)"},{offset:1,opacity:"0",transform:e}]);a.addAnimation([r,s])}}}else{a.addAnimation(n)}return a};
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const tt=()=>{const t=z().fromTo("opacity","var(--backdrop-opacity)",0);const o=z().fromTo("transform","translateY(0vh)","translateY(100vh)");return{backdropAnimation:t,wrapperAnimation:o}};const ot=(t,o,e=500)=>{const{presentingEl:i,currentBreakpoint:r}=o;const s=w(t);const{wrapperAnimation:n,backdropAnimation:a}=r!==undefined?J(o):tt();a.addElement(s.querySelector("ion-backdrop"));n.addElement(s.querySelectorAll(".modal-wrapper, .modal-shadow")).beforeStyles({opacity:1});const d=z("leaving-base").addElement(t).easing("cubic-bezier(0.32,0.72,0,1)").duration(e).addAnimation(n);if(i){const t=window.innerWidth<768;const o=i.tagName==="ION-MODAL"&&i.presentingElement!==undefined;const e=w(i);const r=z().beforeClearStyles(["transform"]).afterClearStyles(["transform"]).onFinish((t=>{if(t!==1){return}i.style.setProperty("overflow","");const o=Array.from(s.querySelectorAll("ion-modal")).filter((t=>t.presentingElement!==undefined)).length;if(o<=1){s.style.setProperty("background-color","")}}));const s=document.body;if(t){const t=!CSS.supports("width","max(0px, 1px)")?"30px":"max(30px, var(--ion-safe-area-top))";const e=o?"-10px":t;const s=H.MIN_PRESENTING_SCALE;const n=`translateY(${e}) scale(${s})`;r.addElement(i).keyframes([{offset:0,filter:"contrast(0.85)",transform:n,borderRadius:"10px 10px 0 0"},{offset:1,filter:"contrast(1)",transform:"translateY(0px) scale(1)",borderRadius:"0px"}]);d.addAnimation(r)}else{d.addAnimation(a);if(!o){n.fromTo("opacity","1","0")}else{const t=o?H.MIN_PRESENTING_SCALE:1;const i=`translateY(-10px) scale(${t})`;r.addElement(e.querySelector(".modal-wrapper")).afterStyles({transform:"translate3d(0, 0, 0)"}).keyframes([{offset:0,filter:"contrast(0.85)",transform:i},{offset:1,filter:"contrast(1)",transform:"translateY(0) scale(1)"}]);const s=z().addElement(e.querySelector(".modal-shadow")).afterStyles({transform:"translateY(0) scale(1)"}).keyframes([{offset:0,opacity:"0",transform:i},{offset:1,opacity:"1",transform:"translateY(0) scale(1)"}]);d.addAnimation([r,s])}}}else{d.addAnimation(a)}return d};
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const et=()=>{const t=z().fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]);const o=z().keyframes([{offset:0,opacity:.01,transform:"translateY(40px)"},{offset:1,opacity:1,transform:`translateY(0px)`}]);return{backdropAnimation:t,wrapperAnimation:o}};const it=(t,o)=>{const{currentBreakpoint:e}=o;const i=w(t);const{wrapperAnimation:r,backdropAnimation:s}=e!==undefined?q(o):et();s.addElement(i.querySelector("ion-backdrop"));r.addElement(i.querySelector(".modal-wrapper"));return z().addElement(t).easing("cubic-bezier(0.36,0.66,0.04,1)").duration(280).addAnimation([s,r])};
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const rt=()=>{const t=z().fromTo("opacity","var(--backdrop-opacity)",0);const o=z().keyframes([{offset:0,opacity:.99,transform:`translateY(0px)`},{offset:1,opacity:0,transform:"translateY(40px)"}]);return{backdropAnimation:t,wrapperAnimation:o}};const st=(t,o)=>{const{currentBreakpoint:e}=o;const i=w(t);const{wrapperAnimation:r,backdropAnimation:s}=e!==undefined?J(o):rt();s.addElement(i.querySelector("ion-backdrop"));r.addElement(i.querySelector(".modal-wrapper"));return z().easing("cubic-bezier(0.47,0,0.745,0.715)").duration(200).addAnimation([s,r])};
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const nt=(t,o,e,i,r,s,n=[],a,d,c)=>{const h=[{offset:0,opacity:"var(--backdrop-opacity)"},{offset:1,opacity:.01}];const p=[{offset:0,opacity:"var(--backdrop-opacity)"},{offset:1-r,opacity:0},{offset:1,opacity:0}];const l={WRAPPER_KEYFRAMES:[{offset:0,transform:"translateY(0%)"},{offset:1,transform:"translateY(100%)"}],BACKDROP_KEYFRAMES:r!==0?p:h};const f=t.querySelector("ion-content");const u=e.clientHeight;let m=i;let b=0;let w=false;const v=.95;const k=s.childAnimations.find((t=>t.id==="wrapperAnimation"));const y=s.childAnimations.find((t=>t.id==="backdropAnimation"));const A=n[n.length-1];const D=n[0];const B=()=>{t.style.setProperty("pointer-events","auto");o.style.setProperty("pointer-events","auto");t.classList.remove("ion-disable-focus-trap")};const Y=()=>{t.style.setProperty("pointer-events","none");o.style.setProperty("pointer-events","none");t.classList.add("ion-disable-focus-trap")};if(k&&y){k.keyframes([...l.WRAPPER_KEYFRAMES]);y.keyframes([...l.BACKDROP_KEYFRAMES]);s.progressStart(true,1-m);const t=m>r;if(t){B()}else{Y()}}if(f&&m!==A){f.scrollY=false}const E=t=>{const o=t.event.target.closest("ion-content");m=a();if(m===1&&o){return false}return true};const M=()=>{w=t.canDismiss!==undefined&&t.canDismiss!==true&&D===0;if(f){f.scrollY=false}g((()=>{t.focus()}));s.progressStart(true,1-m)};const S=t=>{const o=1-m;const e=n.length>1?1-n[1]:undefined;const i=o+t.deltaY/u;const r=e!==undefined&&i>=e&&w;const a=r?v:.9999;const d=r&&e!==undefined?e+F((i-e)/(a-e)):i;b=x(1e-4,d,a);s.progressStep(b)};const C=t=>{const o=t.velocityY;const e=(t.deltaY+o*350)/u;const i=m-e;const r=n.reduce(((t,o)=>Math.abs(o-i)<Math.abs(t-i)?o:t));j({breakpoint:r,breakpointOffset:b,canDismiss:w})};const j=o=>{const{breakpoint:e,canDismiss:i,breakpointOffset:a}=o;const h=i&&e===0;const p=h?m:e;const u=p!==0;m=0;if(k&&y){k.keyframes([{offset:0,transform:`translateY(${a*100}%)`},{offset:1,transform:`translateY(${(1-p)*100}%)`}]);y.keyframes([{offset:0,opacity:`calc(var(--backdrop-opacity) * ${_(1-a,r)})`},{offset:1,opacity:`calc(var(--backdrop-opacity) * ${_(p,r)})`}]);s.progressStep(0)}P.enable(false);if(h){V(t,s)}else if(!u){d()}return new Promise((t=>{s.onFinish((()=>{if(u){if(k&&y){g((()=>{k.keyframes([...l.WRAPPER_KEYFRAMES]);y.keyframes([...l.BACKDROP_KEYFRAMES]);s.progressStart(true,1-p);m=p;c(m);if(f&&m===n[n.length-1]){f.scrollY=true}const o=m>r;if(o){B()}else{Y()}P.enable(true);t()}))}else{P.enable(true);t()}}else{t()}}),{oneTimeCallback:true}).progressEnd(1,0,500)}))};const P=L({el:e,gestureName:"modalSheet",gesturePriority:40,direction:"y",threshold:10,canStart:E,onStart:M,onMove:S,onEnd:C});return{gesture:P,moveSheetToBreakpoint:j}};const at=':host{--width:100%;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--overflow:hidden;--border-radius:0;--border-width:0;--border-style:none;--border-color:transparent;--background:var(--ion-background-color, #fff);--box-shadow:none;--backdrop-opacity:0;left:0;right:0;top:0;bottom:0;display:flex;position:absolute;align-items:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);contain:strict}.modal-wrapper,ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.modal-wrapper,.modal-shadow{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);box-shadow:var(--box-shadow);overflow:var(--overflow);z-index:10}.modal-shadow{position:absolute;background:transparent}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--width:600px;--height:500px;--ion-safe-area-top:0px;--ion-safe-area-bottom:0px;--ion-safe-area-right:0px;--ion-safe-area-left:0px}}@media only screen and (min-width: 768px) and (min-height: 768px){:host{--width:600px;--height:600px}}.modal-handle{left:0px;right:0px;top:5px;border-radius:8px;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;position:absolute;width:36px;height:5px;transform:translateZ(0);border:0;background:var(--ion-color-step-350, #c0c0be);cursor:pointer;z-index:11}.modal-handle::before{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px;padding-top:4px;padding-bottom:4px;position:absolute;width:36px;height:5px;transform:translate(-50%, -50%);content:""}:host(.modal-sheet){--height:calc(100% - (var(--ion-safe-area-top) + 10px))}:host(.modal-sheet) .modal-wrapper,:host(.modal-sheet) .modal-shadow{position:absolute;bottom:0}:host{--backdrop-opacity:var(--ion-backdrop-opacity, 0.4)}:host(.modal-card),:host(.modal-sheet){--border-radius:10px}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--border-radius:10px}}.modal-wrapper{transform:translate3d(0,  100%,  0)}@media screen and (max-width: 767px){@supports (width: max(0px, 1px)){:host(.modal-card){--height:calc(100% - max(30px, var(--ion-safe-area-top)) - 10px)}}@supports not (width: max(0px, 1px)){:host(.modal-card){--height:calc(100% - 40px)}}:host(.modal-card) .modal-wrapper{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0;border-bottom-left-radius:0}:host-context([dir=rtl]):host(.modal-card) .modal-wrapper,:host-context([dir=rtl]).modal-card .modal-wrapper{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0;border-bottom-left-radius:0}@supports selector(:dir(rtl)){:host(.modal-card) .modal-wrapper:dir(rtl){border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0;border-bottom-left-radius:0}}:host(.modal-card){--backdrop-opacity:0;--width:100%;align-items:flex-end}:host(.modal-card) .modal-shadow{display:none}:host(.modal-card) ion-backdrop{pointer-events:none}}@media screen and (min-width: 768px){:host(.modal-card){--width:calc(100% - 120px);--height:calc(100% - (120px + var(--ion-safe-area-top) + var(--ion-safe-area-bottom)));--max-width:720px;--max-height:1000px;--backdrop-opacity:0;--box-shadow:0px 0px 30px 10px rgba(0, 0, 0, 0.1);transition:all 0.5s ease-in-out}:host(.modal-card) .modal-wrapper{box-shadow:none}:host(.modal-card) .modal-shadow{box-shadow:var(--box-shadow)}}:host(.modal-sheet) .modal-wrapper{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0;border-bottom-left-radius:0}:host-context([dir=rtl]):host(.modal-sheet) .modal-wrapper,:host-context([dir=rtl]).modal-sheet .modal-wrapper{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0;border-bottom-left-radius:0}@supports selector(:dir(rtl)){:host(.modal-sheet) .modal-wrapper:dir(rtl){border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0;border-bottom-left-radius:0}}';const dt=':host{--width:100%;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--overflow:hidden;--border-radius:0;--border-width:0;--border-style:none;--border-color:transparent;--background:var(--ion-background-color, #fff);--box-shadow:none;--backdrop-opacity:0;left:0;right:0;top:0;bottom:0;display:flex;position:absolute;align-items:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);contain:strict}.modal-wrapper,ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.modal-wrapper,.modal-shadow{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);box-shadow:var(--box-shadow);overflow:var(--overflow);z-index:10}.modal-shadow{position:absolute;background:transparent}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--width:600px;--height:500px;--ion-safe-area-top:0px;--ion-safe-area-bottom:0px;--ion-safe-area-right:0px;--ion-safe-area-left:0px}}@media only screen and (min-width: 768px) and (min-height: 768px){:host{--width:600px;--height:600px}}.modal-handle{left:0px;right:0px;top:5px;border-radius:8px;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;position:absolute;width:36px;height:5px;transform:translateZ(0);border:0;background:var(--ion-color-step-350, #c0c0be);cursor:pointer;z-index:11}.modal-handle::before{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px;padding-top:4px;padding-bottom:4px;position:absolute;width:36px;height:5px;transform:translate(-50%, -50%);content:""}:host(.modal-sheet){--height:calc(100% - (var(--ion-safe-area-top) + 10px))}:host(.modal-sheet) .modal-wrapper,:host(.modal-sheet) .modal-shadow{position:absolute;bottom:0}:host{--backdrop-opacity:var(--ion-backdrop-opacity, 0.32)}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--border-radius:2px;--box-shadow:0 28px 48px rgba(0, 0, 0, 0.4)}}.modal-wrapper{transform:translate3d(0,  40px,  0);opacity:0.01}';const ct=class{constructor(e){t(this,e);this.didPresent=o(this,"ionModalDidPresent",7);this.willPresent=o(this,"ionModalWillPresent",7);this.willDismiss=o(this,"ionModalWillDismiss",7);this.didDismiss=o(this,"ionModalDidDismiss",7);this.ionBreakpointDidChange=o(this,"ionBreakpointDidChange",7);this.didPresentShorthand=o(this,"didPresent",7);this.willPresentShorthand=o(this,"willPresent",7);this.willDismissShorthand=o(this,"willDismiss",7);this.didDismissShorthand=o(this,"didDismiss",7);this.ionMount=o(this,"ionMount",7);this.triggerController=Y();this.coreDelegate=u();this.isSheetModal=false;this.inheritedAttributes={};this.inline=false;this.gestureAnimationDismissing=false;this.onHandleClick=()=>{const{sheetTransition:t,handleBehavior:o}=this;if(o!=="cycle"||t!==undefined){return}this.moveToNextBreakpoint()};this.onBackdropTap=()=>{const{sheetTransition:t}=this;if(t!==undefined){return}this.dismiss(undefined,E)};this.onLifecycle=t=>{const o=this.usersElement;const e=ht[t.type];if(o&&e){const i=new CustomEvent(e,{bubbles:false,cancelable:false,detail:t.detail});o.dispatchEvent(i)}};this.presented=false;this.hasController=false;this.overlayIndex=undefined;this.delegate=undefined;this.keyboardClose=true;this.enterAnimation=undefined;this.leaveAnimation=undefined;this.breakpoints=undefined;this.initialBreakpoint=undefined;this.backdropBreakpoint=0;this.handle=undefined;this.handleBehavior="none";this.component=undefined;this.componentProps=undefined;this.cssClass=undefined;this.backdropDismiss=true;this.showBackdrop=true;this.animated=true;this.presentingElement=undefined;this.htmlAttributes=undefined;this.isOpen=false;this.trigger=undefined;this.keepContentsMounted=false;this.canDismiss=true}onIsOpenChange(t,o){if(t===true&&o===false){this.present()}else if(t===false&&o===true){this.dismiss()}}triggerChanged(){const{trigger:t,el:o,triggerController:e}=this;if(t){e.addClickListener(o,t)}}breakpointsChanged(t){if(t!==undefined){this.sortedBreakpoints=t.sort(((t,o)=>t-o))}}connectedCallback(){const{el:t}=this;M(t);this.triggerChanged()}disconnectedCallback(){this.triggerController.removeClickListener()}componentWillLoad(){const{breakpoints:t,initialBreakpoint:o,el:e}=this;const i=this.isSheetModal=t!==undefined&&o!==undefined;this.inheritedAttributes=v(e,["aria-label","role"]);if(i){this.currentBreakpoint=this.initialBreakpoint}if(t!==undefined&&o!==undefined&&!t.includes(o)){A("Your breakpoints array must include the initialBreakpoint value.")}S(e)}componentDidLoad(){if(this.isOpen===true){g((()=>this.present()))}this.breakpointsChanged(this.breakpoints)}getDelegate(t=false){if(this.workingDelegate&&!t){return{delegate:this.workingDelegate,inline:this.inline}}const o=this.el.parentNode;const e=this.inline=o!==null&&!this.hasController;const i=this.workingDelegate=e?this.delegate||this.coreDelegate:this.delegate;return{inline:e,delegate:i}}async checkCanDismiss(t,o){const{canDismiss:e}=this;if(typeof e==="function"){return e(t,o)}return e}async present(){if(this.presented){return}const{presentingElement:t,el:o}=this;if(this.currentTransition!==undefined){await this.currentTransition}this.currentBreakpoint=this.initialBreakpoint;const{inline:i,delegate:r}=this.getDelegate(true);this.usersElement=await m(r,o,this.component,["ion-page"],this.componentProps,i);this.ionMount.emit();if(k(o)){await I(this.usersElement)}else if(!this.keepContentsMounted){await T()}e((()=>this.el.classList.add("show-modal")));this.currentTransition=C(this,"modalEnter",X,it,{presentingEl:t,currentBreakpoint:this.initialBreakpoint,backdropBreakpoint:this.backdropBreakpoint});if(typeof window!=="undefined"){this.keyboardOpenCallback=()=>{if(this.gesture){this.gesture.enable(false);g((()=>{if(this.gesture){this.gesture.enable(true)}}))}};window.addEventListener(y,this.keyboardOpenCallback)}const s=t!==undefined;if(s&&n(this)==="ios"){this.statusBarStyle=await N.getStyle();G()}await this.currentTransition;if(this.isSheetModal){this.initSheetGesture()}else if(s){this.initSwipeToClose()}this.currentTransition=undefined}initSwipeToClose(){var t;if(n(this)!=="ios"){return}const{el:o}=this;const e=this.leaveAnimation||a.get("modalLeave",ot);const i=this.animation=e(o,{presentingEl:this.presentingElement});const r=l(o);if(!r){f(o);return}const s=(t=this.statusBarStyle)!==null&&t!==void 0?t:R.Default;this.gesture=Z(o,i,s,(()=>{this.gestureAnimationDismissing=true;this.animation.onFinish((async()=>{await this.dismiss(undefined,B);this.gestureAnimationDismissing=false}))}));this.gesture.enable(true)}initSheetGesture(){const{wrapperEl:t,initialBreakpoint:o,backdropBreakpoint:e}=this;if(!t||o===undefined){return}const i=this.enterAnimation||a.get("modalEnter",X);const r=this.animation=i(this.el,{presentingEl:this.presentingElement,currentBreakpoint:o,backdropBreakpoint:e});r.progressStart(true,1);const{gesture:s,moveSheetToBreakpoint:n}=nt(this.el,this.backdropEl,t,o,e,r,this.sortedBreakpoints,(()=>{var t;return(t=this.currentBreakpoint)!==null&&t!==void 0?t:0}),(()=>this.sheetOnDismiss()),(t=>{if(this.currentBreakpoint!==t){this.currentBreakpoint=t;this.ionBreakpointDidChange.emit({breakpoint:t})}}));this.gesture=s;this.moveSheetToBreakpoint=n;this.gesture.enable(true)}sheetOnDismiss(){this.gestureAnimationDismissing=true;this.animation.onFinish((async()=>{this.currentBreakpoint=0;this.ionBreakpointDidChange.emit({breakpoint:this.currentBreakpoint});await this.dismiss(undefined,B);this.gestureAnimationDismissing=false}))}async dismiss(t,o){var i;if(this.gestureAnimationDismissing&&o!==B){return false}if(o!=="handler"&&!await this.checkCanDismiss(t,o)){return false}const{presentingElement:r}=this;const s=r!==undefined;if(s&&n(this)==="ios"){K(this.statusBarStyle)}if(typeof window!=="undefined"&&this.keyboardOpenCallback){window.removeEventListener(y,this.keyboardOpenCallback);this.keyboardOpenCallback=undefined}if(this.currentTransition!==undefined){await this.currentTransition}const a=j.get(this)||[];this.currentTransition=P(this,t,o,"modalLeave",ot,st,{presentingEl:r,currentBreakpoint:(i=this.currentBreakpoint)!==null&&i!==void 0?i:this.initialBreakpoint,backdropBreakpoint:this.backdropBreakpoint});const d=await this.currentTransition;if(d){const{delegate:t}=this.getDelegate();await b(t,this.usersElement);e((()=>this.el.classList.remove("show-modal")));if(this.animation){this.animation.destroy()}if(this.gesture){this.gesture.destroy()}a.forEach((t=>t.destroy()))}this.currentBreakpoint=undefined;this.currentTransition=undefined;this.animation=undefined;return d}onDidDismiss(){return $(this.el,"ionModalDidDismiss")}onWillDismiss(){return $(this.el,"ionModalWillDismiss")}async setCurrentBreakpoint(t){if(!this.isSheetModal){A("setCurrentBreakpoint is only supported on sheet modals.");return}if(!this.breakpoints.includes(t)){A(`Attempted to set invalid breakpoint value ${t}. Please double check that the breakpoint value is part of your defined breakpoints.`);return}const{currentBreakpoint:o,moveSheetToBreakpoint:e,canDismiss:i,breakpoints:r}=this;if(o===t){return}if(e){this.sheetTransition=e({breakpoint:t,breakpointOffset:1-o,canDismiss:i!==undefined&&i!==true&&r[0]===0});await this.sheetTransition;this.sheetTransition=undefined}}async getCurrentBreakpoint(){return this.currentBreakpoint}async moveToNextBreakpoint(){const{breakpoints:t,currentBreakpoint:o}=this;if(!t||o==null){return false}const e=t.filter((t=>t!==0));const i=e.indexOf(o);const r=(i+1)%e.length;const s=e[r];await this.setCurrentBreakpoint(s);return true}render(){const{handle:t,isSheetModal:o,presentingElement:e,htmlAttributes:s,handleBehavior:a,inheritedAttributes:d}=this;const c=t!==false&&o;const h=n(this);const p=e!==undefined&&h==="ios";const l=a==="cycle";return i(r,Object.assign({"no-router":true,tabindex:"-1"},s,{style:{zIndex:`${2e4+this.overlayIndex}`},class:Object.assign({[h]:true,["modal-default"]:!p&&!o,[`modal-card`]:p,[`modal-sheet`]:o,"overlay-hidden":true},O(this.cssClass)),onIonBackdropTap:this.onBackdropTap,onIonModalDidPresent:this.onLifecycle,onIonModalWillPresent:this.onLifecycle,onIonModalWillDismiss:this.onLifecycle,onIonModalDidDismiss:this.onLifecycle}),i("ion-backdrop",{ref:t=>this.backdropEl=t,visible:this.showBackdrop,tappable:this.backdropDismiss,part:"backdrop"}),h==="ios"&&i("div",{class:"modal-shadow"}),i("div",Object.assign({role:"dialog"},d,{"aria-modal":"true",class:"modal-wrapper ion-overlay-wrapper",part:"content",ref:t=>this.wrapperEl=t}),c&&i("button",{class:"modal-handle",tabIndex:!l?-1:0,"aria-label":"Activate to adjust the size of the dialog overlaying the screen",onClick:l?this.onHandleClick:undefined,part:"handle"}),i("slot",null)))}get el(){return s(this)}static get watchers(){return{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}}};const ht={ionModalDidPresent:"ionViewDidEnter",ionModalWillPresent:"ionViewWillEnter",ionModalWillDismiss:"ionViewWillLeave",ionModalDidDismiss:"ionViewDidLeave"};ct.style={ios:at,md:dt};export{ct as ion_modal};
//# sourceMappingURL=p-1997bd75.entry.js.map