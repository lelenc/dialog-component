{"version":3,"names":["descriptionComponentCss","DescriptionComponent","setData","newValue","this","showContent","title","label","data","setTimeout","console","log","render","h","class","_a","metadata","description","innerHTML","_b","isFunction","value","createErrorClass","createImpl","_super","instance","Error","call","stack","ctorFunc","prototype","Object","create","constructor","UnsubscriptionError","UnsubscriptionErrorImpl","errors","message","length","map","err","i","toString","join","name","arrRemove","arr","item","index","indexOf","splice","Subscription","initialTeardown","closed","_parentage","_finalizers","unsubscribe","Array","isArray","parent","remove","initialFinalizer","e","finalizer","execFinalizer","push","add","teardown","_hasParent","_addParent","includes","_removeParent","EMPTY","empty","EMPTY_SUBSCRIPTION","isSubscription","config","onUnhandledError","onStoppedNotification","Promise","undefined","useDeprecatedSynchronousErrorHandling","useDeprecatedNextContext","timeoutProvider","handler","timeout","args","delegate","clearTimeout","handle","reportUnhandledError","noop","COMPLETE_NOTIFICATION","createNotification","errorNotification","error","nextNotification","kind","errorContext","cb","Subscriber","destination","super","isStopped","EMPTY_OBSERVER","static","next","complete","SafeSubscriber","handleStoppedNotification","_next","_error","_complete","_bind","Function","bind","fn","thisArg","ConsumerObserver","partialObserver","handleUnhandledError","observerOrNext","context","defaultErrorHandler","notification","subscriber","observable","Symbol","identity","x","pipeFromArray","fns","piped","input","reduce","prev","Observable","subscribe","_subscribe","lift","operator","source","isSubscriber","_trySubscribe","sink","forEach","promiseCtor","getPromiseCtor","resolve","reject","Symbol_observable","pipe","operations","toPromise","isObserver","hasLift","operate","init","liftedSource","TypeError","createOperatorSubscriber","onNext","onComplete","onError","onFinalize","OperatorSubscriber","shouldUnsubscribe","ObjectUnsubscribedError","ObjectUnsubscribedErrorImpl","Subject","currentObservers","observers","hasError","thrownError","subject","AnonymousSubject","_throwIfClosed","from","observer","shift","observed","_checkFinalizedStatuses","_innerSubscribe","asObservable","isScheduler","schedule","last","popResultSelector","pop","popScheduler","__awaiter","_arguments","P","generator","adopt","fulfilled","step","rejected","result","done","then","apply","__values","o","s","iterator","m","__await","v","__asyncGenerator","asyncIterator","g","q","verb","n","a","b","resume","settle","r","fulfill","f","__asyncValues","d","isArrayLike","isPromise","isInteropObservable","isAsyncIterable","obj","createInvalidObservableTypeError","getSymbolIterator","isIterable","Symbol_iterator","readableStreamLikeToAsyncGenerator","readableStream","arguments","readableStreamLikeToAsyncGenerator_1","reader","getReader","read","releaseLock","isReadableStreamLike","innerFrom","fromInteropObservable","fromArrayLike","fromPromise","fromAsyncIterable","fromIterable","fromReadableStreamLike","obs","array","promise","iterable","asyncIterable","process","catch","asyncIterable_1","asyncIterable_1_1","e_1","e_1_1","return","executeSchedule","parentSubscription","scheduler","work","delay","repeat","scheduleSubscription","observeOn","subscribeOn","scheduleObservable","schedulePromise","scheduleArray","scheduleIterable","scheduleAsyncIterable","scheduleReadableStreamLike","scheduled","project","callOrApply","mapOneOrManyArgs","getPrototypeOf","objectProto","keys","getKeys","argsArgArrayOrObject","first","isPOJO","key","createObject","values","combineLatest","resultSelector","observables","combineLatestInit","valueTransform","maybeSchedule","active","remainingFirstValues","hasFirstValue","slice","execute","subscription","User","region","player_id","sex","education","birthyear","email","DialogAsyncService","serviceUrl","serverUrl","startWithIri","iri","lang","answers","stored","data$","fetch","method","body","JSON","stringify","headers","response","json","metadata$","startWithCaseId","caseId","date","getSession","sessionId","answer","revokeAnswer","getDialogMetadata","ElasticService","sendConsultationData","consultationObj","HelperService","user","host_domain","age","Date","getFullYear","getBodyWithUsers","mail","score","scr","goal","expert","substring","lastIndexOf","parseInt","dialogComponentCss","DialogComponent","hostRef","answer$","revoke$","startDate","now","Map","async","initSubscriptions","dialogAsyncService","elasticService","helperService","answersFromParams","params","ids","filter","p","test","id","toLocaleDateString","replace","locale","res","dialogData","dialogMetadata","fragmentData","fragments","dialogIri","endpointId","res2","fr","isPre","str","shortId","processNextQuestion","processRevoke","type","endDate","Set","saveAuto","scrollToLast","end","findIndex","revokeAnswerIri","assign","steps","document","getElementsByClassName","resultContainer","scrollIntoView","handleAnswer","detail","handleRevoke","saveDialog","sendData","labelExpert","layman","labelLayman","session","model_id","RegExp","exec","localPairs","frag","questionLayman","questionLabel","answerLayman","optionsLayman","parse","question","pairs","sessionName","fragment","answerValue","controlDisabled","onAnswer","event","onRevokeAnswer","resultData","contentCss","Content","watchDog","isScrolling","lastScroll","queued","cTop","cBottom","isMainContent","resizeTimeout","scrollTop","scrollLeft","startX","startY","startTime","currentX","currentY","velocityX","velocityY","deltaX","deltaY","currentTime","color","fullscreen","forceOverscroll","scrollX","scrollY","scrollEvents","connectedCallback","el","closest","disconnectedCallback","onScrollEnd","onAppLoad","resize","onResize","offsetParent","shouldForceOverscroll","mode","getIonMode","isPlatform","readTask","readDimensions","forceUpdate","page","getPageElement","top","Math","max","offsetTop","bottom","offsetHeight","dirty","onScroll","ev","timeStamp","shouldStart","onScrollStart","ts","updateScrollDetail","scrollEl","ionScroll","emit","componentOnReady","backgroundContentEl","scrollToTop","duration","scrollToPoint","getScrollElement","y","scrollHeight","clientHeight","fromY","fromX","linearTime","min","easedT","pow","floor","requestAnimationFrame","ionScrollStart","clearInterval","setInterval","ionScrollEnd","rtl","isRTL","transitionShadow","TagType","Host","createColorClasses","hostContext","overscroll","style","ref","part","getParentElement","parentElement","parentNode","host","tabs","timestamp","prevX","prevY","prevT","timeDelta","getIntlMessage","messages","import","default","resultComponentCss","ResultComponent","tag","resultFailTags","resultSuccessTags","lastLocale","resultD","makeResultLabel","setTag","loadMessages","setFocus","element","querySelector","focus","tmp","split","details","handleResultValueChange","toggleDetails","isDetailOpen","svgWidth","svgColor","svgPathDown","svgPathUp","svgPathCheck","svgPathBan","svgViewBox","svgTarget","alignSelf","width","height","viewBox","fill","xmlns","marginTop","fontWeight","marginRight","onClick","marginBottom","HOOKS","defaults","_disable","allowInput","allowInvalidPreload","altFormat","altInput","altInputClass","animate","window","navigator","userAgent","ariaDateFormat","autoFillDefaultTime","clickOpens","closeOnSelect","conjunction","dateFormat","defaultHour","defaultMinute","defaultSeconds","disable","disableMobile","enableSeconds","enableTime","errorHandler","warn","getWeek","givenDate","getTime","setHours","setDate","getDate","getDay","week1","round","hourIncrement","ignoredFocusElements","inline","minuteIncrement","monthSelectorType","nextArrow","noCalendar","onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition","plugins","position","positionElement","prevArrow","shorthandCurrentMonth","showMonths","time_24hr","weekNumbers","wrap","english","weekdays","shorthand","longhand","months","daysInMonth","firstDayOfWeek","ordinal","nth","rangeSeparator","weekAbbreviation","scrollTitle","toggleTitle","amPM","yearAriaLabel","monthAriaLabel","hourAriaLabel","minuteAriaLabel","pad","number","int","bool","debounce","wait","t","_this","arrayify","toggleClass","elem","className","classList","createElement","content","textContent","clearNode","node","firstChild","removeChild","findParent","condition","createNumberInput","inputClassName","opts","wrapper","numInput","arrowUp","arrowDown","pattern","setAttribute","appendChild","getEventTarget","composedPath","path","target","doNothing","monthToStr","monthNumber","revFormat","D","F","dateObj","monthName","setMonth","G","hour","getHours","parseFloat","H","J","day","K","M","shortMonth","S","seconds","setSeconds","U","_","unixSeconds","W","weekNum","weekNumber","Y","year","setFullYear","Z","ISODate","minutes","setMinutes","j","l","month","u","unixMillSeconds","w","tokenRegex","formats","toISOString","options","getMonth","getSeconds","getMinutes","String","createDateFormatter","_c","l10n","_d","isMobile","frmt","overrideLocale","formatDate","c","createDateParser","givenFormat","timeless","customLocale","parsedDate","dateOrig","toFixed","format","datestr","trim","parseDate","matched","ops","matchIndex","regexStr","token","isBackSlash","escaped","match","val","isNaN","compareDates","date1","date2","isBetween","ts1","ts2","calculateSecondsSinceMidnight","hours","parseSeconds","secondsSinceMidnight","DAY","getDefaultHours","minDate","minHour","minMinutes","minSeconds","maxDate","maxHr","maxMinutes","_i","_loop_1","args_1","__assign","hasOwnProperty","__spreadArrays","il","k","jl","DEBOUNCED_CHANGE_MS","FlatpickrInstance","instanceConfig","self","defaultOptions","flatpickr","defaultConfig","English","_handlers","pluginElements","loadedPlugins","_setHoursFromDate","setHoursFromDate","_positionCalendar","positionCalendar","changeMonth","changeYear","clear","close","onMouseOver","_createElement","createDay","destroy","isEnabled","jumpToDate","updateValue","open","redraw","set","toggle","setupHelperFunctions","utils","getDaysInMonth","yr","currentMonth","currentYear","isOpen","parseConfig","setupLocale","setupInputs","setupDates","build","bindEvents","selectedDates","latestSelectedDateObj","setCalendarWidth","isSafari","triggerEvent","getClosestActiveElement","calendarContainer","getRootNode","activeElement","bindToInstance","visibility","display","daysContainer","daysWidth","days","offsetWidth","weekWrapper","removeProperty","updateTime","defaultDate","getMilliseconds","timeWrapper","prevValue","_input","setHoursFromInputs","_debouncedChange","ampm2military","military2ampm","hourElement","minuteElement","secondElement","limitMinHours","minTime","minDateHasTime","limitMaxHours","maxTime","maxDateHasTime","minBound","maxBound","onYearInput","eventTarget","delta","addEventListener","removeEventListener","triggerChange","evt","querySelectorAll","setupMobile","debouncedResize","ontouchstart","documentClick","capture","monthNav","onMonthNavClick","selectDate","timeContainer","selText","select","timeIncrement","onBlur","jumpDate","jumpTo","oldYear","oldMonth","buildMonthSwitch","incrementNumInput","contains","inputElem","createEvent","dispatchEvent","createDocumentFragment","tabIndex","buildMonthNav","innerContainer","buildWeeks","rContainer","buildWeekdays","buildDays","buildTime","customAppend","appendTo","nodeType","insertBefore","nextSibling","_dayNumber","dateIsEnabled","dayElement","$i","todayDateElem","isDateSelected","selectedDateElem","isDateInRange","insertAdjacentHTML","focusOnDayElem","targetNode","getFirstAvailableDay","startMonth","endMonth","children","startIndex","endIndex","getNextAvailableDay","current","givenMonth","loopDelta","numMonthDays","abs","focusOnDay","offset","dayFocused","isInView","startElem","buildMonthDays","firstOfMonth","prevMonthDays","isMultiMonth","prevMonthDayClass","nextMonthDayClass","dayNumber","dayIndex","dayNum","dayContainer","shouldBuildMonth","monthsDropdownContainer","selected","buildMonth","container","monthNavFragment","monthElement","selectedMonth","yearInput","tabindex","yearElement","getElementsByTagName","disabled","buildMonths","prevMonthNav","yearElements","monthElements","nextMonthNav","defineProperty","get","__hidePrevMonthArrow","__hideNextMonthArrow","currentYearElement","updateNavigationCurrentMonth","separator","hourInput","minuteInput","secondInput","getAttribute","weekdayContainer","updateWeekdays","isOffset","_hidePrevMonthArrow","_hideNextMonthArrow","triggerChangeEvent","toInitial","mobileInput","_initialDate","lastChild","_type","removeAttribute","isCalendarElem","eventTarget_1","isCalendarElement","isInput","lostFocus","relatedTarget","isIgnored","some","newYear","newYearNum","isNewYear","dateToCheck","enable","parsed","to","valueChanged","trimEnd","getDateStr","allowKeydown","allowInlineKeydown","keyCode","blur","isTimeObj","preventDefault","focusAndClose","delta_1","ctrlKey","stopPropagation","elems","concat","shiftKey","charAt","toLowerCase","cellClass","hoverDate","firstElementChild","initialDate","rangeStartDate","rangeEndDate","containsDisabled","minRange","maxRange","hoverableCells","dayElem","outOfRange","_positionElement","click","wasOpen","minMaxDateSetter","inverseDateObj","boolOpts","userConfig","dataset","_enable","dates","parseDateRules","timeMode","defaultDateFormat","defaultAltFormat","_minDate","_maxDate","minMaxTimeSetter","_minTime","_maxTime","hook","pluginConf","getInputElem","l10ns","customPositionElement","calendarHeight","acc","child","calendarWidth","configPos","configPosVertical","configPosHorizontal","inputBounds","getBoundingClientRect","distanceFromBottom","innerHeight","showOnTop","pageYOffset","left","pageXOffset","isCenter","isRight","right","rightMost","centerMost","doc","getDocumentStyleSheet","bodyWidth","centerLeft","centerBefore","centerAfter","centerIndex","cssRules","centerStyle","insertRule","editableSheet","styleSheets","sheet","createStyleSheet","head","msMaxTouchPoints","isSelectable","selectedDate","shouldChangeMonth","selectedIndex","sort","single","range","CALLBACKS","updatePositionElement","option","setSelectedDate","inputDate","rule","preloadedDate","nodeName","placeholder","required","inputType","mobileFormatStr","defaultValue","hooks","initEvent","specificFormat","dObj","isPrevMonth","isNextMonth","isKeyDown","curValue","which","isHourElem","isMinuteElem","_flatpickr","nodeList","nodes","HTMLElement","instances","HTMLCollection","NodeList","selector","Node","en","localize","setDefaults","jQuery","fp_incr","stepComponentCss","StepComponent","handleAnswerValueChange","numberAnswerValue","localNumberAnswerValue","dateAnswerValue","stringAnswerValue","yesButtonClass","noButtonClass","isActive","isDateActive","handleFragmentValueChange","oldValue","optionsExpert","componentDidLoad","dateInput","datePicker","_selectedDates","dateStr","handleDateChange","handleButtonClick","firstInput","firstButton","svgPathCalendar","isActiveQuestion","op","menuAnswer","yesNoAnswer","onSubmit","form","numberAnswer","inputMode","answered","onInput","onNumberInput","setNumberActive","hidden","checkNumberInput","localDateAnswerValue","setDateActive","dateAnswer","onDateInput","dateString","padZero","padStart","stringAnswer","ans","okButtonClass","stepQuestionCss","StepQuestion","hasTooltip","descriptionLayman","buttonId","button","getElementById","popover","popoverController","component","alignment","translucent","showBackdrop","cssClass","animated","componentProps","popoverContent","present","svgPath","presentPopover"],"sources":["./src/components/description-component/description-component.css?tag=description-component","./src/components/description-component/description-component.tsx","./node_modules/rxjs/dist/esm/internal/util/isFunction.js","./node_modules/rxjs/dist/esm/internal/util/createErrorClass.js","./node_modules/rxjs/dist/esm/internal/util/UnsubscriptionError.js","./node_modules/rxjs/dist/esm/internal/util/arrRemove.js","./node_modules/rxjs/dist/esm/internal/Subscription.js","./node_modules/rxjs/dist/esm/internal/config.js","./node_modules/rxjs/dist/esm/internal/scheduler/timeoutProvider.js","./node_modules/rxjs/dist/esm/internal/util/reportUnhandledError.js","./node_modules/rxjs/dist/esm/internal/util/noop.js","./node_modules/rxjs/dist/esm/internal/NotificationFactories.js","./node_modules/rxjs/dist/esm/internal/util/errorContext.js","./node_modules/rxjs/dist/esm/internal/Subscriber.js","./node_modules/rxjs/dist/esm/internal/symbol/observable.js","./node_modules/rxjs/dist/esm/internal/util/identity.js","./node_modules/rxjs/dist/esm/internal/util/pipe.js","./node_modules/rxjs/dist/esm/internal/Observable.js","./node_modules/rxjs/dist/esm/internal/util/lift.js","./node_modules/rxjs/dist/esm/internal/operators/OperatorSubscriber.js","./node_modules/rxjs/dist/esm/internal/util/ObjectUnsubscribedError.js","./node_modules/rxjs/dist/esm/internal/Subject.js","./node_modules/rxjs/dist/esm/internal/util/isScheduler.js","./node_modules/rxjs/dist/esm/internal/util/args.js","./node_modules/tslib/tslib.es6.js","./node_modules/rxjs/dist/esm/internal/util/isArrayLike.js","./node_modules/rxjs/dist/esm/internal/util/isPromise.js","./node_modules/rxjs/dist/esm/internal/util/isInteropObservable.js","./node_modules/rxjs/dist/esm/internal/util/isAsyncIterable.js","./node_modules/rxjs/dist/esm/internal/util/throwUnobservableError.js","./node_modules/rxjs/dist/esm/internal/symbol/iterator.js","./node_modules/rxjs/dist/esm/internal/util/isIterable.js","./node_modules/rxjs/dist/esm/internal/util/isReadableStreamLike.js","./node_modules/rxjs/dist/esm/internal/observable/innerFrom.js","./node_modules/rxjs/dist/esm/internal/util/executeSchedule.js","./node_modules/rxjs/dist/esm/internal/operators/observeOn.js","./node_modules/rxjs/dist/esm/internal/operators/subscribeOn.js","./node_modules/rxjs/dist/esm/internal/scheduled/scheduleObservable.js","./node_modules/rxjs/dist/esm/internal/scheduled/schedulePromise.js","./node_modules/rxjs/dist/esm/internal/scheduled/scheduleArray.js","./node_modules/rxjs/dist/esm/internal/scheduled/scheduleIterable.js","./node_modules/rxjs/dist/esm/internal/scheduled/scheduleAsyncIterable.js","./node_modules/rxjs/dist/esm/internal/scheduled/scheduleReadableStreamLike.js","./node_modules/rxjs/dist/esm/internal/scheduled/scheduled.js","./node_modules/rxjs/dist/esm/internal/observable/from.js","./node_modules/rxjs/dist/esm/internal/operators/map.js","./node_modules/rxjs/dist/esm/internal/util/mapOneOrManyArgs.js","./node_modules/rxjs/dist/esm/internal/util/argsArgArrayOrObject.js","./node_modules/rxjs/dist/esm/internal/util/createObject.js","./node_modules/rxjs/dist/esm/internal/observable/combineLatest.js","./src/interfaces/user.ts","./src/services/dialog-async.service.ts","./src/services/elastic.service.ts","./src/services/helper.service.ts","./src/components/dialog-component/dialog-component.css?tag=dialog-component","./src/components/dialog-component/dialog-component.tsx","./node_modules/@ionic/core/dist/collection/components/content/content.css?tag=ion-content&encapsulation=shadow","./node_modules/@ionic/core/dist/collection/components/content/content.js","./src/language/translation.ts","./src/components/result-component/result-component.css?tag=result-component","./src/components/result-component/result-component.tsx","./node_modules/flatpickr/dist/esm/types/options.js","./node_modules/flatpickr/dist/esm/l10n/default.js","./node_modules/flatpickr/dist/esm/utils/index.js","./node_modules/flatpickr/dist/esm/utils/dom.js","./node_modules/flatpickr/dist/esm/utils/formatting.js","./node_modules/flatpickr/dist/esm/utils/dates.js","./node_modules/flatpickr/dist/esm/utils/polyfills.js","./node_modules/flatpickr/dist/esm/index.js","./src/components/step-component/step-component.css?tag=step-component","./src/components/step-component/step-component.tsx","./src/components/step-question/step-question.css?tag=step-question","./src/components/step-question/step-question.tsx"],"sourcesContent":[":host {\r\n  display: block;\r\n}\r\n\r\n.description-container {\r\n  background: #e8f1f1;\r\n  border: 1px solid #2b7371;\r\n  border-radius: 2px;\r\n  padding: 0.5625em;\r\n  margin-top: 1.25em;\r\n}\r\n\r\n.fade-in.top {\r\n  transition: 0.5s all ease-in-out;\r\n  transform: translate3d(0, -50px, 0);\r\n  opacity: 0;\r\n}\r\n","import { Component, Prop, State, Watch, h } from '@stencil/core';\r\nimport { DialogMetadata } from '../../interfaces/dialog-interfaces';\r\n\r\n@Component({\r\n  tag: 'description-component',\r\n  styleUrl: 'description-component.css',\r\n  shadow: false,\r\n})\r\nexport class DescriptionComponent {\r\n  @Prop() data: DialogMetadata;\r\n  @Prop() sessionName: string;\r\n  @State() showContent = false;\r\n\r\n  title: string;\r\n\r\n  @Watch('data')\r\n  setData(newValue: DialogMetadata) {\r\n    this.showContent = false;\r\n    if (newValue) {\r\n      if (newValue.title) {\r\n        this.title = newValue.title;\r\n      } else {\r\n        this.title = newValue.label;\r\n      }\r\n    }\r\n\r\n    this.data = newValue;\r\n    setTimeout(() => {\r\n      this.showContent = true;\r\n    }, 100);\r\n    console.log(\"desc,setData\")\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div class={`fade-in top ${this.showContent ? 'show' : ''}`}>\r\n        {this.data?.metadata.description && (\r\n\r\n          <div\r\n            class=\"description-container\"\r\n            innerHTML={this.data?.metadata.description}>\r\n          </div>\r\n\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n\r\n}\r\n","export function isFunction(value) {\n    return typeof value === 'function';\n}\n//# sourceMappingURL=isFunction.js.map","export function createErrorClass(createImpl) {\n    const _super = (instance) => {\n        Error.call(instance);\n        instance.stack = new Error().stack;\n    };\n    const ctorFunc = createImpl(_super);\n    ctorFunc.prototype = Object.create(Error.prototype);\n    ctorFunc.prototype.constructor = ctorFunc;\n    return ctorFunc;\n}\n//# sourceMappingURL=createErrorClass.js.map","import { createErrorClass } from './createErrorClass';\nexport const UnsubscriptionError = createErrorClass((_super) => function UnsubscriptionErrorImpl(errors) {\n    _super(this);\n    this.message = errors\n        ? `${errors.length} errors occurred during unsubscription:\n${errors.map((err, i) => `${i + 1}) ${err.toString()}`).join('\\n  ')}`\n        : '';\n    this.name = 'UnsubscriptionError';\n    this.errors = errors;\n});\n//# sourceMappingURL=UnsubscriptionError.js.map","export function arrRemove(arr, item) {\n    if (arr) {\n        const index = arr.indexOf(item);\n        0 <= index && arr.splice(index, 1);\n    }\n}\n//# sourceMappingURL=arrRemove.js.map","import { isFunction } from './util/isFunction';\nimport { UnsubscriptionError } from './util/UnsubscriptionError';\nimport { arrRemove } from './util/arrRemove';\nexport class Subscription {\n    constructor(initialTeardown) {\n        this.initialTeardown = initialTeardown;\n        this.closed = false;\n        this._parentage = null;\n        this._finalizers = null;\n    }\n    unsubscribe() {\n        let errors;\n        if (!this.closed) {\n            this.closed = true;\n            const { _parentage } = this;\n            if (_parentage) {\n                this._parentage = null;\n                if (Array.isArray(_parentage)) {\n                    for (const parent of _parentage) {\n                        parent.remove(this);\n                    }\n                }\n                else {\n                    _parentage.remove(this);\n                }\n            }\n            const { initialTeardown: initialFinalizer } = this;\n            if (isFunction(initialFinalizer)) {\n                try {\n                    initialFinalizer();\n                }\n                catch (e) {\n                    errors = e instanceof UnsubscriptionError ? e.errors : [e];\n                }\n            }\n            const { _finalizers } = this;\n            if (_finalizers) {\n                this._finalizers = null;\n                for (const finalizer of _finalizers) {\n                    try {\n                        execFinalizer(finalizer);\n                    }\n                    catch (err) {\n                        errors = errors !== null && errors !== void 0 ? errors : [];\n                        if (err instanceof UnsubscriptionError) {\n                            errors = [...errors, ...err.errors];\n                        }\n                        else {\n                            errors.push(err);\n                        }\n                    }\n                }\n            }\n            if (errors) {\n                throw new UnsubscriptionError(errors);\n            }\n        }\n    }\n    add(teardown) {\n        var _a;\n        if (teardown && teardown !== this) {\n            if (this.closed) {\n                execFinalizer(teardown);\n            }\n            else {\n                if (teardown instanceof Subscription) {\n                    if (teardown.closed || teardown._hasParent(this)) {\n                        return;\n                    }\n                    teardown._addParent(this);\n                }\n                (this._finalizers = (_a = this._finalizers) !== null && _a !== void 0 ? _a : []).push(teardown);\n            }\n        }\n    }\n    _hasParent(parent) {\n        const { _parentage } = this;\n        return _parentage === parent || (Array.isArray(_parentage) && _parentage.includes(parent));\n    }\n    _addParent(parent) {\n        const { _parentage } = this;\n        this._parentage = Array.isArray(_parentage) ? (_parentage.push(parent), _parentage) : _parentage ? [_parentage, parent] : parent;\n    }\n    _removeParent(parent) {\n        const { _parentage } = this;\n        if (_parentage === parent) {\n            this._parentage = null;\n        }\n        else if (Array.isArray(_parentage)) {\n            arrRemove(_parentage, parent);\n        }\n    }\n    remove(teardown) {\n        const { _finalizers } = this;\n        _finalizers && arrRemove(_finalizers, teardown);\n        if (teardown instanceof Subscription) {\n            teardown._removeParent(this);\n        }\n    }\n}\nSubscription.EMPTY = (() => {\n    const empty = new Subscription();\n    empty.closed = true;\n    return empty;\n})();\nexport const EMPTY_SUBSCRIPTION = Subscription.EMPTY;\nexport function isSubscription(value) {\n    return (value instanceof Subscription ||\n        (value && 'closed' in value && isFunction(value.remove) && isFunction(value.add) && isFunction(value.unsubscribe)));\n}\nfunction execFinalizer(finalizer) {\n    if (isFunction(finalizer)) {\n        finalizer();\n    }\n    else {\n        finalizer.unsubscribe();\n    }\n}\n//# sourceMappingURL=Subscription.js.map","export const config = {\n    onUnhandledError: null,\n    onStoppedNotification: null,\n    Promise: undefined,\n    useDeprecatedSynchronousErrorHandling: false,\n    useDeprecatedNextContext: false,\n};\n//# sourceMappingURL=config.js.map","export const timeoutProvider = {\n    setTimeout(handler, timeout, ...args) {\n        const { delegate } = timeoutProvider;\n        if (delegate === null || delegate === void 0 ? void 0 : delegate.setTimeout) {\n            return delegate.setTimeout(handler, timeout, ...args);\n        }\n        return setTimeout(handler, timeout, ...args);\n    },\n    clearTimeout(handle) {\n        const { delegate } = timeoutProvider;\n        return ((delegate === null || delegate === void 0 ? void 0 : delegate.clearTimeout) || clearTimeout)(handle);\n    },\n    delegate: undefined,\n};\n//# sourceMappingURL=timeoutProvider.js.map","import { config } from '../config';\nimport { timeoutProvider } from '../scheduler/timeoutProvider';\nexport function reportUnhandledError(err) {\n    timeoutProvider.setTimeout(() => {\n        const { onUnhandledError } = config;\n        if (onUnhandledError) {\n            onUnhandledError(err);\n        }\n        else {\n            throw err;\n        }\n    });\n}\n//# sourceMappingURL=reportUnhandledError.js.map","export function noop() { }\n//# sourceMappingURL=noop.js.map","export const COMPLETE_NOTIFICATION = (() => createNotification('C', undefined, undefined))();\nexport function errorNotification(error) {\n    return createNotification('E', undefined, error);\n}\nexport function nextNotification(value) {\n    return createNotification('N', value, undefined);\n}\nexport function createNotification(kind, value, error) {\n    return {\n        kind,\n        value,\n        error,\n    };\n}\n//# sourceMappingURL=NotificationFactories.js.map","import { config } from '../config';\nlet context = null;\nexport function errorContext(cb) {\n    if (config.useDeprecatedSynchronousErrorHandling) {\n        const isRoot = !context;\n        if (isRoot) {\n            context = { errorThrown: false, error: null };\n        }\n        cb();\n        if (isRoot) {\n            const { errorThrown, error } = context;\n            context = null;\n            if (errorThrown) {\n                throw error;\n            }\n        }\n    }\n    else {\n        cb();\n    }\n}\nexport function captureError(err) {\n    if (config.useDeprecatedSynchronousErrorHandling && context) {\n        context.errorThrown = true;\n        context.error = err;\n    }\n}\n//# sourceMappingURL=errorContext.js.map","import { isFunction } from './util/isFunction';\nimport { isSubscription, Subscription } from './Subscription';\nimport { config } from './config';\nimport { reportUnhandledError } from './util/reportUnhandledError';\nimport { noop } from './util/noop';\nimport { nextNotification, errorNotification, COMPLETE_NOTIFICATION } from './NotificationFactories';\nimport { timeoutProvider } from './scheduler/timeoutProvider';\nimport { captureError } from './util/errorContext';\nexport class Subscriber extends Subscription {\n    constructor(destination) {\n        super();\n        this.isStopped = false;\n        if (destination) {\n            this.destination = destination;\n            if (isSubscription(destination)) {\n                destination.add(this);\n            }\n        }\n        else {\n            this.destination = EMPTY_OBSERVER;\n        }\n    }\n    static create(next, error, complete) {\n        return new SafeSubscriber(next, error, complete);\n    }\n    next(value) {\n        if (this.isStopped) {\n            handleStoppedNotification(nextNotification(value), this);\n        }\n        else {\n            this._next(value);\n        }\n    }\n    error(err) {\n        if (this.isStopped) {\n            handleStoppedNotification(errorNotification(err), this);\n        }\n        else {\n            this.isStopped = true;\n            this._error(err);\n        }\n    }\n    complete() {\n        if (this.isStopped) {\n            handleStoppedNotification(COMPLETE_NOTIFICATION, this);\n        }\n        else {\n            this.isStopped = true;\n            this._complete();\n        }\n    }\n    unsubscribe() {\n        if (!this.closed) {\n            this.isStopped = true;\n            super.unsubscribe();\n            this.destination = null;\n        }\n    }\n    _next(value) {\n        this.destination.next(value);\n    }\n    _error(err) {\n        try {\n            this.destination.error(err);\n        }\n        finally {\n            this.unsubscribe();\n        }\n    }\n    _complete() {\n        try {\n            this.destination.complete();\n        }\n        finally {\n            this.unsubscribe();\n        }\n    }\n}\nconst _bind = Function.prototype.bind;\nfunction bind(fn, thisArg) {\n    return _bind.call(fn, thisArg);\n}\nclass ConsumerObserver {\n    constructor(partialObserver) {\n        this.partialObserver = partialObserver;\n    }\n    next(value) {\n        const { partialObserver } = this;\n        if (partialObserver.next) {\n            try {\n                partialObserver.next(value);\n            }\n            catch (error) {\n                handleUnhandledError(error);\n            }\n        }\n    }\n    error(err) {\n        const { partialObserver } = this;\n        if (partialObserver.error) {\n            try {\n                partialObserver.error(err);\n            }\n            catch (error) {\n                handleUnhandledError(error);\n            }\n        }\n        else {\n            handleUnhandledError(err);\n        }\n    }\n    complete() {\n        const { partialObserver } = this;\n        if (partialObserver.complete) {\n            try {\n                partialObserver.complete();\n            }\n            catch (error) {\n                handleUnhandledError(error);\n            }\n        }\n    }\n}\nexport class SafeSubscriber extends Subscriber {\n    constructor(observerOrNext, error, complete) {\n        super();\n        let partialObserver;\n        if (isFunction(observerOrNext) || !observerOrNext) {\n            partialObserver = {\n                next: (observerOrNext !== null && observerOrNext !== void 0 ? observerOrNext : undefined),\n                error: error !== null && error !== void 0 ? error : undefined,\n                complete: complete !== null && complete !== void 0 ? complete : undefined,\n            };\n        }\n        else {\n            let context;\n            if (this && config.useDeprecatedNextContext) {\n                context = Object.create(observerOrNext);\n                context.unsubscribe = () => this.unsubscribe();\n                partialObserver = {\n                    next: observerOrNext.next && bind(observerOrNext.next, context),\n                    error: observerOrNext.error && bind(observerOrNext.error, context),\n                    complete: observerOrNext.complete && bind(observerOrNext.complete, context),\n                };\n            }\n            else {\n                partialObserver = observerOrNext;\n            }\n        }\n        this.destination = new ConsumerObserver(partialObserver);\n    }\n}\nfunction handleUnhandledError(error) {\n    if (config.useDeprecatedSynchronousErrorHandling) {\n        captureError(error);\n    }\n    else {\n        reportUnhandledError(error);\n    }\n}\nfunction defaultErrorHandler(err) {\n    throw err;\n}\nfunction handleStoppedNotification(notification, subscriber) {\n    const { onStoppedNotification } = config;\n    onStoppedNotification && timeoutProvider.setTimeout(() => onStoppedNotification(notification, subscriber));\n}\nexport const EMPTY_OBSERVER = {\n    closed: true,\n    next: noop,\n    error: defaultErrorHandler,\n    complete: noop,\n};\n//# sourceMappingURL=Subscriber.js.map","export const observable = (() => (typeof Symbol === 'function' && Symbol.observable) || '@@observable')();\n//# sourceMappingURL=observable.js.map","export function identity(x) {\n    return x;\n}\n//# sourceMappingURL=identity.js.map","import { identity } from './identity';\nexport function pipe(...fns) {\n    return pipeFromArray(fns);\n}\nexport function pipeFromArray(fns) {\n    if (fns.length === 0) {\n        return identity;\n    }\n    if (fns.length === 1) {\n        return fns[0];\n    }\n    return function piped(input) {\n        return fns.reduce((prev, fn) => fn(prev), input);\n    };\n}\n//# sourceMappingURL=pipe.js.map","import { SafeSubscriber, Subscriber } from './Subscriber';\nimport { isSubscription } from './Subscription';\nimport { observable as Symbol_observable } from './symbol/observable';\nimport { pipeFromArray } from './util/pipe';\nimport { config } from './config';\nimport { isFunction } from './util/isFunction';\nimport { errorContext } from './util/errorContext';\nexport class Observable {\n    constructor(subscribe) {\n        if (subscribe) {\n            this._subscribe = subscribe;\n        }\n    }\n    lift(operator) {\n        const observable = new Observable();\n        observable.source = this;\n        observable.operator = operator;\n        return observable;\n    }\n    subscribe(observerOrNext, error, complete) {\n        const subscriber = isSubscriber(observerOrNext) ? observerOrNext : new SafeSubscriber(observerOrNext, error, complete);\n        errorContext(() => {\n            const { operator, source } = this;\n            subscriber.add(operator\n                ?\n                    operator.call(subscriber, source)\n                : source\n                    ?\n                        this._subscribe(subscriber)\n                    :\n                        this._trySubscribe(subscriber));\n        });\n        return subscriber;\n    }\n    _trySubscribe(sink) {\n        try {\n            return this._subscribe(sink);\n        }\n        catch (err) {\n            sink.error(err);\n        }\n    }\n    forEach(next, promiseCtor) {\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor((resolve, reject) => {\n            const subscriber = new SafeSubscriber({\n                next: (value) => {\n                    try {\n                        next(value);\n                    }\n                    catch (err) {\n                        reject(err);\n                        subscriber.unsubscribe();\n                    }\n                },\n                error: reject,\n                complete: resolve,\n            });\n            this.subscribe(subscriber);\n        });\n    }\n    _subscribe(subscriber) {\n        var _a;\n        return (_a = this.source) === null || _a === void 0 ? void 0 : _a.subscribe(subscriber);\n    }\n    [Symbol_observable]() {\n        return this;\n    }\n    pipe(...operations) {\n        return pipeFromArray(operations)(this);\n    }\n    toPromise(promiseCtor) {\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor((resolve, reject) => {\n            let value;\n            this.subscribe((x) => (value = x), (err) => reject(err), () => resolve(value));\n        });\n    }\n}\nObservable.create = (subscribe) => {\n    return new Observable(subscribe);\n};\nfunction getPromiseCtor(promiseCtor) {\n    var _a;\n    return (_a = promiseCtor !== null && promiseCtor !== void 0 ? promiseCtor : config.Promise) !== null && _a !== void 0 ? _a : Promise;\n}\nfunction isObserver(value) {\n    return value && isFunction(value.next) && isFunction(value.error) && isFunction(value.complete);\n}\nfunction isSubscriber(value) {\n    return (value && value instanceof Subscriber) || (isObserver(value) && isSubscription(value));\n}\n//# sourceMappingURL=Observable.js.map","import { isFunction } from './isFunction';\nexport function hasLift(source) {\n    return isFunction(source === null || source === void 0 ? void 0 : source.lift);\n}\nexport function operate(init) {\n    return (source) => {\n        if (hasLift(source)) {\n            return source.lift(function (liftedSource) {\n                try {\n                    return init(liftedSource, this);\n                }\n                catch (err) {\n                    this.error(err);\n                }\n            });\n        }\n        throw new TypeError('Unable to lift unknown Observable type');\n    };\n}\n//# sourceMappingURL=lift.js.map","import { Subscriber } from '../Subscriber';\nexport function createOperatorSubscriber(destination, onNext, onComplete, onError, onFinalize) {\n    return new OperatorSubscriber(destination, onNext, onComplete, onError, onFinalize);\n}\nexport class OperatorSubscriber extends Subscriber {\n    constructor(destination, onNext, onComplete, onError, onFinalize, shouldUnsubscribe) {\n        super(destination);\n        this.onFinalize = onFinalize;\n        this.shouldUnsubscribe = shouldUnsubscribe;\n        this._next = onNext\n            ? function (value) {\n                try {\n                    onNext(value);\n                }\n                catch (err) {\n                    destination.error(err);\n                }\n            }\n            : super._next;\n        this._error = onError\n            ? function (err) {\n                try {\n                    onError(err);\n                }\n                catch (err) {\n                    destination.error(err);\n                }\n                finally {\n                    this.unsubscribe();\n                }\n            }\n            : super._error;\n        this._complete = onComplete\n            ? function () {\n                try {\n                    onComplete();\n                }\n                catch (err) {\n                    destination.error(err);\n                }\n                finally {\n                    this.unsubscribe();\n                }\n            }\n            : super._complete;\n    }\n    unsubscribe() {\n        var _a;\n        if (!this.shouldUnsubscribe || this.shouldUnsubscribe()) {\n            const { closed } = this;\n            super.unsubscribe();\n            !closed && ((_a = this.onFinalize) === null || _a === void 0 ? void 0 : _a.call(this));\n        }\n    }\n}\n//# sourceMappingURL=OperatorSubscriber.js.map","import { createErrorClass } from './createErrorClass';\nexport const ObjectUnsubscribedError = createErrorClass((_super) => function ObjectUnsubscribedErrorImpl() {\n    _super(this);\n    this.name = 'ObjectUnsubscribedError';\n    this.message = 'object unsubscribed';\n});\n//# sourceMappingURL=ObjectUnsubscribedError.js.map","import { Observable } from './Observable';\nimport { Subscription, EMPTY_SUBSCRIPTION } from './Subscription';\nimport { ObjectUnsubscribedError } from './util/ObjectUnsubscribedError';\nimport { arrRemove } from './util/arrRemove';\nimport { errorContext } from './util/errorContext';\nexport class Subject extends Observable {\n    constructor() {\n        super();\n        this.closed = false;\n        this.currentObservers = null;\n        this.observers = [];\n        this.isStopped = false;\n        this.hasError = false;\n        this.thrownError = null;\n    }\n    lift(operator) {\n        const subject = new AnonymousSubject(this, this);\n        subject.operator = operator;\n        return subject;\n    }\n    _throwIfClosed() {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n    }\n    next(value) {\n        errorContext(() => {\n            this._throwIfClosed();\n            if (!this.isStopped) {\n                if (!this.currentObservers) {\n                    this.currentObservers = Array.from(this.observers);\n                }\n                for (const observer of this.currentObservers) {\n                    observer.next(value);\n                }\n            }\n        });\n    }\n    error(err) {\n        errorContext(() => {\n            this._throwIfClosed();\n            if (!this.isStopped) {\n                this.hasError = this.isStopped = true;\n                this.thrownError = err;\n                const { observers } = this;\n                while (observers.length) {\n                    observers.shift().error(err);\n                }\n            }\n        });\n    }\n    complete() {\n        errorContext(() => {\n            this._throwIfClosed();\n            if (!this.isStopped) {\n                this.isStopped = true;\n                const { observers } = this;\n                while (observers.length) {\n                    observers.shift().complete();\n                }\n            }\n        });\n    }\n    unsubscribe() {\n        this.isStopped = this.closed = true;\n        this.observers = this.currentObservers = null;\n    }\n    get observed() {\n        var _a;\n        return ((_a = this.observers) === null || _a === void 0 ? void 0 : _a.length) > 0;\n    }\n    _trySubscribe(subscriber) {\n        this._throwIfClosed();\n        return super._trySubscribe(subscriber);\n    }\n    _subscribe(subscriber) {\n        this._throwIfClosed();\n        this._checkFinalizedStatuses(subscriber);\n        return this._innerSubscribe(subscriber);\n    }\n    _innerSubscribe(subscriber) {\n        const { hasError, isStopped, observers } = this;\n        if (hasError || isStopped) {\n            return EMPTY_SUBSCRIPTION;\n        }\n        this.currentObservers = null;\n        observers.push(subscriber);\n        return new Subscription(() => {\n            this.currentObservers = null;\n            arrRemove(observers, subscriber);\n        });\n    }\n    _checkFinalizedStatuses(subscriber) {\n        const { hasError, thrownError, isStopped } = this;\n        if (hasError) {\n            subscriber.error(thrownError);\n        }\n        else if (isStopped) {\n            subscriber.complete();\n        }\n    }\n    asObservable() {\n        const observable = new Observable();\n        observable.source = this;\n        return observable;\n    }\n}\nSubject.create = (destination, source) => {\n    return new AnonymousSubject(destination, source);\n};\nexport class AnonymousSubject extends Subject {\n    constructor(destination, source) {\n        super();\n        this.destination = destination;\n        this.source = source;\n    }\n    next(value) {\n        var _a, _b;\n        (_b = (_a = this.destination) === null || _a === void 0 ? void 0 : _a.next) === null || _b === void 0 ? void 0 : _b.call(_a, value);\n    }\n    error(err) {\n        var _a, _b;\n        (_b = (_a = this.destination) === null || _a === void 0 ? void 0 : _a.error) === null || _b === void 0 ? void 0 : _b.call(_a, err);\n    }\n    complete() {\n        var _a, _b;\n        (_b = (_a = this.destination) === null || _a === void 0 ? void 0 : _a.complete) === null || _b === void 0 ? void 0 : _b.call(_a);\n    }\n    _subscribe(subscriber) {\n        var _a, _b;\n        return (_b = (_a = this.source) === null || _a === void 0 ? void 0 : _a.subscribe(subscriber)) !== null && _b !== void 0 ? _b : EMPTY_SUBSCRIPTION;\n    }\n}\n//# sourceMappingURL=Subject.js.map","import { isFunction } from './isFunction';\nexport function isScheduler(value) {\n    return value && isFunction(value.schedule);\n}\n//# sourceMappingURL=isScheduler.js.map","import { isFunction } from './isFunction';\nimport { isScheduler } from './isScheduler';\nfunction last(arr) {\n    return arr[arr.length - 1];\n}\nexport function popResultSelector(args) {\n    return isFunction(last(args)) ? args.pop() : undefined;\n}\nexport function popScheduler(args) {\n    return isScheduler(last(args)) ? args.pop() : undefined;\n}\nexport function popNumber(args, defaultValue) {\n    return typeof last(args) === 'number' ? args.pop() : defaultValue;\n}\n//# sourceMappingURL=args.js.map","/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\r\n    function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\r\n    var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\r\n    var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\r\n    var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\r\n    var _, done = false;\r\n    for (var i = decorators.length - 1; i >= 0; i--) {\r\n        var context = {};\r\n        for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\r\n        for (var p in contextIn.access) context.access[p] = contextIn.access[p];\r\n        context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\r\n        var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\r\n        if (kind === \"accessor\") {\r\n            if (result === void 0) continue;\r\n            if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\r\n            if (_ = accept(result.get)) descriptor.get = _;\r\n            if (_ = accept(result.set)) descriptor.set = _;\r\n            if (_ = accept(result.init)) initializers.unshift(_);\r\n        }\r\n        else if (_ = accept(result)) {\r\n            if (kind === \"field\") initializers.unshift(_);\r\n            else descriptor[key] = _;\r\n        }\r\n    }\r\n    if (target) Object.defineProperty(target, contextIn.name, descriptor);\r\n    done = true;\r\n};\r\n\r\nexport function __runInitializers(thisArg, initializers, value) {\r\n    var useValue = arguments.length > 2;\r\n    for (var i = 0; i < initializers.length; i++) {\r\n        value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\r\n    }\r\n    return useValue ? value : void 0;\r\n};\r\n\r\nexport function __propKey(x) {\r\n    return typeof x === \"symbol\" ? x : \"\".concat(x);\r\n};\r\n\r\nexport function __setFunctionName(f, name, prefix) {\r\n    if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\r\n    return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\r\n};\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n\r\nexport default {\r\n    __extends,\r\n    __assign,\r\n    __rest,\r\n    __decorate,\r\n    __param,\r\n    __metadata,\r\n    __awaiter,\r\n    __generator,\r\n    __createBinding,\r\n    __exportStar,\r\n    __values,\r\n    __read,\r\n    __spread,\r\n    __spreadArrays,\r\n    __spreadArray,\r\n    __await,\r\n    __asyncGenerator,\r\n    __asyncDelegator,\r\n    __asyncValues,\r\n    __makeTemplateObject,\r\n    __importStar,\r\n    __importDefault,\r\n    __classPrivateFieldGet,\r\n    __classPrivateFieldSet,\r\n    __classPrivateFieldIn,\r\n};\r\n","export const isArrayLike = ((x) => x && typeof x.length === 'number' && typeof x !== 'function');\n//# sourceMappingURL=isArrayLike.js.map","import { isFunction } from \"./isFunction\";\nexport function isPromise(value) {\n    return isFunction(value === null || value === void 0 ? void 0 : value.then);\n}\n//# sourceMappingURL=isPromise.js.map","import { observable as Symbol_observable } from '../symbol/observable';\nimport { isFunction } from './isFunction';\nexport function isInteropObservable(input) {\n    return isFunction(input[Symbol_observable]);\n}\n//# sourceMappingURL=isInteropObservable.js.map","import { isFunction } from './isFunction';\nexport function isAsyncIterable(obj) {\n    return Symbol.asyncIterator && isFunction(obj === null || obj === void 0 ? void 0 : obj[Symbol.asyncIterator]);\n}\n//# sourceMappingURL=isAsyncIterable.js.map","export function createInvalidObservableTypeError(input) {\n    return new TypeError(`You provided ${input !== null && typeof input === 'object' ? 'an invalid object' : `'${input}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`);\n}\n//# sourceMappingURL=throwUnobservableError.js.map","export function getSymbolIterator() {\n    if (typeof Symbol !== 'function' || !Symbol.iterator) {\n        return '@@iterator';\n    }\n    return Symbol.iterator;\n}\nexport const iterator = getSymbolIterator();\n//# sourceMappingURL=iterator.js.map","import { iterator as Symbol_iterator } from '../symbol/iterator';\nimport { isFunction } from './isFunction';\nexport function isIterable(input) {\n    return isFunction(input === null || input === void 0 ? void 0 : input[Symbol_iterator]);\n}\n//# sourceMappingURL=isIterable.js.map","import { __asyncGenerator, __await } from \"tslib\";\nimport { isFunction } from './isFunction';\nexport function readableStreamLikeToAsyncGenerator(readableStream) {\n    return __asyncGenerator(this, arguments, function* readableStreamLikeToAsyncGenerator_1() {\n        const reader = readableStream.getReader();\n        try {\n            while (true) {\n                const { value, done } = yield __await(reader.read());\n                if (done) {\n                    return yield __await(void 0);\n                }\n                yield yield __await(value);\n            }\n        }\n        finally {\n            reader.releaseLock();\n        }\n    });\n}\nexport function isReadableStreamLike(obj) {\n    return isFunction(obj === null || obj === void 0 ? void 0 : obj.getReader);\n}\n//# sourceMappingURL=isReadableStreamLike.js.map","import { __asyncValues, __awaiter } from \"tslib\";\nimport { isArrayLike } from '../util/isArrayLike';\nimport { isPromise } from '../util/isPromise';\nimport { Observable } from '../Observable';\nimport { isInteropObservable } from '../util/isInteropObservable';\nimport { isAsyncIterable } from '../util/isAsyncIterable';\nimport { createInvalidObservableTypeError } from '../util/throwUnobservableError';\nimport { isIterable } from '../util/isIterable';\nimport { isReadableStreamLike, readableStreamLikeToAsyncGenerator } from '../util/isReadableStreamLike';\nimport { isFunction } from '../util/isFunction';\nimport { reportUnhandledError } from '../util/reportUnhandledError';\nimport { observable as Symbol_observable } from '../symbol/observable';\nexport function innerFrom(input) {\n    if (input instanceof Observable) {\n        return input;\n    }\n    if (input != null) {\n        if (isInteropObservable(input)) {\n            return fromInteropObservable(input);\n        }\n        if (isArrayLike(input)) {\n            return fromArrayLike(input);\n        }\n        if (isPromise(input)) {\n            return fromPromise(input);\n        }\n        if (isAsyncIterable(input)) {\n            return fromAsyncIterable(input);\n        }\n        if (isIterable(input)) {\n            return fromIterable(input);\n        }\n        if (isReadableStreamLike(input)) {\n            return fromReadableStreamLike(input);\n        }\n    }\n    throw createInvalidObservableTypeError(input);\n}\nexport function fromInteropObservable(obj) {\n    return new Observable((subscriber) => {\n        const obs = obj[Symbol_observable]();\n        if (isFunction(obs.subscribe)) {\n            return obs.subscribe(subscriber);\n        }\n        throw new TypeError('Provided object does not correctly implement Symbol.observable');\n    });\n}\nexport function fromArrayLike(array) {\n    return new Observable((subscriber) => {\n        for (let i = 0; i < array.length && !subscriber.closed; i++) {\n            subscriber.next(array[i]);\n        }\n        subscriber.complete();\n    });\n}\nexport function fromPromise(promise) {\n    return new Observable((subscriber) => {\n        promise\n            .then((value) => {\n            if (!subscriber.closed) {\n                subscriber.next(value);\n                subscriber.complete();\n            }\n        }, (err) => subscriber.error(err))\n            .then(null, reportUnhandledError);\n    });\n}\nexport function fromIterable(iterable) {\n    return new Observable((subscriber) => {\n        for (const value of iterable) {\n            subscriber.next(value);\n            if (subscriber.closed) {\n                return;\n            }\n        }\n        subscriber.complete();\n    });\n}\nexport function fromAsyncIterable(asyncIterable) {\n    return new Observable((subscriber) => {\n        process(asyncIterable, subscriber).catch((err) => subscriber.error(err));\n    });\n}\nexport function fromReadableStreamLike(readableStream) {\n    return fromAsyncIterable(readableStreamLikeToAsyncGenerator(readableStream));\n}\nfunction process(asyncIterable, subscriber) {\n    var asyncIterable_1, asyncIterable_1_1;\n    var e_1, _a;\n    return __awaiter(this, void 0, void 0, function* () {\n        try {\n            for (asyncIterable_1 = __asyncValues(asyncIterable); asyncIterable_1_1 = yield asyncIterable_1.next(), !asyncIterable_1_1.done;) {\n                const value = asyncIterable_1_1.value;\n                subscriber.next(value);\n                if (subscriber.closed) {\n                    return;\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (asyncIterable_1_1 && !asyncIterable_1_1.done && (_a = asyncIterable_1.return)) yield _a.call(asyncIterable_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        subscriber.complete();\n    });\n}\n//# sourceMappingURL=innerFrom.js.map","export function executeSchedule(parentSubscription, scheduler, work, delay = 0, repeat = false) {\n    const scheduleSubscription = scheduler.schedule(function () {\n        work();\n        if (repeat) {\n            parentSubscription.add(this.schedule(null, delay));\n        }\n        else {\n            this.unsubscribe();\n        }\n    }, delay);\n    parentSubscription.add(scheduleSubscription);\n    if (!repeat) {\n        return scheduleSubscription;\n    }\n}\n//# sourceMappingURL=executeSchedule.js.map","import { executeSchedule } from '../util/executeSchedule';\nimport { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function observeOn(scheduler, delay = 0) {\n    return operate((source, subscriber) => {\n        source.subscribe(createOperatorSubscriber(subscriber, (value) => executeSchedule(subscriber, scheduler, () => subscriber.next(value), delay), () => executeSchedule(subscriber, scheduler, () => subscriber.complete(), delay), (err) => executeSchedule(subscriber, scheduler, () => subscriber.error(err), delay)));\n    });\n}\n//# sourceMappingURL=observeOn.js.map","import { operate } from '../util/lift';\nexport function subscribeOn(scheduler, delay = 0) {\n    return operate((source, subscriber) => {\n        subscriber.add(scheduler.schedule(() => source.subscribe(subscriber), delay));\n    });\n}\n//# sourceMappingURL=subscribeOn.js.map","import { innerFrom } from '../observable/innerFrom';\nimport { observeOn } from '../operators/observeOn';\nimport { subscribeOn } from '../operators/subscribeOn';\nexport function scheduleObservable(input, scheduler) {\n    return innerFrom(input).pipe(subscribeOn(scheduler), observeOn(scheduler));\n}\n//# sourceMappingURL=scheduleObservable.js.map","import { innerFrom } from '../observable/innerFrom';\nimport { observeOn } from '../operators/observeOn';\nimport { subscribeOn } from '../operators/subscribeOn';\nexport function schedulePromise(input, scheduler) {\n    return innerFrom(input).pipe(subscribeOn(scheduler), observeOn(scheduler));\n}\n//# sourceMappingURL=schedulePromise.js.map","import { Observable } from '../Observable';\nexport function scheduleArray(input, scheduler) {\n    return new Observable((subscriber) => {\n        let i = 0;\n        return scheduler.schedule(function () {\n            if (i === input.length) {\n                subscriber.complete();\n            }\n            else {\n                subscriber.next(input[i++]);\n                if (!subscriber.closed) {\n                    this.schedule();\n                }\n            }\n        });\n    });\n}\n//# sourceMappingURL=scheduleArray.js.map","import { Observable } from '../Observable';\nimport { iterator as Symbol_iterator } from '../symbol/iterator';\nimport { isFunction } from '../util/isFunction';\nimport { executeSchedule } from '../util/executeSchedule';\nexport function scheduleIterable(input, scheduler) {\n    return new Observable((subscriber) => {\n        let iterator;\n        executeSchedule(subscriber, scheduler, () => {\n            iterator = input[Symbol_iterator]();\n            executeSchedule(subscriber, scheduler, () => {\n                let value;\n                let done;\n                try {\n                    ({ value, done } = iterator.next());\n                }\n                catch (err) {\n                    subscriber.error(err);\n                    return;\n                }\n                if (done) {\n                    subscriber.complete();\n                }\n                else {\n                    subscriber.next(value);\n                }\n            }, 0, true);\n        });\n        return () => isFunction(iterator === null || iterator === void 0 ? void 0 : iterator.return) && iterator.return();\n    });\n}\n//# sourceMappingURL=scheduleIterable.js.map","import { Observable } from '../Observable';\nimport { executeSchedule } from '../util/executeSchedule';\nexport function scheduleAsyncIterable(input, scheduler) {\n    if (!input) {\n        throw new Error('Iterable cannot be null');\n    }\n    return new Observable((subscriber) => {\n        executeSchedule(subscriber, scheduler, () => {\n            const iterator = input[Symbol.asyncIterator]();\n            executeSchedule(subscriber, scheduler, () => {\n                iterator.next().then((result) => {\n                    if (result.done) {\n                        subscriber.complete();\n                    }\n                    else {\n                        subscriber.next(result.value);\n                    }\n                });\n            }, 0, true);\n        });\n    });\n}\n//# sourceMappingURL=scheduleAsyncIterable.js.map","import { scheduleAsyncIterable } from './scheduleAsyncIterable';\nimport { readableStreamLikeToAsyncGenerator } from '../util/isReadableStreamLike';\nexport function scheduleReadableStreamLike(input, scheduler) {\n    return scheduleAsyncIterable(readableStreamLikeToAsyncGenerator(input), scheduler);\n}\n//# sourceMappingURL=scheduleReadableStreamLike.js.map","import { scheduleObservable } from './scheduleObservable';\nimport { schedulePromise } from './schedulePromise';\nimport { scheduleArray } from './scheduleArray';\nimport { scheduleIterable } from './scheduleIterable';\nimport { scheduleAsyncIterable } from './scheduleAsyncIterable';\nimport { isInteropObservable } from '../util/isInteropObservable';\nimport { isPromise } from '../util/isPromise';\nimport { isArrayLike } from '../util/isArrayLike';\nimport { isIterable } from '../util/isIterable';\nimport { isAsyncIterable } from '../util/isAsyncIterable';\nimport { createInvalidObservableTypeError } from '../util/throwUnobservableError';\nimport { isReadableStreamLike } from '../util/isReadableStreamLike';\nimport { scheduleReadableStreamLike } from './scheduleReadableStreamLike';\nexport function scheduled(input, scheduler) {\n    if (input != null) {\n        if (isInteropObservable(input)) {\n            return scheduleObservable(input, scheduler);\n        }\n        if (isArrayLike(input)) {\n            return scheduleArray(input, scheduler);\n        }\n        if (isPromise(input)) {\n            return schedulePromise(input, scheduler);\n        }\n        if (isAsyncIterable(input)) {\n            return scheduleAsyncIterable(input, scheduler);\n        }\n        if (isIterable(input)) {\n            return scheduleIterable(input, scheduler);\n        }\n        if (isReadableStreamLike(input)) {\n            return scheduleReadableStreamLike(input, scheduler);\n        }\n    }\n    throw createInvalidObservableTypeError(input);\n}\n//# sourceMappingURL=scheduled.js.map","import { scheduled } from '../scheduled/scheduled';\nimport { innerFrom } from './innerFrom';\nexport function from(input, scheduler) {\n    return scheduler ? scheduled(input, scheduler) : innerFrom(input);\n}\n//# sourceMappingURL=from.js.map","import { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function map(project, thisArg) {\n    return operate((source, subscriber) => {\n        let index = 0;\n        source.subscribe(createOperatorSubscriber(subscriber, (value) => {\n            subscriber.next(project.call(thisArg, value, index++));\n        }));\n    });\n}\n//# sourceMappingURL=map.js.map","import { map } from \"../operators/map\";\nconst { isArray } = Array;\nfunction callOrApply(fn, args) {\n    return isArray(args) ? fn(...args) : fn(args);\n}\nexport function mapOneOrManyArgs(fn) {\n    return map(args => callOrApply(fn, args));\n}\n//# sourceMappingURL=mapOneOrManyArgs.js.map","const { isArray } = Array;\nconst { getPrototypeOf, prototype: objectProto, keys: getKeys } = Object;\nexport function argsArgArrayOrObject(args) {\n    if (args.length === 1) {\n        const first = args[0];\n        if (isArray(first)) {\n            return { args: first, keys: null };\n        }\n        if (isPOJO(first)) {\n            const keys = getKeys(first);\n            return {\n                args: keys.map((key) => first[key]),\n                keys,\n            };\n        }\n    }\n    return { args: args, keys: null };\n}\nfunction isPOJO(obj) {\n    return obj && typeof obj === 'object' && getPrototypeOf(obj) === objectProto;\n}\n//# sourceMappingURL=argsArgArrayOrObject.js.map","export function createObject(keys, values) {\n    return keys.reduce((result, key, i) => ((result[key] = values[i]), result), {});\n}\n//# sourceMappingURL=createObject.js.map","import { Observable } from '../Observable';\nimport { argsArgArrayOrObject } from '../util/argsArgArrayOrObject';\nimport { from } from './from';\nimport { identity } from '../util/identity';\nimport { mapOneOrManyArgs } from '../util/mapOneOrManyArgs';\nimport { popResultSelector, popScheduler } from '../util/args';\nimport { createObject } from '../util/createObject';\nimport { createOperatorSubscriber } from '../operators/OperatorSubscriber';\nimport { executeSchedule } from '../util/executeSchedule';\nexport function combineLatest(...args) {\n    const scheduler = popScheduler(args);\n    const resultSelector = popResultSelector(args);\n    const { args: observables, keys } = argsArgArrayOrObject(args);\n    if (observables.length === 0) {\n        return from([], scheduler);\n    }\n    const result = new Observable(combineLatestInit(observables, scheduler, keys\n        ?\n            (values) => createObject(keys, values)\n        :\n            identity));\n    return resultSelector ? result.pipe(mapOneOrManyArgs(resultSelector)) : result;\n}\nexport function combineLatestInit(observables, scheduler, valueTransform = identity) {\n    return (subscriber) => {\n        maybeSchedule(scheduler, () => {\n            const { length } = observables;\n            const values = new Array(length);\n            let active = length;\n            let remainingFirstValues = length;\n            for (let i = 0; i < length; i++) {\n                maybeSchedule(scheduler, () => {\n                    const source = from(observables[i], scheduler);\n                    let hasFirstValue = false;\n                    source.subscribe(createOperatorSubscriber(subscriber, (value) => {\n                        values[i] = value;\n                        if (!hasFirstValue) {\n                            hasFirstValue = true;\n                            remainingFirstValues--;\n                        }\n                        if (!remainingFirstValues) {\n                            subscriber.next(valueTransform(values.slice()));\n                        }\n                    }, () => {\n                        if (!--active) {\n                            subscriber.complete();\n                        }\n                    }));\n                }, subscriber);\n            }\n        }, subscriber);\n    };\n}\nfunction maybeSchedule(scheduler, execute, subscription) {\n    if (scheduler) {\n        executeSchedule(subscription, scheduler, execute);\n    }\n    else {\n        execute();\n    }\n}\n//# sourceMappingURL=combineLatest.js.map","export class User {\r\n\r\n    constructor(\r\n        public region: number,\r\n        public player_id: number,\r\n        public sex?: number,\r\n        public education?: string,\r\n        public birthyear?: number,\r\n        public email?: string) { }\r\n}\r\n","import { Observable, combineLatest, from } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\nimport { serverUrl } from \"../../config.json\";\r\nimport { Answer, DialogData, DialogMetadata } from \"../interfaces/dialog-interfaces\";\r\n\r\nexport class DialogAsyncService {\r\n\r\n    private serviceUrl: string = `${serverUrl}/emerald/rest/api/v1/product-finder`;\r\n    sessionId: string;\r\n    dialogIri: string;\r\n    endpointId: string;\r\n\r\n    constructor() { }\r\n\r\n    startWithIri(iri: string, lang: string, answers?: Answer[], stored?: boolean): Observable<{ data: DialogData, metadata: DialogMetadata }> {\r\n        const data$ = fetch(`${this.serviceUrl}?stored=${stored}`, {\r\n            method: 'POST',\r\n            body: JSON.stringify({ iri, lang, answers }),\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        }).then(response => response.json()) as Promise<DialogData>;\r\n\r\n        const metadata$ = fetch(`${this.serviceUrl}/dialogByIri?iri=${iri}&lang=${lang}`)\r\n            .then(response => response.json()) as Promise<DialogMetadata>;\r\n\r\n        return combineLatest([data$, metadata$]).pipe(\r\n            map(([data, metadata]) => ({ data, metadata }))\r\n        );\r\n\r\n    }\r\n\r\n    startWithCaseId(caseId: string, date: string, lang: string, answers?: Answer[], stored?: boolean): Observable<{ data: DialogData, metadata: DialogMetadata }> {\r\n        const data$ = fetch(`${this.serviceUrl}?stored=${stored}`, {\r\n            method: 'POST',\r\n            body: JSON.stringify({ caseId, date, lang, answers }),\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        }).then(response => response.json()) as Promise<DialogData>;\r\n\r\n        const metadata$ = fetch(`${this.serviceUrl}/dialog?caseId=${caseId}&date=${date}`)\r\n            .then(response => response.json()) as Promise<DialogMetadata>;\r\n\r\n        return combineLatest([data$, metadata$]).pipe(\r\n            map(([data, metadata]) => ({ data, metadata }))\r\n        );\r\n    }\r\n\r\n    getSession(): Observable<any> {\r\n        return from(fetch(`${this.serviceUrl}/${this.sessionId}`).then(response => response.json()));\r\n    }\r\n\r\n    answer(body: Answer): Observable<any> {\r\n        return from(fetch(`${this.serviceUrl}/${this.sessionId}/answers`, {\r\n            method: 'POST',\r\n            body: JSON.stringify(body),\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        }).then(response => response.json()));\r\n    }\r\n\r\n    revokeAnswer(body: Answer): Observable<any> {\r\n        return from(fetch(`${this.serviceUrl}/${this.sessionId}/answers`, {\r\n            method: 'PUT',\r\n            body: JSON.stringify(body),\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        }).then(response => response.json()));\r\n    }\r\n\r\n    getDialogMetadata(iri: string, lang: string): Observable<any> {\r\n        return from(fetch(`${this.serviceUrl}/dialogByIri?iri=${iri}&lang=${lang}`).then(response => response.json()));\r\n    }\r\n\r\n\r\n}","import { Observable, from } from \"rxjs\";\r\nimport { serverUrl } from \"../../config.json\";\r\nimport { ConsultationResult } from \"../interfaces/dialog-interfaces\";\r\n\r\nexport class ElasticService {\r\n    private serviceUrl = `${serverUrl}/emerald/rest/api/v1/analytics/`;\r\n\r\n    constructor() { }\r\n\r\n    sendConsultationData(consultationObj: ConsultationResult): Observable<any> {\r\n        return from(fetch(`${this.serviceUrl}/consultation`, {\r\n            method: 'POST',\r\n            body: JSON.stringify(consultationObj),\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        }).then(response => response.json()));\r\n    }\r\n\r\n}","import { host_domain } from \"../../config.json\";\r\nimport { ConsultationResult } from \"../interfaces/dialog-interfaces\";\r\nimport { User } from \"../interfaces/user\";\r\n\r\nexport class HelperService {\r\n    player_id: number;\r\n    region: number;\r\n    education: string;\r\n    sex: number;\r\n    age: number;\r\n    email: string;\r\n    host_domain = host_domain;\r\n\r\n    constructor(user: User) {\r\n        //console.log(\"helperservice\", user)\r\n        this.player_id = user.player_id || 12;\r\n        this.region = user.region || 0;\r\n        this.age = new Date().getFullYear() - user.birthyear || 26\r\n        this.sex = user.sex || 1;\r\n        this.education = user.education || 'higher';\r\n        this.email = user.email || 'tesztelek@ml.hu'\r\n    }\r\n\r\n    getBodyWithUsers(body: ConsultationResult) {\r\n        body.player_id = this.player_id;\r\n        body.host_domain = this.host_domain;\r\n        body.mail = this.email;\r\n        var score: number;\r\n        var scr = body.goal.expert.substring(body.goal.expert.lastIndexOf(\"Elrt pontszm: \") + 15, body.goal.expert.lastIndexOf(\"Elrt pontszm: \") + 25);\r\n        if (scr.includes('.')) {\r\n            score = parseInt(scr.substring(0, scr.indexOf('.')))\r\n        }\r\n        else {\r\n            score = parseInt(scr)\r\n        }\r\n        body.score = score\r\n        body.region = this.region;\r\n        body.sex = this.sex;\r\n        body.age = this.age;\r\n        body.education = this.education\r\n\r\n        //console.log(\"getBodyWithUsers\", body);\r\n        return body;\r\n    }\r\n\r\n}",".dialog-body {\r\n  background: #fafafa;\r\n  min-height: 100vh;\r\n  padding-right: 0.9375em;\r\n  padding-left: 0.9375em;\r\n  color: #4a5468;\r\n  display: flex;\r\n}\r\n\r\n.dialog-root {\r\n  display: flex;\r\n  flex-direction: column;\r\n  background: #fafafa;\r\n}\r\n\r\n.content {\r\n  flex: 1 1 auto;\r\n  overflow-y: auto;\r\n}\r\n\r\n.steps {\r\n  margin-bottom: 2.5em;\r\n  overflow: hidden;\r\n}\r\n","import { Component, Prop, State, h } from '@stencil/core';\r\nimport { Subject } from 'rxjs';\r\nimport { Answer, ConsultationResult, DialogData, DialogMetadata, Fragment, Result } from '../../interfaces/dialog-interfaces';\r\nimport { User } from '../../interfaces/user';\r\nimport { DialogAsyncService } from '../../services/dialog-async.service';\r\nimport { ElasticService } from '../../services/elastic.service';\r\nimport { HelperService } from '../../services/helper.service';\r\n\r\n@Component({\r\n  tag: 'dialog-component',\r\n  styleUrl: 'dialog-component.css',\r\n  shadow: false,\r\n})\r\nexport class DialogComponent {\r\n  private dialogAsyncService: DialogAsyncService\r\n  private elasticService: ElasticService\r\n  private helperService: HelperService\r\n  private answer$: Subject<any> = new Subject();\r\n  private revoke$: Subject<any> = new Subject();\r\n  private endDate: number;\r\n  private startDate: number = Date.now();\r\n  private user: User;\r\n\r\n  @Prop() locale: string = 'hu';\r\n  @Prop() caseId: string = '';\r\n  @Prop() iri: string = '';\r\n  @Prop() date: string = '';\r\n\r\n  @Prop() player_id: number;\r\n  @Prop() education?: string;\r\n  @Prop() sex?: number;\r\n  @Prop() birthyear?: number;\r\n  @Prop() region: number;\r\n  @Prop() email: string;\r\n  \r\n  @Prop() params: Map<string, string> = new Map<string, string>();\r\n\r\n  @Prop() dialogData: DialogData;\r\n  @Prop() dialogMetadata: DialogMetadata;\r\n  @State() fragmentData: Fragment[] = [];\r\n  @State() result: Result;\r\n  \r\n  constructor() {\r\n    this.user = new User(this.region, this.player_id, this.sex, this.education, this.birthyear, this.email)\r\n  }\r\n\r\n  async componentDidLoad() {\r\n    this.initSubscriptions();\r\n    this.user = new User(this.region, this.player_id, this.sex, this.education, this.birthyear, this.email)\r\n    this.dialogAsyncService = new DialogAsyncService();\r\n    this.elasticService = new ElasticService();\r\n    this.helperService = new HelperService(this.user);\r\n    console.log('caseid:', this.caseId)\r\n    console.log('user:', this.user)\r\n    await this.startWithCaseId(this.caseId, this.date);\r\n    await this.startWithIri(this.iri);\r\n    //await this.startWithCaseId('YY0013', null);\r\n    //await this.startWithCaseId('CSA0005', null);\r\n    //await this.startWithCaseId('YY0011', '2022-06-09')\r\n    //await this.startWithIri('xtext://resource/27fb08d0-f1e9-4599-8714-62b469c81143/2021-01-01');\r\n    //await this.startWithIri('xtext://resource/2e5ea4aa-e046-40da-8b75-504c761bc2e9/2022-09-12/draft')\r\n  }\r\n\r\n  answersFromParams(): Answer[] {\r\n    let answers: Answer[] = [];\r\n    console.log(\"params\", this.params)\r\n    let ids: string[] = Object.keys(this.params).filter((p) => { \r\n      return /^q_/.test(p) || /^qq_/.test(p)  \r\n    })\r\n\r\n    ids.forEach((id) => {\r\n      answers.push({iri: id, answer: this.params[id]})\r\n    })\r\n  \r\n    if (this.helperService.region !== null && this.helperService.region !== undefined) {\r\n      answers.push({ iri: 'qq_region', answer: this.helperService.region + '' })\r\n    }\r\n    console.log(\"answers\", answers)\r\n    return answers;\r\n  }\r\n\r\n  async startWithCaseId(caseId: string, date: string) {\r\n    if (caseId) {\r\n      if (!date) {\r\n        const d: Date = new Date();\r\n        date = d.toLocaleDateString('hu-HU').replace(/\\./g, '').replace(/ /g, '-');\r\n      }\r\n      console.log('locale', this.locale)\r\n      this.dialogAsyncService.startWithCaseId(caseId, date, this.locale, this.answersFromParams(), true).subscribe({\r\n        next: res => {\r\n          this.dialogData = res.data;\r\n          console.log(\"in call\", this.dialogData)\r\n          this.dialogMetadata = res.metadata;\r\n          this.fragmentData = [...res.data.step.fragments];\r\n\r\n          this.dialogAsyncService.sessionId = this.dialogData.sessionId;\r\n          this.dialogAsyncService.dialogIri = this.dialogMetadata.iri;\r\n\r\n          this.dialogAsyncService.endpointId = this.dialogData.endpointId;\r\n\r\n          this.dialogAsyncService.getSession().subscribe(res2 => {\r\n            res2.fragments.forEach(fr => {\r\n              if (!res.data.step.fragments.map(fr => fr.iri).includes(fr.iri)) {\r\n                fr.isPre = true;\r\n              }\r\n            });\r\n\r\n            res2.fragments = res2.fragments.filter(fr => {\r\n              if (fr.isPre) {\r\n                const str = fr.iri;\r\n                const n = str.lastIndexOf('/');\r\n                const shortId = str.substring(n + 1);\r\n                return !/^qq_/.test(shortId);\r\n              }\r\n              return true;\r\n            });\r\n\r\n            this.fragmentData = [...res2.fragments];\r\n          });\r\n        },\r\n        error: error => console.error(error)\r\n      });\r\n    }\r\n  }\r\n\r\n  async startWithIri(iri: string) {\r\n    if (iri) {\r\n      this.dialogAsyncService.startWithIri(iri, this.locale, [], true).subscribe({\r\n        next: res => {\r\n          this.dialogData = res.data;\r\n          console.log(\"in call\", this.dialogData)\r\n          this.dialogMetadata = res.metadata;\r\n          this.fragmentData = [...res.data.step.fragments];\r\n\r\n          this.dialogAsyncService.sessionId = this.dialogData.sessionId;\r\n          this.dialogAsyncService.dialogIri = this.dialogMetadata.iri;\r\n\r\n          this.dialogAsyncService.endpointId = this.dialogData.endpointId;\r\n\r\n          this.dialogAsyncService.getSession().subscribe(res2 => {\r\n            res2.fragments.forEach(fr => {\r\n              if (!res.data.step.fragments.map(fr => fr.iri).includes(fr.iri)) {\r\n                fr.isPre = true;\r\n              }\r\n            });\r\n\r\n            res2.fragments = res2.fragments.filter(fr => {\r\n              if (fr.isPre) {\r\n                const str = fr.iri;\r\n                const n = str.lastIndexOf('/');\r\n                const shortId = str.substring(n + 1);\r\n                return !/^qq_/.test(shortId);\r\n              }\r\n              return true;\r\n            });\r\n\r\n            this.fragmentData = [...res2.fragments];\r\n          });\r\n        },\r\n        error: error => console.error(error)\r\n      })\r\n    }\r\n  }\r\n\r\n  initSubscriptions(): void {\r\n    this.answer$.subscribe((d: any) => this.processNextQuestion(d));\r\n    this.revoke$.subscribe((d: any) => this.processRevoke(d));\r\n  }\r\n\r\n  processNextQuestion(q: any) {\r\n    if (q.fragments[q.fragments.length - 1].type === 'Goal') {\r\n      this.result = q.fragments[q.fragments.length - 1]\r\n      this.endDate = Date.now();\r\n    }\r\n\r\n    this.fragmentData = [...this.fragmentData, ...q.fragments];\r\n    this.fragmentData = [... new Set(this.fragmentData)];\r\n\r\n    if ((this.helperService.player_id) && q.fragments[q.fragments.length - 1].type === 'Goal') {\r\n      this.saveAuto()\r\n    }\r\n\r\n    this.scrollToLast();\r\n  }\r\n\r\n  processRevoke(r: any) {\r\n    this.result = null;\r\n    let end = this.fragmentData.findIndex(v => v.iri === r.revokeAnswerIri);\r\n    console.log(\"before\")\r\n    this.fragmentData.forEach(v => console.log(v))\r\n    this.fragmentData = [...this.fragmentData.slice(0, end + 1), ...r.fragments]\r\n    console.log(\"after\")\r\n    this.fragmentData.forEach(v => console.log(v))\r\n\r\n    if (r.fragments[r.fragments.length - 1].type === 'Goal') {\r\n      this.result = { ...r.fragments[r.fragments.length - 1] }\r\n      this.endDate = Date.now();\r\n      if (this.helperService.player_id) {\r\n        this.saveAuto()\r\n      }\r\n    }\r\n\r\n    this.scrollToLast();\r\n  }\r\n\r\n  scrollToLast() {\r\n    let steps = document.getElementsByClassName('step');\r\n\r\n    if (steps.length > 0) {\r\n      let resultContainer = document.getElementsByClassName('result-container');\r\n      if (resultContainer.length > 0) {\r\n\r\n        setTimeout(() => {\r\n          resultContainer[resultContainer.length - 1].scrollIntoView();\r\n        }, 1000)\r\n      } else {\r\n        setTimeout(() => {\r\n          steps[steps.length - 1].scrollIntoView();\r\n        }, 50)\r\n\r\n      }\r\n    }\r\n\r\n\r\n\r\n  }\r\n\r\n\r\n  handleAnswer({ detail: answer }: CustomEvent<Answer>) {\r\n    console.log(\"handle answer\", answer)\r\n    this.dialogAsyncService.answer(answer).subscribe(\r\n      {\r\n        next: res => {\r\n          console.log(\"res\", res)\r\n          this.answer$.next(res);\r\n        },\r\n        error: err => {\r\n          this.answer$.next(err);\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  handleRevoke({ detail: answer }: CustomEvent<Answer>) {\r\n    this.dialogAsyncService.revokeAnswer(answer).subscribe(\r\n      {\r\n        next: res => {\r\n          res.revokeAnswerIri = answer.iri;\r\n          this.revoke$.next(res);\r\n        },\r\n        error: err => {\r\n          this.revoke$.next(err);\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n\r\n  saveAuto() {\r\n    console.log(\"saveAuto\")\r\n    let body: ConsultationResult = this.saveDialog();\r\n    body = this.helperService.getBodyWithUsers(body);\r\n    console.log(\"beforesenddata\")\r\n    this.sendData(body)\r\n  }\r\n\r\n\r\n\r\n  saveDialog(): ConsultationResult {\r\n    let body = {} as ConsultationResult\r\n    body.lang = this.locale\r\n\r\n    if (this.dialogMetadata.metadata.title) {\r\n      body.title = this.dialogMetadata.metadata.title\r\n    } else {\r\n      body.title = this.dialogMetadata.label;\r\n    }\r\n\r\n    if (this.dialogMetadata.metadata?.description) {\r\n      body.description = this.dialogMetadata.metadata?.description;\r\n    }\r\n    body.startDate = this.startDate\r\n    body.endDate = this.endDate;\r\n    body.goal = { \"expert\": this.result.labelExpert, \"layman\": this.result.labelLayman }\r\n    body.session = this.dialogData.sessionId\r\n    body.model_id = new RegExp(\"xtext://resource/([a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12})\").exec(this.dialogMetadata.iri)[0]\r\n\r\n    let localPairs = new Array();\r\n    for (let i = 0; i < this.fragmentData.length - 1; ++i) {\r\n      let frag = this.fragmentData[i]\r\n      let questionLayman = frag.labelLayman;\r\n      let questionLabel = frag.label;\r\n      let iri = frag.iri;\r\n      //let questionExpert = frag.labelExpert;\r\n      //let answerExpert;\r\n      let answerLayman;\r\n\r\n      if (frag.type === 'QuestionMenu') {\r\n        answerLayman = frag.optionsLayman[frag.answer]\r\n        //answerExpert = frag.optionsExpert[frag.answer]\r\n      } else if (frag.type === 'QuestionYesNo') {\r\n        if (this.locale === 'en') {\r\n          answerLayman /*= answerExpert*/ = JSON.parse(frag.answer) ? \"Yes\" : \"No\"\r\n        } else {\r\n          answerLayman /*= answerExpert */ = JSON.parse(frag.answer) ? \"Igen\" : \"Nem\"\r\n        }\r\n      } else {\r\n        answerLayman /*= answerExpert*/ = frag.answer;\r\n      }\r\n\r\n      localPairs.push(\r\n        {\r\n          \"question\": { /*\"expert\": questionExpert,*/ \"layman\": questionLayman, \"label\": questionLabel, \"iri\": iri },\r\n          \"answer\": { /*\"expert\": answerExpert,*/ \"layman\": answerLayman }\r\n        }\r\n      )\r\n\r\n    }\r\n    body.pairs = localPairs;\r\n\r\n    return body;\r\n  }\r\n\r\n\r\n  async sendData(body: ConsultationResult) {\r\n    console.log(\"sendData\", body)\r\n\r\n    this.elasticService.sendConsultationData(body).subscribe({\r\n      next: () => { },\r\n      error: error => {\r\n        console.log(error)\r\n      }\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div class=\"dialog-body\">\r\n        <div class=\"dialog-root content\">\r\n          <description-component data={this.dialogMetadata} sessionName={this.dialogData?.sessionName}></description-component>\r\n\r\n          <div class=\"steps\">\r\n            {this.fragmentData.map((fragment) => (\r\n              <step-component\r\n                key={`${this.locale}-${fragment}`} locale={this.locale}\r\n                fragment={fragment}\r\n                answerValue={fragment?.answer}\r\n                controlDisabled={fragment.isPre}\r\n                onAnswer={(event) => this.handleAnswer(event)}\r\n                onRevokeAnswer={(event) => this.handleRevoke(event)}\r\n              ></step-component>\r\n            ))}\r\n          </div>\r\n\r\n          {this.result && (\r\n            <result-component\r\n              key={`${this.locale}-${this.result}`} locale={this.locale}\r\n              resultData={this.result}\r\n            ></result-component>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n}\r\n\r\n",":host {\n  /**\n   * @prop --background: Background of the content\n   *\n   * @prop --color: Color of the content\n   *\n   * @prop --padding-top: Top padding of the content\n   * @prop --padding-end: Right padding if direction is left-to-right, and left padding if direction is right-to-left of the content\n   * @prop --padding-bottom: Bottom padding of the content\n   * @prop --padding-start: Left padding if direction is left-to-right, and right padding if direction is right-to-left of the content\n   *\n   * @prop --keyboard-offset: Keyboard offset of the content\n   *\n   * @prop --offset-top: Offset top of the content\n   * @prop --offset-bottom: Offset bottom of the content\n   */\n  --background: var(--ion-background-color, #fff);\n  --color: var(--ion-text-color, #000);\n  --padding-top: 0px;\n  --padding-bottom: 0px;\n  --padding-start: 0px;\n  --padding-end: 0px;\n  --keyboard-offset: 0px;\n  --offset-top: 0px;\n  --offset-bottom: 0px;\n  --overflow: auto;\n  display: block;\n  position: relative;\n  flex: 1;\n  width: 100%;\n  height: 100%;\n  /* stylelint-disable */\n  margin: 0 !important;\n  padding: 0 !important;\n  /* stylelint-enable */\n  font-family: var(--ion-font-family, inherit);\n  contain: size style;\n}\n\n:host(.ion-color) .inner-scroll {\n  background: var(--ion-color-base);\n  color: var(--ion-color-contrast);\n}\n\n:host(.outer-content) {\n  --background: var(--ion-color-step-50, #f2f2f2);\n}\n\n#background-content {\n  left: 0px;\n  right: 0px;\n  top: calc(var(--offset-top) * -1);\n  bottom: calc(var(--offset-bottom) * -1);\n  position: absolute;\n  background: var(--background);\n}\n\n.inner-scroll {\n  left: 0px;\n  right: 0px;\n  top: calc(var(--offset-top) * -1);\n  bottom: calc(var(--offset-bottom) * -1);\n  -webkit-padding-start: var(--padding-start);\n  padding-inline-start: var(--padding-start);\n  -webkit-padding-end: var(--padding-end);\n  padding-inline-end: var(--padding-end);\n  padding-top: calc(var(--padding-top) + var(--offset-top));\n  padding-bottom: calc(var(--padding-bottom) + var(--keyboard-offset) + var(--offset-bottom));\n  position: absolute;\n  color: var(--color);\n  box-sizing: border-box;\n  overflow: hidden;\n  /**\n   * touch-action: manipulation is an alias\n   * for this, but WebKit has an issue\n   * where pointercancel events are not fired\n   * when scrolling: https://bugs.webkit.org/show_bug.cgi?id=240917\n   * Using the long form below avoids the issue.\n   */\n  touch-action: pan-x pan-y pinch-zoom;\n}\n\n.scroll-y,\n.scroll-x {\n  -webkit-overflow-scrolling: touch;\n  /**\n   * This adds `.inner-scroll` as part of the\n   * stacking context in WebKit. Without it,\n   * children of ion-content are treated as\n   * siblings rather than descendants. This\n   * can result in the children being put\n   * into their own layers, degrading\n   * scrolling performance.\n   *\n   * An optimization called \"layer backing\n   * sharing\" usually kicks in to prevent\n   * this, but having translate3d defeats\n   * this optimization.\n   *\n   * See: https://bugs.webkit.org/show_bug.cgi?id=216701\n   */\n  z-index: 0;\n  will-change: scroll-position;\n}\n\n.scroll-y {\n  overflow-y: var(--overflow);\n  overscroll-behavior-y: contain;\n}\n\n.scroll-x {\n  overflow-x: var(--overflow);\n  overscroll-behavior-x: contain;\n}\n\n.overscroll::before,\n.overscroll::after {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  content: \"\";\n}\n\n.overscroll::before {\n  bottom: -1px;\n}\n\n.overscroll::after {\n  top: -1px;\n}\n\n:host(.content-sizing) {\n  display: flex;\n  flex-direction: column;\n  /**\n   * This resolves a sizing issue in popovers where extra long content\n   * would overflow the popover's height, preventing scrolling. It's a\n   * quirk of flexbox that forces the content to shrink to fit.\n   *\n   * overflow: hidden can't be used here because it prevents the visual\n   * effect from showing on translucent headers.\n   */\n  min-height: 0;\n  contain: none;\n}\n\n:host(.content-sizing) .inner-scroll {\n  position: relative;\n  /**\n   * Because the outer content has display: flex here (to help enable\n   * scrolling in a popover), offsetting via `top` (such as when using\n   * a translucent header) creates white space under the content. Use\n   * a negative margin instead to keep the bottom in place. (A similar\n   * thing happens with `bottom` and footers.)\n   */\n  top: 0;\n  bottom: 0;\n  margin-top: calc(var(--offset-top) * -1);\n  margin-bottom: calc(var(--offset-bottom) * -1);\n}\n\n.transition-effect {\n  display: none;\n  position: absolute;\n  width: 100%;\n  height: 100vh;\n  opacity: 0;\n  pointer-events: none;\n}\n\n:host(.content-ltr) .transition-effect {\n  /* stylelint-disable property-disallowed-list */\n  left: -100%;\n  /* stylelint-enable property-disallowed-list */\n}\n\n:host(.content-rtl) .transition-effect {\n  /* stylelint-disable property-disallowed-list */\n  right: -100%;\n  /* stylelint-enable property-disallowed-list */\n}\n\n.transition-cover {\n  position: absolute;\n  /* stylelint-disable property-disallowed-list */\n  right: 0;\n  /* stylelint-enable property-disallowed-list */\n  width: 100%;\n  height: 100%;\n  background: black;\n  opacity: 0.1;\n}\n\n.transition-shadow {\n  display: block;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  box-shadow: inset -9px 0 9px 0 rgba(0, 0, 100, 0.03);\n}\n\n:host(.content-ltr) .transition-shadow {\n  /* stylelint-disable property-disallowed-list */\n  right: 0;\n  /* stylelint-enable property-disallowed-list */\n}\n\n:host(.content-rtl) .transition-shadow {\n  /* stylelint-disable property-disallowed-list */\n  left: 0;\n  /* stylelint-enable property-disallowed-list */\n  transform: scaleX(-1);\n}\n\n::slotted([slot=fixed]) {\n  position: absolute;\n  /**\n   * When presenting ion-content inside of an ion-modal, the .inner-scroll\n   * element is composited. In WebKit, the fixed content is not composited\n   * causing it to appear under the main scrollable content as a result.\n   * The fixed content is correctly composited in other browsers. Adding\n   * the translateZ forces the fixed content to be composited so it correctly\n   * shows on top of the scrollable content. Setting a negative z-index will\n   * still allow the fixed content to appear under the scroll content if specified.\n   */\n  transform: translateZ(0);\n}","/*!\n * (C) Ionic http://ionicframework.com - MIT License\n */\nimport { Build, Host, forceUpdate, h, readTask } from '@stencil/core';\nimport { getIonMode } from '../../global/ionic-global';\nimport { componentOnReady } from '../../utils/helpers';\nimport { isPlatform } from '../../utils/platform';\nimport { isRTL } from '../../utils/rtl';\nimport { createColorClasses, hostContext } from '../../utils/theme';\n/**\n * @slot - Content is placed in the scrollable area if provided without a slot.\n * @slot fixed - Should be used for fixed content that should not scroll.\n *\n * @part background - The background of the content.\n * @part scroll - The scrollable container of the content.\n */\nexport class Content {\n  constructor() {\n    this.watchDog = null;\n    this.isScrolling = false;\n    this.lastScroll = 0;\n    this.queued = false;\n    this.cTop = -1;\n    this.cBottom = -1;\n    this.isMainContent = true;\n    this.resizeTimeout = null;\n    // Detail is used in a hot loop in the scroll event, by allocating it here\n    // V8 will be able to inline any read/write to it since it's a monomorphic class.\n    // https://mrale.ph/blog/2015/01/11/whats-up-with-monomorphism.html\n    this.detail = {\n      scrollTop: 0,\n      scrollLeft: 0,\n      type: 'scroll',\n      event: undefined,\n      startX: 0,\n      startY: 0,\n      startTime: 0,\n      currentX: 0,\n      currentY: 0,\n      velocityX: 0,\n      velocityY: 0,\n      deltaX: 0,\n      deltaY: 0,\n      currentTime: 0,\n      data: undefined,\n      isScrolling: true,\n    };\n    this.color = undefined;\n    this.fullscreen = false;\n    this.forceOverscroll = undefined;\n    this.scrollX = false;\n    this.scrollY = true;\n    this.scrollEvents = false;\n  }\n  connectedCallback() {\n    this.isMainContent = this.el.closest('ion-menu, ion-popover, ion-modal') === null;\n  }\n  disconnectedCallback() {\n    this.onScrollEnd();\n  }\n  onAppLoad() {\n    this.resize();\n  }\n  /**\n   * Rotating certain devices can update\n   * the safe area insets. As a result,\n   * the fullscreen feature on ion-content\n   * needs to be recalculated.\n   *\n   * We listen for \"resize\" because we\n   * do not care what the orientation of\n   * the device is. Other APIs\n   * such as ScreenOrientation or\n   * the deviceorientation event must have\n   * permission from the user first whereas\n   * the \"resize\" event does not.\n   *\n   * We also throttle the callback to minimize\n   * thrashing when quickly resizing a window.\n   */\n  onResize() {\n    if (this.resizeTimeout) {\n      clearTimeout(this.resizeTimeout);\n      this.resizeTimeout = null;\n    }\n    this.resizeTimeout = setTimeout(() => {\n      /**\n       * Resize should only happen\n       * if the content is visible.\n       * When the content is hidden\n       * then offsetParent will be null.\n       */\n      if (this.el.offsetParent === null) {\n        return;\n      }\n      this.resize();\n    }, 100);\n  }\n  shouldForceOverscroll() {\n    const { forceOverscroll } = this;\n    const mode = getIonMode(this);\n    return forceOverscroll === undefined ? mode === 'ios' && isPlatform('ios') : forceOverscroll;\n  }\n  resize() {\n    /**\n     * Only force update if the component is rendered in a browser context.\n     * Using `forceUpdate` in a server context with pre-rendering can lead to an infinite loop.\n     * The `hydrateDocument` function in `@stencil/core` will render the `ion-content`, but\n     * `forceUpdate` will trigger another render, locking up the server.\n     *\n     * TODO: Remove if STENCIL-834 determines Stencil will account for this.\n     */\n    if (Build.isBrowser) {\n      if (this.fullscreen) {\n        readTask(() => this.readDimensions());\n      }\n      else if (this.cTop !== 0 || this.cBottom !== 0) {\n        this.cTop = this.cBottom = 0;\n        forceUpdate(this);\n      }\n    }\n  }\n  readDimensions() {\n    const page = getPageElement(this.el);\n    const top = Math.max(this.el.offsetTop, 0);\n    const bottom = Math.max(page.offsetHeight - top - this.el.offsetHeight, 0);\n    const dirty = top !== this.cTop || bottom !== this.cBottom;\n    if (dirty) {\n      this.cTop = top;\n      this.cBottom = bottom;\n      forceUpdate(this);\n    }\n  }\n  onScroll(ev) {\n    const timeStamp = Date.now();\n    const shouldStart = !this.isScrolling;\n    this.lastScroll = timeStamp;\n    if (shouldStart) {\n      this.onScrollStart();\n    }\n    if (!this.queued && this.scrollEvents) {\n      this.queued = true;\n      readTask((ts) => {\n        this.queued = false;\n        this.detail.event = ev;\n        updateScrollDetail(this.detail, this.scrollEl, ts, shouldStart);\n        this.ionScroll.emit(this.detail);\n      });\n    }\n  }\n  /**\n   * Get the element where the actual scrolling takes place.\n   * This element can be used to subscribe to `scroll` events or manually modify\n   * `scrollTop`. However, it's recommended to use the API provided by `ion-content`:\n   *\n   * i.e. Using `ionScroll`, `ionScrollStart`, `ionScrollEnd` for scrolling events\n   * and `scrollToPoint()` to scroll the content into a certain point.\n   */\n  async getScrollElement() {\n    /**\n     * If this gets called in certain early lifecycle hooks (ex: Vue onMounted),\n     * scrollEl won't be defined yet with the custom elements build, so wait for it to load in.\n     */\n    if (!this.scrollEl) {\n      await new Promise((resolve) => componentOnReady(this.el, resolve));\n    }\n    return Promise.resolve(this.scrollEl);\n  }\n  /**\n   * Returns the background content element.\n   * @internal\n   */\n  async getBackgroundElement() {\n    if (!this.backgroundContentEl) {\n      await new Promise((resolve) => componentOnReady(this.el, resolve));\n    }\n    return Promise.resolve(this.backgroundContentEl);\n  }\n  /**\n   * Scroll to the top of the component.\n   *\n   * @param duration The amount of time to take scrolling to the top. Defaults to `0`.\n   */\n  scrollToTop(duration = 0) {\n    return this.scrollToPoint(undefined, 0, duration);\n  }\n  /**\n   * Scroll to the bottom of the component.\n   *\n   * @param duration The amount of time to take scrolling to the bottom. Defaults to `0`.\n   */\n  async scrollToBottom(duration = 0) {\n    const scrollEl = await this.getScrollElement();\n    const y = scrollEl.scrollHeight - scrollEl.clientHeight;\n    return this.scrollToPoint(undefined, y, duration);\n  }\n  /**\n   * Scroll by a specified X/Y distance in the component.\n   *\n   * @param x The amount to scroll by on the horizontal axis.\n   * @param y The amount to scroll by on the vertical axis.\n   * @param duration The amount of time to take scrolling by that amount.\n   */\n  async scrollByPoint(x, y, duration) {\n    const scrollEl = await this.getScrollElement();\n    return this.scrollToPoint(x + scrollEl.scrollLeft, y + scrollEl.scrollTop, duration);\n  }\n  /**\n   * Scroll to a specified X/Y location in the component.\n   *\n   * @param x The point to scroll to on the horizontal axis.\n   * @param y The point to scroll to on the vertical axis.\n   * @param duration The amount of time to take scrolling to that point. Defaults to `0`.\n   */\n  async scrollToPoint(x, y, duration = 0) {\n    const el = await this.getScrollElement();\n    if (duration < 32) {\n      if (y != null) {\n        el.scrollTop = y;\n      }\n      if (x != null) {\n        el.scrollLeft = x;\n      }\n      return;\n    }\n    let resolve;\n    let startTime = 0;\n    const promise = new Promise((r) => (resolve = r));\n    const fromY = el.scrollTop;\n    const fromX = el.scrollLeft;\n    const deltaY = y != null ? y - fromY : 0;\n    const deltaX = x != null ? x - fromX : 0;\n    // scroll loop\n    const step = (timeStamp) => {\n      const linearTime = Math.min(1, (timeStamp - startTime) / duration) - 1;\n      const easedT = Math.pow(linearTime, 3) + 1;\n      if (deltaY !== 0) {\n        el.scrollTop = Math.floor(easedT * deltaY + fromY);\n      }\n      if (deltaX !== 0) {\n        el.scrollLeft = Math.floor(easedT * deltaX + fromX);\n      }\n      if (easedT < 1) {\n        // do not use DomController here\n        // must use nativeRaf in order to fire in the next frame\n        requestAnimationFrame(step);\n      }\n      else {\n        resolve();\n      }\n    };\n    // chill out for a frame first\n    requestAnimationFrame((ts) => {\n      startTime = ts;\n      step(ts);\n    });\n    return promise;\n  }\n  onScrollStart() {\n    this.isScrolling = true;\n    this.ionScrollStart.emit({\n      isScrolling: true,\n    });\n    if (this.watchDog) {\n      clearInterval(this.watchDog);\n    }\n    // watchdog\n    this.watchDog = setInterval(() => {\n      if (this.lastScroll < Date.now() - 120) {\n        this.onScrollEnd();\n      }\n    }, 100);\n  }\n  onScrollEnd() {\n    if (this.watchDog)\n      clearInterval(this.watchDog);\n    this.watchDog = null;\n    if (this.isScrolling) {\n      this.isScrolling = false;\n      this.ionScrollEnd.emit({\n        isScrolling: false,\n      });\n    }\n  }\n  render() {\n    const { isMainContent, scrollX, scrollY, el } = this;\n    const rtl = isRTL(el) ? 'rtl' : 'ltr';\n    const mode = getIonMode(this);\n    const forceOverscroll = this.shouldForceOverscroll();\n    const transitionShadow = mode === 'ios';\n    const TagType = isMainContent ? 'main' : 'div';\n    this.resize();\n    return (h(Host, { class: createColorClasses(this.color, {\n        [mode]: true,\n        'content-sizing': hostContext('ion-popover', this.el),\n        overscroll: forceOverscroll,\n        [`content-${rtl}`]: true,\n      }), style: {\n        '--offset-top': `${this.cTop}px`,\n        '--offset-bottom': `${this.cBottom}px`,\n      } }, h(\"div\", { ref: (el) => (this.backgroundContentEl = el), id: \"background-content\", part: \"background\" }), h(TagType, { class: {\n        'inner-scroll': true,\n        'scroll-x': scrollX,\n        'scroll-y': scrollY,\n        overscroll: (scrollX || scrollY) && forceOverscroll,\n      }, ref: (scrollEl) => (this.scrollEl = scrollEl), onScroll: this.scrollEvents ? (ev) => this.onScroll(ev) : undefined, part: \"scroll\" }, h(\"slot\", null)), transitionShadow ? (h(\"div\", { class: \"transition-effect\" }, h(\"div\", { class: \"transition-cover\" }), h(\"div\", { class: \"transition-shadow\" }))) : null, h(\"slot\", { name: \"fixed\" })));\n  }\n  static get is() { return \"ion-content\"; }\n  static get encapsulation() { return \"shadow\"; }\n  static get originalStyleUrls() {\n    return {\n      \"$\": [\"content.scss\"]\n    };\n  }\n  static get styleUrls() {\n    return {\n      \"$\": [\"content.css\"]\n    };\n  }\n  static get properties() {\n    return {\n      \"color\": {\n        \"type\": \"string\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"Color\",\n          \"resolved\": \"\\\"danger\\\" | \\\"dark\\\" | \\\"light\\\" | \\\"medium\\\" | \\\"primary\\\" | \\\"secondary\\\" | \\\"success\\\" | \\\"tertiary\\\" | \\\"warning\\\" | string & Record<never, never> | undefined\",\n          \"references\": {\n            \"Color\": {\n              \"location\": \"import\",\n              \"path\": \"../../interface\"\n            }\n          }\n        },\n        \"required\": false,\n        \"optional\": true,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"The color to use from your application's color palette.\\nDefault options are: `\\\"primary\\\"`, `\\\"secondary\\\"`, `\\\"tertiary\\\"`, `\\\"success\\\"`, `\\\"warning\\\"`, `\\\"danger\\\"`, `\\\"light\\\"`, `\\\"medium\\\"`, and `\\\"dark\\\"`.\\nFor more information on colors, see [theming](/docs/theming/basics).\"\n        },\n        \"attribute\": \"color\",\n        \"reflect\": true\n      },\n      \"fullscreen\": {\n        \"type\": \"boolean\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"boolean\",\n          \"resolved\": \"boolean\",\n          \"references\": {}\n        },\n        \"required\": false,\n        \"optional\": false,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"If `true`, the content will scroll behind the headers\\nand footers. This effect can easily be seen by setting the toolbar\\nto transparent.\"\n        },\n        \"attribute\": \"fullscreen\",\n        \"reflect\": false,\n        \"defaultValue\": \"false\"\n      },\n      \"forceOverscroll\": {\n        \"type\": \"boolean\",\n        \"mutable\": true,\n        \"complexType\": {\n          \"original\": \"boolean\",\n          \"resolved\": \"boolean | undefined\",\n          \"references\": {}\n        },\n        \"required\": false,\n        \"optional\": true,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"If `true` and the content does not cause an overflow scroll, the scroll interaction will cause a bounce.\\nIf the content exceeds the bounds of ionContent, nothing will change.\\nNote, this does not disable the system bounce on iOS. That is an OS level setting.\"\n        },\n        \"attribute\": \"force-overscroll\",\n        \"reflect\": false\n      },\n      \"scrollX\": {\n        \"type\": \"boolean\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"boolean\",\n          \"resolved\": \"boolean\",\n          \"references\": {}\n        },\n        \"required\": false,\n        \"optional\": false,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"If you want to enable the content scrolling in the X axis, set this property to `true`.\"\n        },\n        \"attribute\": \"scroll-x\",\n        \"reflect\": false,\n        \"defaultValue\": \"false\"\n      },\n      \"scrollY\": {\n        \"type\": \"boolean\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"boolean\",\n          \"resolved\": \"boolean\",\n          \"references\": {}\n        },\n        \"required\": false,\n        \"optional\": false,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"If you want to disable the content scrolling in the Y axis, set this property to `false`.\"\n        },\n        \"attribute\": \"scroll-y\",\n        \"reflect\": false,\n        \"defaultValue\": \"true\"\n      },\n      \"scrollEvents\": {\n        \"type\": \"boolean\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"boolean\",\n          \"resolved\": \"boolean\",\n          \"references\": {}\n        },\n        \"required\": false,\n        \"optional\": false,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"Because of performance reasons, ionScroll events are disabled by default, in order to enable them\\nand start listening from (ionScroll), set this property to `true`.\"\n        },\n        \"attribute\": \"scroll-events\",\n        \"reflect\": false,\n        \"defaultValue\": \"false\"\n      }\n    };\n  }\n  static get events() {\n    return [{\n        \"method\": \"ionScrollStart\",\n        \"name\": \"ionScrollStart\",\n        \"bubbles\": true,\n        \"cancelable\": true,\n        \"composed\": true,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"Emitted when the scroll has started. This event is disabled by default.\\nSet `scrollEvents` to `true` to enable.\"\n        },\n        \"complexType\": {\n          \"original\": \"ScrollBaseDetail\",\n          \"resolved\": \"ScrollBaseDetail\",\n          \"references\": {\n            \"ScrollBaseDetail\": {\n              \"location\": \"import\",\n              \"path\": \"./content-interface\"\n            }\n          }\n        }\n      }, {\n        \"method\": \"ionScroll\",\n        \"name\": \"ionScroll\",\n        \"bubbles\": true,\n        \"cancelable\": true,\n        \"composed\": true,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"Emitted while scrolling. This event is disabled by default.\\nSet `scrollEvents` to `true` to enable.\"\n        },\n        \"complexType\": {\n          \"original\": \"ScrollDetail\",\n          \"resolved\": \"ScrollDetail\",\n          \"references\": {\n            \"ScrollDetail\": {\n              \"location\": \"import\",\n              \"path\": \"./content-interface\"\n            }\n          }\n        }\n      }, {\n        \"method\": \"ionScrollEnd\",\n        \"name\": \"ionScrollEnd\",\n        \"bubbles\": true,\n        \"cancelable\": true,\n        \"composed\": true,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"Emitted when the scroll has ended. This event is disabled by default.\\nSet `scrollEvents` to `true` to enable.\"\n        },\n        \"complexType\": {\n          \"original\": \"ScrollBaseDetail\",\n          \"resolved\": \"ScrollBaseDetail\",\n          \"references\": {\n            \"ScrollBaseDetail\": {\n              \"location\": \"import\",\n              \"path\": \"./content-interface\"\n            }\n          }\n        }\n      }];\n  }\n  static get methods() {\n    return {\n      \"getScrollElement\": {\n        \"complexType\": {\n          \"signature\": \"() => Promise<HTMLElement>\",\n          \"parameters\": [],\n          \"references\": {\n            \"Promise\": {\n              \"location\": \"global\"\n            },\n            \"HTMLElement\": {\n              \"location\": \"global\"\n            }\n          },\n          \"return\": \"Promise<HTMLElement>\"\n        },\n        \"docs\": {\n          \"text\": \"Get the element where the actual scrolling takes place.\\nThis element can be used to subscribe to `scroll` events or manually modify\\n`scrollTop`. However, it's recommended to use the API provided by `ion-content`:\\n\\ni.e. Using `ionScroll`, `ionScrollStart`, `ionScrollEnd` for scrolling events\\nand `scrollToPoint()` to scroll the content into a certain point.\",\n          \"tags\": []\n        }\n      },\n      \"getBackgroundElement\": {\n        \"complexType\": {\n          \"signature\": \"() => Promise<HTMLElement>\",\n          \"parameters\": [],\n          \"references\": {\n            \"Promise\": {\n              \"location\": \"global\"\n            },\n            \"HTMLElement\": {\n              \"location\": \"global\"\n            }\n          },\n          \"return\": \"Promise<HTMLElement>\"\n        },\n        \"docs\": {\n          \"text\": \"Returns the background content element.\",\n          \"tags\": [{\n              \"name\": \"internal\",\n              \"text\": undefined\n            }]\n        }\n      },\n      \"scrollToTop\": {\n        \"complexType\": {\n          \"signature\": \"(duration?: number) => Promise<void>\",\n          \"parameters\": [{\n              \"tags\": [{\n                  \"name\": \"param\",\n                  \"text\": \"duration The amount of time to take scrolling to the top. Defaults to `0`.\"\n                }],\n              \"text\": \"The amount of time to take scrolling to the top. Defaults to `0`.\"\n            }],\n          \"references\": {\n            \"Promise\": {\n              \"location\": \"global\"\n            }\n          },\n          \"return\": \"Promise<void>\"\n        },\n        \"docs\": {\n          \"text\": \"Scroll to the top of the component.\",\n          \"tags\": [{\n              \"name\": \"param\",\n              \"text\": \"duration The amount of time to take scrolling to the top. Defaults to `0`.\"\n            }]\n        }\n      },\n      \"scrollToBottom\": {\n        \"complexType\": {\n          \"signature\": \"(duration?: number) => Promise<void>\",\n          \"parameters\": [{\n              \"tags\": [{\n                  \"name\": \"param\",\n                  \"text\": \"duration The amount of time to take scrolling to the bottom. Defaults to `0`.\"\n                }],\n              \"text\": \"The amount of time to take scrolling to the bottom. Defaults to `0`.\"\n            }],\n          \"references\": {\n            \"Promise\": {\n              \"location\": \"global\"\n            }\n          },\n          \"return\": \"Promise<void>\"\n        },\n        \"docs\": {\n          \"text\": \"Scroll to the bottom of the component.\",\n          \"tags\": [{\n              \"name\": \"param\",\n              \"text\": \"duration The amount of time to take scrolling to the bottom. Defaults to `0`.\"\n            }]\n        }\n      },\n      \"scrollByPoint\": {\n        \"complexType\": {\n          \"signature\": \"(x: number, y: number, duration: number) => Promise<void>\",\n          \"parameters\": [{\n              \"tags\": [{\n                  \"name\": \"param\",\n                  \"text\": \"x The amount to scroll by on the horizontal axis.\"\n                }],\n              \"text\": \"The amount to scroll by on the horizontal axis.\"\n            }, {\n              \"tags\": [{\n                  \"name\": \"param\",\n                  \"text\": \"y The amount to scroll by on the vertical axis.\"\n                }],\n              \"text\": \"The amount to scroll by on the vertical axis.\"\n            }, {\n              \"tags\": [{\n                  \"name\": \"param\",\n                  \"text\": \"duration The amount of time to take scrolling by that amount.\"\n                }],\n              \"text\": \"The amount of time to take scrolling by that amount.\"\n            }],\n          \"references\": {\n            \"Promise\": {\n              \"location\": \"global\"\n            }\n          },\n          \"return\": \"Promise<void>\"\n        },\n        \"docs\": {\n          \"text\": \"Scroll by a specified X/Y distance in the component.\",\n          \"tags\": [{\n              \"name\": \"param\",\n              \"text\": \"x The amount to scroll by on the horizontal axis.\"\n            }, {\n              \"name\": \"param\",\n              \"text\": \"y The amount to scroll by on the vertical axis.\"\n            }, {\n              \"name\": \"param\",\n              \"text\": \"duration The amount of time to take scrolling by that amount.\"\n            }]\n        }\n      },\n      \"scrollToPoint\": {\n        \"complexType\": {\n          \"signature\": \"(x: number | undefined | null, y: number | undefined | null, duration?: number) => Promise<void>\",\n          \"parameters\": [{\n              \"tags\": [{\n                  \"name\": \"param\",\n                  \"text\": \"x The point to scroll to on the horizontal axis.\"\n                }],\n              \"text\": \"The point to scroll to on the horizontal axis.\"\n            }, {\n              \"tags\": [{\n                  \"name\": \"param\",\n                  \"text\": \"y The point to scroll to on the vertical axis.\"\n                }],\n              \"text\": \"The point to scroll to on the vertical axis.\"\n            }, {\n              \"tags\": [{\n                  \"name\": \"param\",\n                  \"text\": \"duration The amount of time to take scrolling to that point. Defaults to `0`.\"\n                }],\n              \"text\": \"The amount of time to take scrolling to that point. Defaults to `0`.\"\n            }],\n          \"references\": {\n            \"Promise\": {\n              \"location\": \"global\"\n            }\n          },\n          \"return\": \"Promise<void>\"\n        },\n        \"docs\": {\n          \"text\": \"Scroll to a specified X/Y location in the component.\",\n          \"tags\": [{\n              \"name\": \"param\",\n              \"text\": \"x The point to scroll to on the horizontal axis.\"\n            }, {\n              \"name\": \"param\",\n              \"text\": \"y The point to scroll to on the vertical axis.\"\n            }, {\n              \"name\": \"param\",\n              \"text\": \"duration The amount of time to take scrolling to that point. Defaults to `0`.\"\n            }]\n        }\n      }\n    };\n  }\n  static get elementRef() { return \"el\"; }\n  static get listeners() {\n    return [{\n        \"name\": \"appload\",\n        \"method\": \"onAppLoad\",\n        \"target\": \"window\",\n        \"capture\": false,\n        \"passive\": false\n      }, {\n        \"name\": \"resize\",\n        \"method\": \"onResize\",\n        \"target\": \"window\",\n        \"capture\": false,\n        \"passive\": true\n      }];\n  }\n}\nconst getParentElement = (el) => {\n  var _a;\n  if (el.parentElement) {\n    // normal element with a parent element\n    return el.parentElement;\n  }\n  if ((_a = el.parentNode) === null || _a === void 0 ? void 0 : _a.host) {\n    // shadow dom's document fragment\n    return el.parentNode.host;\n  }\n  return null;\n};\nconst getPageElement = (el) => {\n  const tabs = el.closest('ion-tabs');\n  if (tabs) {\n    return tabs;\n  }\n  /**\n   * If we're in a popover, we need to use its wrapper so we can account for space\n   * between the popover and the edges of the screen. But if the popover contains\n   * its own page element, we should use that instead.\n   */\n  const page = el.closest('ion-app, ion-page, .ion-page, page-inner, .popover-content');\n  if (page) {\n    return page;\n  }\n  return getParentElement(el);\n};\n// ******** DOM READ ****************\nconst updateScrollDetail = (detail, el, timestamp, shouldStart) => {\n  const prevX = detail.currentX;\n  const prevY = detail.currentY;\n  const prevT = detail.currentTime;\n  const currentX = el.scrollLeft;\n  const currentY = el.scrollTop;\n  const timeDelta = timestamp - prevT;\n  if (shouldStart) {\n    // remember the start positions\n    detail.startTime = timestamp;\n    detail.startX = currentX;\n    detail.startY = currentY;\n    detail.velocityX = detail.velocityY = 0;\n  }\n  detail.currentTime = timestamp;\n  detail.currentX = detail.scrollLeft = currentX;\n  detail.currentY = detail.scrollTop = currentY;\n  detail.deltaX = currentX - detail.startX;\n  detail.deltaY = currentY - detail.startY;\n  if (timeDelta > 0 && timeDelta < 100) {\n    const velocityX = (currentX - prevX) / timeDelta;\n    const velocityY = (currentY - prevY) / timeDelta;\n    detail.velocityX = velocityX * 0.7 + detail.velocityX * 0.3;\n    detail.velocityY = velocityY * 0.7 + detail.velocityY * 0.3;\n  }\n};\n","export const getIntlMessage = async (locale: string): Promise<Record<string, string>> => {\r\n  let messages: Record<string, string> = {};\r\n\r\n  if (locale === 'en') {\r\n    const response = await import(`../assets/locales/en.translation.json`);\r\n    messages = response.default;\r\n  } else if (locale === 'hu') {\r\n    const response = await import(`../assets/locales/hu.translation.json`);\r\n    messages = response.default;\r\n  }\r\n\r\n  return messages;\r\n};\r\n\r\nexport const getIntlMessageFormatted = (message: string, values: string[]): string => {\r\n  return message.replace(/{(\\d+)}/g, (_match, index) => {\r\n    return values[index] || '';\r\n  });\r\n};",":host {\r\n  display: block;\r\n}\r\n\r\n.result-container {\r\n  background: #e8f1f1;\r\n  border: 1px solid #2b7371;\r\n  border-radius: 2px;\r\n  padding: 0.5625em;\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-bottom: 1.25em;\r\n}\r\n\r\n.result-with-tag {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-top: 0.625em;\r\n}\r\n\r\n.fade-in.top {\r\n  transition: 0.5s all ease-in-out;\r\n  transform: translate3d(0, -50px, 0);\r\n  opacity: 0;\r\n}\r\n\r\n.fade-in.show {\r\n  opacity: 1;\r\n  transform: translate3d(0, 0, 0);\r\n}\r\n","import { Component, Prop, State, Watch, h, Element } from '@stencil/core';\r\nimport { Result } from '../../interfaces/dialog-interfaces';\r\nimport { getIntlMessage } from '../../language/translation';\r\n\r\n@Component({\r\n  tag: 'result-component',\r\n  styleUrl: 'result-component.css',\r\n  shadow: false,\r\n})\r\nexport class ResultComponent {\r\n  resultD: Result;\r\n  result: string;\r\n  details: string[];\r\n  tag: string = 'neutral';\r\n\r\n  resultFailTags: string[] = [\"nem jogosult\", \"not eligible\", \"negatv\", \"negative\", \"fail\"];\r\n  resultSuccessTags: string[] = [\"jogosult\", \"eligible\", \"pozitv\", \"positive\", \"success\"];\r\n  private messages: Record<string, string> = {};\r\n\r\n  @Prop({ mutable: true }) resultData: Result;\r\n  @Prop() locale: string = 'hu';\r\n  @Prop() lastLocale: string = '';\r\n\r\n  @State() isDetailOpen: boolean = false;\r\n  @State() showContent = false;\r\n\r\n  @Element() private element: HTMLElement;\r\n\r\n  \r\n  @Watch('locale')\r\n  async loadMessages() {\r\n    if (this.locale !== this.lastLocale) {\r\n      this.lastLocale = this.locale;\r\n      this.messages = await getIntlMessage(this.locale);\r\n    }\r\n  }\r\n\r\n  async componentWillLoad() { //same as ngOnInit\r\n    console.log(\"componentWillLoad-result\")\r\n    this.showContent = false;\r\n    this.resultD = { ...this.resultData };\r\n    this.makeResultLabel('');\r\n    this.setTag();\r\n    this.makeResultLabel('layman');\r\n\r\n    await this.loadMessages();\r\n    setTimeout(() => {\r\n      this.showContent = true;\r\n      this.setFocus();\r\n    }, 1000);\r\n  }\r\n\r\n  setFocus() {\r\n    setTimeout(() => {\r\n      console.log(\"setFocus result\")\r\n      const resultContainer = this.element.querySelector('div');\r\n      resultContainer.focus();\r\n\r\n    }, 1000)\r\n  }\r\n\r\n  makeResultLabel(type: string) {\r\n    let tmp: string[];\r\n\r\n    switch (type) {\r\n      case '':\r\n        tmp = this.resultD.label.split('...');\r\n        break;\r\n      case 'expert':\r\n        tmp = this.resultD.labelExpert.split('...');\r\n        break;\r\n      case 'layman':\r\n        tmp = this.resultD.labelLayman.split('...');\r\n        break;\r\n    }\r\n\r\n    this.result = tmp[0];\r\n    this.details = tmp[1] !== undefined ? [tmp[1]] : null;\r\n\r\n    if (this.details) {\r\n      this.details = this.details[0].split('\\n');\r\n      this.details.shift();\r\n      this.details.pop();\r\n    }\r\n  }\r\n\r\n  setTag() {\r\n    if (this.resultD.metadata) {\r\n      if (this.resultD.metadata.tag.length === 0) {\r\n        this.tag = 'neutral';\r\n      } else {\r\n        this.resultD.metadata.tag.forEach((tag) => {\r\n\r\n          this.tag = this.resultFailTags.indexOf(tag) !== -1 ? 'negative' : '';\r\n\r\n          if (this.tag === '') {\r\n            this.tag = this.resultSuccessTags.indexOf(tag) !== -1 ? 'positive' : 'neutral'\r\n          }\r\n        })\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  @Watch('resultData')\r\n  handleResultValueChange() {\r\n    this.showContent = false;\r\n    console.log(\"handleResultValueChangeresult\", this.resultData)\r\n    this.resultD = { ...this.resultData };\r\n    this.makeResultLabel('');\r\n    this.setTag();\r\n    this.makeResultLabel('layman');\r\n    setTimeout(() => {\r\n      this.showContent = true;\r\n      this.setFocus();\r\n    }, 1000);\r\n  }\r\n\r\n \r\n\r\n  // @Watch('details')\r\n  toggleDetails() {\r\n    this.isDetailOpen = !this.isDetailOpen;\r\n  }\r\n\r\n  render() {\r\n    const svgWidth = '1.5em'; // A szlessg belltsa\r\n    const svgColor = \"#2B7371\"; // A szn belltsa\r\n    const svgPathDown = \"M137.4 374.6c12.5 12.5 32.8 12.5 45.3 0l128-128c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8L32 192c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l128 128z\";\r\n    const svgPathUp = \"M182.6 137.4c-12.5-12.5-32.8-12.5-45.3 0l-128 128c-9.2 9.2-11.9 22.9-6.9 34.9s16.6 19.8 29.6 19.8H288c12.9 0 24.6-7.8 29.6-19.8s2.2-25.7-6.9-34.9l-128-128z\";\r\n    const svgPathCheck = \"M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z\";\r\n    const svgPathBan = \"M367.2 412.5L99.5 144.8C77.1 176.1 64 214.5 64 256c0 106 86 192 192 192c41.5 0 79.9-13.1 111.2-35.5zm45.3-45.3C434.9 335.9 448 297.5 448 256c0-106-86-192-192-192c-41.5 0-79.9 13.1-111.2 35.5L412.5 367.2zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256z\";\r\n    const svgViewBox = \"0 0 512 512\"\r\n    const svgTarget = \"M36.8904 0.0493164L30.9054 5.2914L30.9467 8.92371L16.8302 21.224C16.4774 21.5422 16.496 22.1159 16.8715 22.5449C17.25 22.9773 17.8322 23.0671 18.1923 22.7513L32.1437 10.5748L36.0236 11.1526L42.0087 5.95182L36.9317 5.16757L36.8904 0.0493164ZM16.7064 6.61224C7.51058 6.61224 0.0720215 14.0921 0.0720215 23.2878C0.0720215 32.4836 7.51058 39.9222 16.7064 39.9222C25.9021 39.9222 33.382 32.4836 33.382 23.2878C33.382 20.1793 32.5161 17.2787 31.0292 14.7849L27.8922 17.5092C28.7739 19.2455 29.2543 21.2083 29.2543 23.2878C29.2543 30.3199 23.5733 36.0009 16.5412 36.0009C9.50919 36.0009 3.78688 30.3199 3.78688 23.2878C3.78688 16.2558 9.50919 10.5335 16.5412 10.5335C19.1249 10.5335 21.5128 11.3125 23.5169 12.6386L26.6539 9.91434C23.875 7.84239 20.4317 6.61224 16.7064 6.61224ZM16.5412 13.8356C11.363 13.9086 7.19918 18.1504 7.21281 23.3291C7.22656 28.5501 11.4853 32.7539 16.7064 32.7401C21.9274 32.7264 26.1311 28.5089 26.1173 23.2878C26.114 22.0152 25.8759 20.8059 25.4156 19.6968L24.0123 20.8526C24.258 21.6079 24.4228 22.4104 24.425 23.2466C24.4362 27.5305 20.9903 30.9952 16.7064 31.0065C12.4224 31.0177 8.9577 27.5718 8.94642 23.2878C8.93519 19.0386 12.3337 15.5466 16.5825 15.4866H16.6651C17.7036 15.4839 18.691 15.6945 19.5957 16.0645L20.9578 14.8675C19.6541 14.1947 18.1889 13.8315 16.6238 13.8356H16.5412ZM16.5 18.7475C16.2329 18.7624 15.9665 18.8159 15.7157 18.8713C14.8472 19.063 14.0843 19.4927 13.4868 20.1096C12.8893 20.7264 12.4629 21.5042 12.2898 22.3798C12.2315 22.6709 12.2064 22.9796 12.2072 23.2878C12.2081 23.5986 12.2294 23.9028 12.2898 24.1959C12.4113 24.7817 12.6666 25.3276 12.9915 25.8057C13.3147 26.2849 13.7104 26.6793 14.1885 27.0027C14.9057 27.4878 15.774 27.7894 16.7064 27.787C17.2628 27.7855 17.7826 27.686 18.2749 27.498C18.6073 27.3711 18.9344 27.201 19.2242 27.0027C19.4727 26.8326 19.6749 26.6398 19.8846 26.4248C20.0877 26.2206 20.2601 26.0043 20.4212 25.7644C20.7446 25.2814 21.004 24.7425 21.1229 24.1547C21.177 23.8872 21.2021 23.6106 21.2055 23.3291L19.637 24.6912C18.8341 25.3973 17.2442 24.865 16.0459 23.4942C14.8573 22.1346 14.5616 20.4953 15.3442 19.7794L16.5 18.7475Z\"\r\n\r\n    return (\r\n      <div class={`result-container fade-in top ${this.showContent ? 'show' : ''}`}>\r\n        <div style={{ alignSelf: 'center' }}>\r\n          <svg width=\"43\" height=\"40\" viewBox=\"0 0 43 40\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n            <g clip-path=\"url(#clip0_1531_83)\">\r\n              <path d={svgTarget} fill={svgColor} />\r\n            </g>\r\n            <defs>\r\n              <clipPath id=\"clip0_1531_83\">\r\n                <rect width=\"42.0638\" height=\"40\" fill=\"white\" />\r\n              </clipPath>\r\n            </defs>\r\n          </svg>\r\n        </div>\r\n        <div class=\"result-with-tag\">\r\n          <div innerHTML={this.result}></div>\r\n          {this.tag === 'positive' && (\r\n            <div>\r\n              <svg viewBox={svgViewBox} width={svgWidth}>\r\n                <path d={svgPathCheck} fill={svgColor} />\r\n              </svg>\r\n            </div>\r\n          )}\r\n          {this.tag === 'negative' && (\r\n            <div>\r\n              <svg viewBox={svgViewBox} width={svgWidth} >\r\n                <path d={svgPathBan} fill=\"#FD1313\" />\r\n              </svg>\r\n            </div>\r\n          )}\r\n        </div>\r\n        {this.details && (\r\n          <div style={{ marginTop: '0.625em' }}>\r\n            <span class=\"clickable\" style={{ color: '#2B7371', fontWeight: '600', marginRight: '0.9375em' }} onClick={() => this.toggleDetails()}>{this.messages['result-more']}</span>\r\n            {!this.isDetailOpen ? (\r\n              <svg class=\"clickable\" width={svgWidth} viewBox={svgViewBox} onClick={() => this.toggleDetails()} >\r\n                <path d={svgPathDown} fill={svgColor} />\r\n              </svg>\r\n            ) : (\r\n              <svg class=\"clickable\" width={svgWidth} viewBox={svgViewBox} onClick={() => this.toggleDetails()} >\r\n                <path d={svgPathUp} fill={svgColor} />\r\n              </svg>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {this.isDetailOpen && (\r\n          <div style={{ marginTop: '0.625em' }}>\r\n            <ul style={{ marginBottom: '0' }}>\r\n              {this.details.map((d: string) => (\r\n                <li innerHTML={d}></li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        )}\r\n\r\n      </div>\r\n    );\r\n  }\r\n\r\n}\r\n","export var HOOKS = [\n    \"onChange\",\n    \"onClose\",\n    \"onDayCreate\",\n    \"onDestroy\",\n    \"onKeyDown\",\n    \"onMonthChange\",\n    \"onOpen\",\n    \"onParseConfig\",\n    \"onReady\",\n    \"onValueUpdate\",\n    \"onYearChange\",\n    \"onPreCalendarPosition\",\n];\nexport var defaults = {\n    _disable: [],\n    allowInput: false,\n    allowInvalidPreload: false,\n    altFormat: \"F j, Y\",\n    altInput: false,\n    altInputClass: \"form-control input\",\n    animate: typeof window === \"object\" &&\n        window.navigator.userAgent.indexOf(\"MSIE\") === -1,\n    ariaDateFormat: \"F j, Y\",\n    autoFillDefaultTime: true,\n    clickOpens: true,\n    closeOnSelect: true,\n    conjunction: \", \",\n    dateFormat: \"Y-m-d\",\n    defaultHour: 12,\n    defaultMinute: 0,\n    defaultSeconds: 0,\n    disable: [],\n    disableMobile: false,\n    enableSeconds: false,\n    enableTime: false,\n    errorHandler: function (err) {\n        return typeof console !== \"undefined\" && console.warn(err);\n    },\n    getWeek: function (givenDate) {\n        var date = new Date(givenDate.getTime());\n        date.setHours(0, 0, 0, 0);\n        date.setDate(date.getDate() + 3 - ((date.getDay() + 6) % 7));\n        var week1 = new Date(date.getFullYear(), 0, 4);\n        return (1 +\n            Math.round(((date.getTime() - week1.getTime()) / 86400000 -\n                3 +\n                ((week1.getDay() + 6) % 7)) /\n                7));\n    },\n    hourIncrement: 1,\n    ignoredFocusElements: [],\n    inline: false,\n    locale: \"default\",\n    minuteIncrement: 5,\n    mode: \"single\",\n    monthSelectorType: \"dropdown\",\n    nextArrow: \"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>\",\n    noCalendar: false,\n    now: new Date(),\n    onChange: [],\n    onClose: [],\n    onDayCreate: [],\n    onDestroy: [],\n    onKeyDown: [],\n    onMonthChange: [],\n    onOpen: [],\n    onParseConfig: [],\n    onReady: [],\n    onValueUpdate: [],\n    onYearChange: [],\n    onPreCalendarPosition: [],\n    plugins: [],\n    position: \"auto\",\n    positionElement: undefined,\n    prevArrow: \"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>\",\n    shorthandCurrentMonth: false,\n    showMonths: 1,\n    static: false,\n    time_24hr: false,\n    weekNumbers: false,\n    wrap: false,\n};\n","export var english = {\n    weekdays: {\n        shorthand: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n        longhand: [\n            \"Sunday\",\n            \"Monday\",\n            \"Tuesday\",\n            \"Wednesday\",\n            \"Thursday\",\n            \"Friday\",\n            \"Saturday\",\n        ],\n    },\n    months: {\n        shorthand: [\n            \"Jan\",\n            \"Feb\",\n            \"Mar\",\n            \"Apr\",\n            \"May\",\n            \"Jun\",\n            \"Jul\",\n            \"Aug\",\n            \"Sep\",\n            \"Oct\",\n            \"Nov\",\n            \"Dec\",\n        ],\n        longhand: [\n            \"January\",\n            \"February\",\n            \"March\",\n            \"April\",\n            \"May\",\n            \"June\",\n            \"July\",\n            \"August\",\n            \"September\",\n            \"October\",\n            \"November\",\n            \"December\",\n        ],\n    },\n    daysInMonth: [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],\n    firstDayOfWeek: 0,\n    ordinal: function (nth) {\n        var s = nth % 100;\n        if (s > 3 && s < 21)\n            return \"th\";\n        switch (s % 10) {\n            case 1:\n                return \"st\";\n            case 2:\n                return \"nd\";\n            case 3:\n                return \"rd\";\n            default:\n                return \"th\";\n        }\n    },\n    rangeSeparator: \" to \",\n    weekAbbreviation: \"Wk\",\n    scrollTitle: \"Scroll to increment\",\n    toggleTitle: \"Click to toggle\",\n    amPM: [\"AM\", \"PM\"],\n    yearAriaLabel: \"Year\",\n    monthAriaLabel: \"Month\",\n    hourAriaLabel: \"Hour\",\n    minuteAriaLabel: \"Minute\",\n    time_24hr: false,\n};\nexport default english;\n","export var pad = function (number, length) {\n    if (length === void 0) { length = 2; }\n    return (\"000\" + number).slice(length * -1);\n};\nexport var int = function (bool) { return (bool === true ? 1 : 0); };\nexport function debounce(fn, wait) {\n    var t;\n    return function () {\n        var _this = this;\n        var args = arguments;\n        clearTimeout(t);\n        t = setTimeout(function () { return fn.apply(_this, args); }, wait);\n    };\n}\nexport var arrayify = function (obj) {\n    return obj instanceof Array ? obj : [obj];\n};\n","export function toggleClass(elem, className, bool) {\n    if (bool === true)\n        return elem.classList.add(className);\n    elem.classList.remove(className);\n}\nexport function createElement(tag, className, content) {\n    var e = window.document.createElement(tag);\n    className = className || \"\";\n    content = content || \"\";\n    e.className = className;\n    if (content !== undefined)\n        e.textContent = content;\n    return e;\n}\nexport function clearNode(node) {\n    while (node.firstChild)\n        node.removeChild(node.firstChild);\n}\nexport function findParent(node, condition) {\n    if (condition(node))\n        return node;\n    else if (node.parentNode)\n        return findParent(node.parentNode, condition);\n    return undefined;\n}\nexport function createNumberInput(inputClassName, opts) {\n    var wrapper = createElement(\"div\", \"numInputWrapper\"), numInput = createElement(\"input\", \"numInput \" + inputClassName), arrowUp = createElement(\"span\", \"arrowUp\"), arrowDown = createElement(\"span\", \"arrowDown\");\n    if (navigator.userAgent.indexOf(\"MSIE 9.0\") === -1) {\n        numInput.type = \"number\";\n    }\n    else {\n        numInput.type = \"text\";\n        numInput.pattern = \"\\\\d*\";\n    }\n    if (opts !== undefined)\n        for (var key in opts)\n            numInput.setAttribute(key, opts[key]);\n    wrapper.appendChild(numInput);\n    wrapper.appendChild(arrowUp);\n    wrapper.appendChild(arrowDown);\n    return wrapper;\n}\nexport function getEventTarget(event) {\n    try {\n        if (typeof event.composedPath === \"function\") {\n            var path = event.composedPath();\n            return path[0];\n        }\n        return event.target;\n    }\n    catch (error) {\n        return event.target;\n    }\n}\n","import { int, pad } from \"../utils\";\nvar doNothing = function () { return undefined; };\nexport var monthToStr = function (monthNumber, shorthand, locale) { return locale.months[shorthand ? \"shorthand\" : \"longhand\"][monthNumber]; };\nexport var revFormat = {\n    D: doNothing,\n    F: function (dateObj, monthName, locale) {\n        dateObj.setMonth(locale.months.longhand.indexOf(monthName));\n    },\n    G: function (dateObj, hour) {\n        dateObj.setHours((dateObj.getHours() >= 12 ? 12 : 0) + parseFloat(hour));\n    },\n    H: function (dateObj, hour) {\n        dateObj.setHours(parseFloat(hour));\n    },\n    J: function (dateObj, day) {\n        dateObj.setDate(parseFloat(day));\n    },\n    K: function (dateObj, amPM, locale) {\n        dateObj.setHours((dateObj.getHours() % 12) +\n            12 * int(new RegExp(locale.amPM[1], \"i\").test(amPM)));\n    },\n    M: function (dateObj, shortMonth, locale) {\n        dateObj.setMonth(locale.months.shorthand.indexOf(shortMonth));\n    },\n    S: function (dateObj, seconds) {\n        dateObj.setSeconds(parseFloat(seconds));\n    },\n    U: function (_, unixSeconds) { return new Date(parseFloat(unixSeconds) * 1000); },\n    W: function (dateObj, weekNum, locale) {\n        var weekNumber = parseInt(weekNum);\n        var date = new Date(dateObj.getFullYear(), 0, 2 + (weekNumber - 1) * 7, 0, 0, 0, 0);\n        date.setDate(date.getDate() - date.getDay() + locale.firstDayOfWeek);\n        return date;\n    },\n    Y: function (dateObj, year) {\n        dateObj.setFullYear(parseFloat(year));\n    },\n    Z: function (_, ISODate) { return new Date(ISODate); },\n    d: function (dateObj, day) {\n        dateObj.setDate(parseFloat(day));\n    },\n    h: function (dateObj, hour) {\n        dateObj.setHours((dateObj.getHours() >= 12 ? 12 : 0) + parseFloat(hour));\n    },\n    i: function (dateObj, minutes) {\n        dateObj.setMinutes(parseFloat(minutes));\n    },\n    j: function (dateObj, day) {\n        dateObj.setDate(parseFloat(day));\n    },\n    l: doNothing,\n    m: function (dateObj, month) {\n        dateObj.setMonth(parseFloat(month) - 1);\n    },\n    n: function (dateObj, month) {\n        dateObj.setMonth(parseFloat(month) - 1);\n    },\n    s: function (dateObj, seconds) {\n        dateObj.setSeconds(parseFloat(seconds));\n    },\n    u: function (_, unixMillSeconds) {\n        return new Date(parseFloat(unixMillSeconds));\n    },\n    w: doNothing,\n    y: function (dateObj, year) {\n        dateObj.setFullYear(2000 + parseFloat(year));\n    },\n};\nexport var tokenRegex = {\n    D: \"\",\n    F: \"\",\n    G: \"(\\\\d\\\\d|\\\\d)\",\n    H: \"(\\\\d\\\\d|\\\\d)\",\n    J: \"(\\\\d\\\\d|\\\\d)\\\\w+\",\n    K: \"\",\n    M: \"\",\n    S: \"(\\\\d\\\\d|\\\\d)\",\n    U: \"(.+)\",\n    W: \"(\\\\d\\\\d|\\\\d)\",\n    Y: \"(\\\\d{4})\",\n    Z: \"(.+)\",\n    d: \"(\\\\d\\\\d|\\\\d)\",\n    h: \"(\\\\d\\\\d|\\\\d)\",\n    i: \"(\\\\d\\\\d|\\\\d)\",\n    j: \"(\\\\d\\\\d|\\\\d)\",\n    l: \"\",\n    m: \"(\\\\d\\\\d|\\\\d)\",\n    n: \"(\\\\d\\\\d|\\\\d)\",\n    s: \"(\\\\d\\\\d|\\\\d)\",\n    u: \"(.+)\",\n    w: \"(\\\\d\\\\d|\\\\d)\",\n    y: \"(\\\\d{2})\",\n};\nexport var formats = {\n    Z: function (date) { return date.toISOString(); },\n    D: function (date, locale, options) {\n        return locale.weekdays.shorthand[formats.w(date, locale, options)];\n    },\n    F: function (date, locale, options) {\n        return monthToStr(formats.n(date, locale, options) - 1, false, locale);\n    },\n    G: function (date, locale, options) {\n        return pad(formats.h(date, locale, options));\n    },\n    H: function (date) { return pad(date.getHours()); },\n    J: function (date, locale) {\n        return locale.ordinal !== undefined\n            ? date.getDate() + locale.ordinal(date.getDate())\n            : date.getDate();\n    },\n    K: function (date, locale) { return locale.amPM[int(date.getHours() > 11)]; },\n    M: function (date, locale) {\n        return monthToStr(date.getMonth(), true, locale);\n    },\n    S: function (date) { return pad(date.getSeconds()); },\n    U: function (date) { return date.getTime() / 1000; },\n    W: function (date, _, options) {\n        return options.getWeek(date);\n    },\n    Y: function (date) { return pad(date.getFullYear(), 4); },\n    d: function (date) { return pad(date.getDate()); },\n    h: function (date) { return (date.getHours() % 12 ? date.getHours() % 12 : 12); },\n    i: function (date) { return pad(date.getMinutes()); },\n    j: function (date) { return date.getDate(); },\n    l: function (date, locale) {\n        return locale.weekdays.longhand[date.getDay()];\n    },\n    m: function (date) { return pad(date.getMonth() + 1); },\n    n: function (date) { return date.getMonth() + 1; },\n    s: function (date) { return date.getSeconds(); },\n    u: function (date) { return date.getTime(); },\n    w: function (date) { return date.getDay(); },\n    y: function (date) { return String(date.getFullYear()).substring(2); },\n};\n","import { tokenRegex, revFormat, formats, } from \"./formatting\";\nimport { defaults } from \"../types/options\";\nimport { english } from \"../l10n/default\";\nexport var createDateFormatter = function (_a) {\n    var _b = _a.config, config = _b === void 0 ? defaults : _b, _c = _a.l10n, l10n = _c === void 0 ? english : _c, _d = _a.isMobile, isMobile = _d === void 0 ? false : _d;\n    return function (dateObj, frmt, overrideLocale) {\n        var locale = overrideLocale || l10n;\n        if (config.formatDate !== undefined && !isMobile) {\n            return config.formatDate(dateObj, frmt, locale);\n        }\n        return frmt\n            .split(\"\")\n            .map(function (c, i, arr) {\n            return formats[c] && arr[i - 1] !== \"\\\\\"\n                ? formats[c](dateObj, locale, config)\n                : c !== \"\\\\\"\n                    ? c\n                    : \"\";\n        })\n            .join(\"\");\n    };\n};\nexport var createDateParser = function (_a) {\n    var _b = _a.config, config = _b === void 0 ? defaults : _b, _c = _a.l10n, l10n = _c === void 0 ? english : _c;\n    return function (date, givenFormat, timeless, customLocale) {\n        if (date !== 0 && !date)\n            return undefined;\n        var locale = customLocale || l10n;\n        var parsedDate;\n        var dateOrig = date;\n        if (date instanceof Date)\n            parsedDate = new Date(date.getTime());\n        else if (typeof date !== \"string\" &&\n            date.toFixed !== undefined)\n            parsedDate = new Date(date);\n        else if (typeof date === \"string\") {\n            var format = givenFormat || (config || defaults).dateFormat;\n            var datestr = String(date).trim();\n            if (datestr === \"today\") {\n                parsedDate = new Date();\n                timeless = true;\n            }\n            else if (config && config.parseDate) {\n                parsedDate = config.parseDate(date, format);\n            }\n            else if (/Z$/.test(datestr) ||\n                /GMT$/.test(datestr)) {\n                parsedDate = new Date(date);\n            }\n            else {\n                var matched = void 0, ops = [];\n                for (var i = 0, matchIndex = 0, regexStr = \"\"; i < format.length; i++) {\n                    var token = format[i];\n                    var isBackSlash = token === \"\\\\\";\n                    var escaped = format[i - 1] === \"\\\\\" || isBackSlash;\n                    if (tokenRegex[token] && !escaped) {\n                        regexStr += tokenRegex[token];\n                        var match = new RegExp(regexStr).exec(date);\n                        if (match && (matched = true)) {\n                            ops[token !== \"Y\" ? \"push\" : \"unshift\"]({\n                                fn: revFormat[token],\n                                val: match[++matchIndex],\n                            });\n                        }\n                    }\n                    else if (!isBackSlash)\n                        regexStr += \".\";\n                }\n                parsedDate =\n                    !config || !config.noCalendar\n                        ? new Date(new Date().getFullYear(), 0, 1, 0, 0, 0, 0)\n                        : new Date(new Date().setHours(0, 0, 0, 0));\n                ops.forEach(function (_a) {\n                    var fn = _a.fn, val = _a.val;\n                    return (parsedDate = fn(parsedDate, val, locale) || parsedDate);\n                });\n                parsedDate = matched ? parsedDate : undefined;\n            }\n        }\n        if (!(parsedDate instanceof Date && !isNaN(parsedDate.getTime()))) {\n            config.errorHandler(new Error(\"Invalid date provided: \" + dateOrig));\n            return undefined;\n        }\n        if (timeless === true)\n            parsedDate.setHours(0, 0, 0, 0);\n        return parsedDate;\n    };\n};\nexport function compareDates(date1, date2, timeless) {\n    if (timeless === void 0) { timeless = true; }\n    if (timeless !== false) {\n        return (new Date(date1.getTime()).setHours(0, 0, 0, 0) -\n            new Date(date2.getTime()).setHours(0, 0, 0, 0));\n    }\n    return date1.getTime() - date2.getTime();\n}\nexport function compareTimes(date1, date2) {\n    return (3600 * (date1.getHours() - date2.getHours()) +\n        60 * (date1.getMinutes() - date2.getMinutes()) +\n        date1.getSeconds() -\n        date2.getSeconds());\n}\nexport var isBetween = function (ts, ts1, ts2) {\n    return ts > Math.min(ts1, ts2) && ts < Math.max(ts1, ts2);\n};\nexport var calculateSecondsSinceMidnight = function (hours, minutes, seconds) {\n    return hours * 3600 + minutes * 60 + seconds;\n};\nexport var parseSeconds = function (secondsSinceMidnight) {\n    var hours = Math.floor(secondsSinceMidnight / 3600), minutes = (secondsSinceMidnight - hours * 3600) / 60;\n    return [hours, minutes, secondsSinceMidnight - hours * 3600 - minutes * 60];\n};\nexport var duration = {\n    DAY: 86400000,\n};\nexport function getDefaultHours(config) {\n    var hours = config.defaultHour;\n    var minutes = config.defaultMinute;\n    var seconds = config.defaultSeconds;\n    if (config.minDate !== undefined) {\n        var minHour = config.minDate.getHours();\n        var minMinutes = config.minDate.getMinutes();\n        var minSeconds = config.minDate.getSeconds();\n        if (hours < minHour) {\n            hours = minHour;\n        }\n        if (hours === minHour && minutes < minMinutes) {\n            minutes = minMinutes;\n        }\n        if (hours === minHour && minutes === minMinutes && seconds < minSeconds)\n            seconds = config.minDate.getSeconds();\n    }\n    if (config.maxDate !== undefined) {\n        var maxHr = config.maxDate.getHours();\n        var maxMinutes = config.maxDate.getMinutes();\n        hours = Math.min(hours, maxHr);\n        if (hours === maxHr)\n            minutes = Math.min(maxMinutes, minutes);\n        if (hours === maxHr && minutes === maxMinutes)\n            seconds = config.maxDate.getSeconds();\n    }\n    return { hours: hours, minutes: minutes, seconds: seconds };\n}\n","\"use strict\";\nif (typeof Object.assign !== \"function\") {\n    Object.assign = function (target) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        if (!target) {\n            throw TypeError(\"Cannot convert undefined or null to object\");\n        }\n        var _loop_1 = function (source) {\n            if (source) {\n                Object.keys(source).forEach(function (key) { return (target[key] = source[key]); });\n            }\n        };\n        for (var _a = 0, args_1 = args; _a < args_1.length; _a++) {\n            var source = args_1[_a];\n            _loop_1(source);\n        }\n        return target;\n    };\n}\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { defaults as defaultOptions, HOOKS, } from \"./types/options\";\nimport English from \"./l10n/default\";\nimport { arrayify, debounce, int, pad } from \"./utils\";\nimport { clearNode, createElement, createNumberInput, findParent, toggleClass, getEventTarget, } from \"./utils/dom\";\nimport { compareDates, createDateParser, createDateFormatter, duration, isBetween, getDefaultHours, calculateSecondsSinceMidnight, parseSeconds, } from \"./utils/dates\";\nimport { tokenRegex, monthToStr } from \"./utils/formatting\";\nimport \"./utils/polyfills\";\nvar DEBOUNCED_CHANGE_MS = 300;\nfunction FlatpickrInstance(element, instanceConfig) {\n    var self = {\n        config: __assign(__assign({}, defaultOptions), flatpickr.defaultConfig),\n        l10n: English,\n    };\n    self.parseDate = createDateParser({ config: self.config, l10n: self.l10n });\n    self._handlers = [];\n    self.pluginElements = [];\n    self.loadedPlugins = [];\n    self._bind = bind;\n    self._setHoursFromDate = setHoursFromDate;\n    self._positionCalendar = positionCalendar;\n    self.changeMonth = changeMonth;\n    self.changeYear = changeYear;\n    self.clear = clear;\n    self.close = close;\n    self.onMouseOver = onMouseOver;\n    self._createElement = createElement;\n    self.createDay = createDay;\n    self.destroy = destroy;\n    self.isEnabled = isEnabled;\n    self.jumpToDate = jumpToDate;\n    self.updateValue = updateValue;\n    self.open = open;\n    self.redraw = redraw;\n    self.set = set;\n    self.setDate = setDate;\n    self.toggle = toggle;\n    function setupHelperFunctions() {\n        self.utils = {\n            getDaysInMonth: function (month, yr) {\n                if (month === void 0) { month = self.currentMonth; }\n                if (yr === void 0) { yr = self.currentYear; }\n                if (month === 1 && ((yr % 4 === 0 && yr % 100 !== 0) || yr % 400 === 0))\n                    return 29;\n                return self.l10n.daysInMonth[month];\n            },\n        };\n    }\n    function init() {\n        self.element = self.input = element;\n        self.isOpen = false;\n        parseConfig();\n        setupLocale();\n        setupInputs();\n        setupDates();\n        setupHelperFunctions();\n        if (!self.isMobile)\n            build();\n        bindEvents();\n        if (self.selectedDates.length || self.config.noCalendar) {\n            if (self.config.enableTime) {\n                setHoursFromDate(self.config.noCalendar ? self.latestSelectedDateObj : undefined);\n            }\n            updateValue(false);\n        }\n        setCalendarWidth();\n        var isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n        if (!self.isMobile && isSafari) {\n            positionCalendar();\n        }\n        triggerEvent(\"onReady\");\n    }\n    function getClosestActiveElement() {\n        var _a;\n        return (((_a = self.calendarContainer) === null || _a === void 0 ? void 0 : _a.getRootNode())\n            .activeElement || document.activeElement);\n    }\n    function bindToInstance(fn) {\n        return fn.bind(self);\n    }\n    function setCalendarWidth() {\n        var config = self.config;\n        if (config.weekNumbers === false && config.showMonths === 1) {\n            return;\n        }\n        else if (config.noCalendar !== true) {\n            window.requestAnimationFrame(function () {\n                if (self.calendarContainer !== undefined) {\n                    self.calendarContainer.style.visibility = \"hidden\";\n                    self.calendarContainer.style.display = \"block\";\n                }\n                if (self.daysContainer !== undefined) {\n                    var daysWidth = (self.days.offsetWidth + 1) * config.showMonths;\n                    self.daysContainer.style.width = daysWidth + \"px\";\n                    self.calendarContainer.style.width =\n                        daysWidth +\n                            (self.weekWrapper !== undefined\n                                ? self.weekWrapper.offsetWidth\n                                : 0) +\n                            \"px\";\n                    self.calendarContainer.style.removeProperty(\"visibility\");\n                    self.calendarContainer.style.removeProperty(\"display\");\n                }\n            });\n        }\n    }\n    function updateTime(e) {\n        if (self.selectedDates.length === 0) {\n            var defaultDate = self.config.minDate === undefined ||\n                compareDates(new Date(), self.config.minDate) >= 0\n                ? new Date()\n                : new Date(self.config.minDate.getTime());\n            var defaults = getDefaultHours(self.config);\n            defaultDate.setHours(defaults.hours, defaults.minutes, defaults.seconds, defaultDate.getMilliseconds());\n            self.selectedDates = [defaultDate];\n            self.latestSelectedDateObj = defaultDate;\n        }\n        if (e !== undefined && e.type !== \"blur\") {\n            timeWrapper(e);\n        }\n        var prevValue = self._input.value;\n        setHoursFromInputs();\n        updateValue();\n        if (self._input.value !== prevValue) {\n            self._debouncedChange();\n        }\n    }\n    function ampm2military(hour, amPM) {\n        return (hour % 12) + 12 * int(amPM === self.l10n.amPM[1]);\n    }\n    function military2ampm(hour) {\n        switch (hour % 24) {\n            case 0:\n            case 12:\n                return 12;\n            default:\n                return hour % 12;\n        }\n    }\n    function setHoursFromInputs() {\n        if (self.hourElement === undefined || self.minuteElement === undefined)\n            return;\n        var hours = (parseInt(self.hourElement.value.slice(-2), 10) || 0) % 24, minutes = (parseInt(self.minuteElement.value, 10) || 0) % 60, seconds = self.secondElement !== undefined\n            ? (parseInt(self.secondElement.value, 10) || 0) % 60\n            : 0;\n        if (self.amPM !== undefined) {\n            hours = ampm2military(hours, self.amPM.textContent);\n        }\n        var limitMinHours = self.config.minTime !== undefined ||\n            (self.config.minDate &&\n                self.minDateHasTime &&\n                self.latestSelectedDateObj &&\n                compareDates(self.latestSelectedDateObj, self.config.minDate, true) ===\n                    0);\n        var limitMaxHours = self.config.maxTime !== undefined ||\n            (self.config.maxDate &&\n                self.maxDateHasTime &&\n                self.latestSelectedDateObj &&\n                compareDates(self.latestSelectedDateObj, self.config.maxDate, true) ===\n                    0);\n        if (self.config.maxTime !== undefined &&\n            self.config.minTime !== undefined &&\n            self.config.minTime > self.config.maxTime) {\n            var minBound = calculateSecondsSinceMidnight(self.config.minTime.getHours(), self.config.minTime.getMinutes(), self.config.minTime.getSeconds());\n            var maxBound = calculateSecondsSinceMidnight(self.config.maxTime.getHours(), self.config.maxTime.getMinutes(), self.config.maxTime.getSeconds());\n            var currentTime = calculateSecondsSinceMidnight(hours, minutes, seconds);\n            if (currentTime > maxBound && currentTime < minBound) {\n                var result = parseSeconds(minBound);\n                hours = result[0];\n                minutes = result[1];\n                seconds = result[2];\n            }\n        }\n        else {\n            if (limitMaxHours) {\n                var maxTime = self.config.maxTime !== undefined\n                    ? self.config.maxTime\n                    : self.config.maxDate;\n                hours = Math.min(hours, maxTime.getHours());\n                if (hours === maxTime.getHours())\n                    minutes = Math.min(minutes, maxTime.getMinutes());\n                if (minutes === maxTime.getMinutes())\n                    seconds = Math.min(seconds, maxTime.getSeconds());\n            }\n            if (limitMinHours) {\n                var minTime = self.config.minTime !== undefined\n                    ? self.config.minTime\n                    : self.config.minDate;\n                hours = Math.max(hours, minTime.getHours());\n                if (hours === minTime.getHours() && minutes < minTime.getMinutes())\n                    minutes = minTime.getMinutes();\n                if (minutes === minTime.getMinutes())\n                    seconds = Math.max(seconds, minTime.getSeconds());\n            }\n        }\n        setHours(hours, minutes, seconds);\n    }\n    function setHoursFromDate(dateObj) {\n        var date = dateObj || self.latestSelectedDateObj;\n        if (date && date instanceof Date) {\n            setHours(date.getHours(), date.getMinutes(), date.getSeconds());\n        }\n    }\n    function setHours(hours, minutes, seconds) {\n        if (self.latestSelectedDateObj !== undefined) {\n            self.latestSelectedDateObj.setHours(hours % 24, minutes, seconds || 0, 0);\n        }\n        if (!self.hourElement || !self.minuteElement || self.isMobile)\n            return;\n        self.hourElement.value = pad(!self.config.time_24hr\n            ? ((12 + hours) % 12) + 12 * int(hours % 12 === 0)\n            : hours);\n        self.minuteElement.value = pad(minutes);\n        if (self.amPM !== undefined)\n            self.amPM.textContent = self.l10n.amPM[int(hours >= 12)];\n        if (self.secondElement !== undefined)\n            self.secondElement.value = pad(seconds);\n    }\n    function onYearInput(event) {\n        var eventTarget = getEventTarget(event);\n        var year = parseInt(eventTarget.value) + (event.delta || 0);\n        if (year / 1000 > 1 ||\n            (event.key === \"Enter\" && !/[^\\d]/.test(year.toString()))) {\n            changeYear(year);\n        }\n    }\n    function bind(element, event, handler, options) {\n        if (event instanceof Array)\n            return event.forEach(function (ev) { return bind(element, ev, handler, options); });\n        if (element instanceof Array)\n            return element.forEach(function (el) { return bind(el, event, handler, options); });\n        element.addEventListener(event, handler, options);\n        self._handlers.push({\n            remove: function () { return element.removeEventListener(event, handler, options); },\n        });\n    }\n    function triggerChange() {\n        triggerEvent(\"onChange\");\n    }\n    function bindEvents() {\n        if (self.config.wrap) {\n            [\"open\", \"close\", \"toggle\", \"clear\"].forEach(function (evt) {\n                Array.prototype.forEach.call(self.element.querySelectorAll(\"[data-\" + evt + \"]\"), function (el) {\n                    return bind(el, \"click\", self[evt]);\n                });\n            });\n        }\n        if (self.isMobile) {\n            setupMobile();\n            return;\n        }\n        var debouncedResize = debounce(onResize, 50);\n        self._debouncedChange = debounce(triggerChange, DEBOUNCED_CHANGE_MS);\n        if (self.daysContainer && !/iPhone|iPad|iPod/i.test(navigator.userAgent))\n            bind(self.daysContainer, \"mouseover\", function (e) {\n                if (self.config.mode === \"range\")\n                    onMouseOver(getEventTarget(e));\n            });\n        bind(self._input, \"keydown\", onKeyDown);\n        if (self.calendarContainer !== undefined) {\n            bind(self.calendarContainer, \"keydown\", onKeyDown);\n        }\n        if (!self.config.inline && !self.config.static)\n            bind(window, \"resize\", debouncedResize);\n        if (window.ontouchstart !== undefined)\n            bind(window.document, \"touchstart\", documentClick);\n        else\n            bind(window.document, \"mousedown\", documentClick);\n        bind(window.document, \"focus\", documentClick, { capture: true });\n        if (self.config.clickOpens === true) {\n            bind(self._input, \"focus\", self.open);\n            bind(self._input, \"click\", self.open);\n        }\n        if (self.daysContainer !== undefined) {\n            bind(self.monthNav, \"click\", onMonthNavClick);\n            bind(self.monthNav, [\"keyup\", \"increment\"], onYearInput);\n            bind(self.daysContainer, \"click\", selectDate);\n        }\n        if (self.timeContainer !== undefined &&\n            self.minuteElement !== undefined &&\n            self.hourElement !== undefined) {\n            var selText = function (e) {\n                return getEventTarget(e).select();\n            };\n            bind(self.timeContainer, [\"increment\"], updateTime);\n            bind(self.timeContainer, \"blur\", updateTime, { capture: true });\n            bind(self.timeContainer, \"click\", timeIncrement);\n            bind([self.hourElement, self.minuteElement], [\"focus\", \"click\"], selText);\n            if (self.secondElement !== undefined)\n                bind(self.secondElement, \"focus\", function () { return self.secondElement && self.secondElement.select(); });\n            if (self.amPM !== undefined) {\n                bind(self.amPM, \"click\", function (e) {\n                    updateTime(e);\n                });\n            }\n        }\n        if (self.config.allowInput) {\n            bind(self._input, \"blur\", onBlur);\n        }\n    }\n    function jumpToDate(jumpDate, triggerChange) {\n        var jumpTo = jumpDate !== undefined\n            ? self.parseDate(jumpDate)\n            : self.latestSelectedDateObj ||\n                (self.config.minDate && self.config.minDate > self.now\n                    ? self.config.minDate\n                    : self.config.maxDate && self.config.maxDate < self.now\n                        ? self.config.maxDate\n                        : self.now);\n        var oldYear = self.currentYear;\n        var oldMonth = self.currentMonth;\n        try {\n            if (jumpTo !== undefined) {\n                self.currentYear = jumpTo.getFullYear();\n                self.currentMonth = jumpTo.getMonth();\n            }\n        }\n        catch (e) {\n            e.message = \"Invalid date supplied: \" + jumpTo;\n            self.config.errorHandler(e);\n        }\n        if (triggerChange && self.currentYear !== oldYear) {\n            triggerEvent(\"onYearChange\");\n            buildMonthSwitch();\n        }\n        if (triggerChange &&\n            (self.currentYear !== oldYear || self.currentMonth !== oldMonth)) {\n            triggerEvent(\"onMonthChange\");\n        }\n        self.redraw();\n    }\n    function timeIncrement(e) {\n        var eventTarget = getEventTarget(e);\n        if (~eventTarget.className.indexOf(\"arrow\"))\n            incrementNumInput(e, eventTarget.classList.contains(\"arrowUp\") ? 1 : -1);\n    }\n    function incrementNumInput(e, delta, inputElem) {\n        var target = e && getEventTarget(e);\n        var input = inputElem ||\n            (target && target.parentNode && target.parentNode.firstChild);\n        var event = createEvent(\"increment\");\n        event.delta = delta;\n        input && input.dispatchEvent(event);\n    }\n    function build() {\n        var fragment = window.document.createDocumentFragment();\n        self.calendarContainer = createElement(\"div\", \"flatpickr-calendar\");\n        self.calendarContainer.tabIndex = -1;\n        if (!self.config.noCalendar) {\n            fragment.appendChild(buildMonthNav());\n            self.innerContainer = createElement(\"div\", \"flatpickr-innerContainer\");\n            if (self.config.weekNumbers) {\n                var _a = buildWeeks(), weekWrapper = _a.weekWrapper, weekNumbers = _a.weekNumbers;\n                self.innerContainer.appendChild(weekWrapper);\n                self.weekNumbers = weekNumbers;\n                self.weekWrapper = weekWrapper;\n            }\n            self.rContainer = createElement(\"div\", \"flatpickr-rContainer\");\n            self.rContainer.appendChild(buildWeekdays());\n            if (!self.daysContainer) {\n                self.daysContainer = createElement(\"div\", \"flatpickr-days\");\n                self.daysContainer.tabIndex = -1;\n            }\n            buildDays();\n            self.rContainer.appendChild(self.daysContainer);\n            self.innerContainer.appendChild(self.rContainer);\n            fragment.appendChild(self.innerContainer);\n        }\n        if (self.config.enableTime) {\n            fragment.appendChild(buildTime());\n        }\n        toggleClass(self.calendarContainer, \"rangeMode\", self.config.mode === \"range\");\n        toggleClass(self.calendarContainer, \"animate\", self.config.animate === true);\n        toggleClass(self.calendarContainer, \"multiMonth\", self.config.showMonths > 1);\n        self.calendarContainer.appendChild(fragment);\n        var customAppend = self.config.appendTo !== undefined &&\n            self.config.appendTo.nodeType !== undefined;\n        if (self.config.inline || self.config.static) {\n            self.calendarContainer.classList.add(self.config.inline ? \"inline\" : \"static\");\n            if (self.config.inline) {\n                if (!customAppend && self.element.parentNode)\n                    self.element.parentNode.insertBefore(self.calendarContainer, self._input.nextSibling);\n                else if (self.config.appendTo !== undefined)\n                    self.config.appendTo.appendChild(self.calendarContainer);\n            }\n            if (self.config.static) {\n                var wrapper = createElement(\"div\", \"flatpickr-wrapper\");\n                if (self.element.parentNode)\n                    self.element.parentNode.insertBefore(wrapper, self.element);\n                wrapper.appendChild(self.element);\n                if (self.altInput)\n                    wrapper.appendChild(self.altInput);\n                wrapper.appendChild(self.calendarContainer);\n            }\n        }\n        if (!self.config.static && !self.config.inline)\n            (self.config.appendTo !== undefined\n                ? self.config.appendTo\n                : window.document.body).appendChild(self.calendarContainer);\n    }\n    function createDay(className, date, _dayNumber, i) {\n        var dateIsEnabled = isEnabled(date, true), dayElement = createElement(\"span\", className, date.getDate().toString());\n        dayElement.dateObj = date;\n        dayElement.$i = i;\n        dayElement.setAttribute(\"aria-label\", self.formatDate(date, self.config.ariaDateFormat));\n        if (className.indexOf(\"hidden\") === -1 &&\n            compareDates(date, self.now) === 0) {\n            self.todayDateElem = dayElement;\n            dayElement.classList.add(\"today\");\n            dayElement.setAttribute(\"aria-current\", \"date\");\n        }\n        if (dateIsEnabled) {\n            dayElement.tabIndex = -1;\n            if (isDateSelected(date)) {\n                dayElement.classList.add(\"selected\");\n                self.selectedDateElem = dayElement;\n                if (self.config.mode === \"range\") {\n                    toggleClass(dayElement, \"startRange\", self.selectedDates[0] &&\n                        compareDates(date, self.selectedDates[0], true) === 0);\n                    toggleClass(dayElement, \"endRange\", self.selectedDates[1] &&\n                        compareDates(date, self.selectedDates[1], true) === 0);\n                    if (className === \"nextMonthDay\")\n                        dayElement.classList.add(\"inRange\");\n                }\n            }\n        }\n        else {\n            dayElement.classList.add(\"flatpickr-disabled\");\n        }\n        if (self.config.mode === \"range\") {\n            if (isDateInRange(date) && !isDateSelected(date))\n                dayElement.classList.add(\"inRange\");\n        }\n        if (self.weekNumbers &&\n            self.config.showMonths === 1 &&\n            className !== \"prevMonthDay\" &&\n            i % 7 === 6) {\n            self.weekNumbers.insertAdjacentHTML(\"beforeend\", \"<span class='flatpickr-day'>\" + self.config.getWeek(date) + \"</span>\");\n        }\n        triggerEvent(\"onDayCreate\", dayElement);\n        return dayElement;\n    }\n    function focusOnDayElem(targetNode) {\n        targetNode.focus();\n        if (self.config.mode === \"range\")\n            onMouseOver(targetNode);\n    }\n    function getFirstAvailableDay(delta) {\n        var startMonth = delta > 0 ? 0 : self.config.showMonths - 1;\n        var endMonth = delta > 0 ? self.config.showMonths : -1;\n        for (var m = startMonth; m != endMonth; m += delta) {\n            var month = self.daysContainer.children[m];\n            var startIndex = delta > 0 ? 0 : month.children.length - 1;\n            var endIndex = delta > 0 ? month.children.length : -1;\n            for (var i = startIndex; i != endIndex; i += delta) {\n                var c = month.children[i];\n                if (c.className.indexOf(\"hidden\") === -1 && isEnabled(c.dateObj))\n                    return c;\n            }\n        }\n        return undefined;\n    }\n    function getNextAvailableDay(current, delta) {\n        var givenMonth = current.className.indexOf(\"Month\") === -1\n            ? current.dateObj.getMonth()\n            : self.currentMonth;\n        var endMonth = delta > 0 ? self.config.showMonths : -1;\n        var loopDelta = delta > 0 ? 1 : -1;\n        for (var m = givenMonth - self.currentMonth; m != endMonth; m += loopDelta) {\n            var month = self.daysContainer.children[m];\n            var startIndex = givenMonth - self.currentMonth === m\n                ? current.$i + delta\n                : delta < 0\n                    ? month.children.length - 1\n                    : 0;\n            var numMonthDays = month.children.length;\n            for (var i = startIndex; i >= 0 && i < numMonthDays && i != (delta > 0 ? numMonthDays : -1); i += loopDelta) {\n                var c = month.children[i];\n                if (c.className.indexOf(\"hidden\") === -1 &&\n                    isEnabled(c.dateObj) &&\n                    Math.abs(current.$i - i) >= Math.abs(delta))\n                    return focusOnDayElem(c);\n            }\n        }\n        self.changeMonth(loopDelta);\n        focusOnDay(getFirstAvailableDay(loopDelta), 0);\n        return undefined;\n    }\n    function focusOnDay(current, offset) {\n        var activeElement = getClosestActiveElement();\n        var dayFocused = isInView(activeElement || document.body);\n        var startElem = current !== undefined\n            ? current\n            : dayFocused\n                ? activeElement\n                : self.selectedDateElem !== undefined && isInView(self.selectedDateElem)\n                    ? self.selectedDateElem\n                    : self.todayDateElem !== undefined && isInView(self.todayDateElem)\n                        ? self.todayDateElem\n                        : getFirstAvailableDay(offset > 0 ? 1 : -1);\n        if (startElem === undefined) {\n            self._input.focus();\n        }\n        else if (!dayFocused) {\n            focusOnDayElem(startElem);\n        }\n        else {\n            getNextAvailableDay(startElem, offset);\n        }\n    }\n    function buildMonthDays(year, month) {\n        var firstOfMonth = (new Date(year, month, 1).getDay() - self.l10n.firstDayOfWeek + 7) % 7;\n        var prevMonthDays = self.utils.getDaysInMonth((month - 1 + 12) % 12, year);\n        var daysInMonth = self.utils.getDaysInMonth(month, year), days = window.document.createDocumentFragment(), isMultiMonth = self.config.showMonths > 1, prevMonthDayClass = isMultiMonth ? \"prevMonthDay hidden\" : \"prevMonthDay\", nextMonthDayClass = isMultiMonth ? \"nextMonthDay hidden\" : \"nextMonthDay\";\n        var dayNumber = prevMonthDays + 1 - firstOfMonth, dayIndex = 0;\n        for (; dayNumber <= prevMonthDays; dayNumber++, dayIndex++) {\n            days.appendChild(createDay(\"flatpickr-day \" + prevMonthDayClass, new Date(year, month - 1, dayNumber), dayNumber, dayIndex));\n        }\n        for (dayNumber = 1; dayNumber <= daysInMonth; dayNumber++, dayIndex++) {\n            days.appendChild(createDay(\"flatpickr-day\", new Date(year, month, dayNumber), dayNumber, dayIndex));\n        }\n        for (var dayNum = daysInMonth + 1; dayNum <= 42 - firstOfMonth &&\n            (self.config.showMonths === 1 || dayIndex % 7 !== 0); dayNum++, dayIndex++) {\n            days.appendChild(createDay(\"flatpickr-day \" + nextMonthDayClass, new Date(year, month + 1, dayNum % daysInMonth), dayNum, dayIndex));\n        }\n        var dayContainer = createElement(\"div\", \"dayContainer\");\n        dayContainer.appendChild(days);\n        return dayContainer;\n    }\n    function buildDays() {\n        if (self.daysContainer === undefined) {\n            return;\n        }\n        clearNode(self.daysContainer);\n        if (self.weekNumbers)\n            clearNode(self.weekNumbers);\n        var frag = document.createDocumentFragment();\n        for (var i = 0; i < self.config.showMonths; i++) {\n            var d = new Date(self.currentYear, self.currentMonth, 1);\n            d.setMonth(self.currentMonth + i);\n            frag.appendChild(buildMonthDays(d.getFullYear(), d.getMonth()));\n        }\n        self.daysContainer.appendChild(frag);\n        self.days = self.daysContainer.firstChild;\n        if (self.config.mode === \"range\" && self.selectedDates.length === 1) {\n            onMouseOver();\n        }\n    }\n    function buildMonthSwitch() {\n        if (self.config.showMonths > 1 ||\n            self.config.monthSelectorType !== \"dropdown\")\n            return;\n        var shouldBuildMonth = function (month) {\n            if (self.config.minDate !== undefined &&\n                self.currentYear === self.config.minDate.getFullYear() &&\n                month < self.config.minDate.getMonth()) {\n                return false;\n            }\n            return !(self.config.maxDate !== undefined &&\n                self.currentYear === self.config.maxDate.getFullYear() &&\n                month > self.config.maxDate.getMonth());\n        };\n        self.monthsDropdownContainer.tabIndex = -1;\n        self.monthsDropdownContainer.innerHTML = \"\";\n        for (var i = 0; i < 12; i++) {\n            if (!shouldBuildMonth(i))\n                continue;\n            var month = createElement(\"option\", \"flatpickr-monthDropdown-month\");\n            month.value = new Date(self.currentYear, i).getMonth().toString();\n            month.textContent = monthToStr(i, self.config.shorthandCurrentMonth, self.l10n);\n            month.tabIndex = -1;\n            if (self.currentMonth === i) {\n                month.selected = true;\n            }\n            self.monthsDropdownContainer.appendChild(month);\n        }\n    }\n    function buildMonth() {\n        var container = createElement(\"div\", \"flatpickr-month\");\n        var monthNavFragment = window.document.createDocumentFragment();\n        var monthElement;\n        if (self.config.showMonths > 1 ||\n            self.config.monthSelectorType === \"static\") {\n            monthElement = createElement(\"span\", \"cur-month\");\n        }\n        else {\n            self.monthsDropdownContainer = createElement(\"select\", \"flatpickr-monthDropdown-months\");\n            self.monthsDropdownContainer.setAttribute(\"aria-label\", self.l10n.monthAriaLabel);\n            bind(self.monthsDropdownContainer, \"change\", function (e) {\n                var target = getEventTarget(e);\n                var selectedMonth = parseInt(target.value, 10);\n                self.changeMonth(selectedMonth - self.currentMonth);\n                triggerEvent(\"onMonthChange\");\n            });\n            buildMonthSwitch();\n            monthElement = self.monthsDropdownContainer;\n        }\n        var yearInput = createNumberInput(\"cur-year\", { tabindex: \"-1\" });\n        var yearElement = yearInput.getElementsByTagName(\"input\")[0];\n        yearElement.setAttribute(\"aria-label\", self.l10n.yearAriaLabel);\n        if (self.config.minDate) {\n            yearElement.setAttribute(\"min\", self.config.minDate.getFullYear().toString());\n        }\n        if (self.config.maxDate) {\n            yearElement.setAttribute(\"max\", self.config.maxDate.getFullYear().toString());\n            yearElement.disabled =\n                !!self.config.minDate &&\n                    self.config.minDate.getFullYear() === self.config.maxDate.getFullYear();\n        }\n        var currentMonth = createElement(\"div\", \"flatpickr-current-month\");\n        currentMonth.appendChild(monthElement);\n        currentMonth.appendChild(yearInput);\n        monthNavFragment.appendChild(currentMonth);\n        container.appendChild(monthNavFragment);\n        return {\n            container: container,\n            yearElement: yearElement,\n            monthElement: monthElement,\n        };\n    }\n    function buildMonths() {\n        clearNode(self.monthNav);\n        self.monthNav.appendChild(self.prevMonthNav);\n        if (self.config.showMonths) {\n            self.yearElements = [];\n            self.monthElements = [];\n        }\n        for (var m = self.config.showMonths; m--;) {\n            var month = buildMonth();\n            self.yearElements.push(month.yearElement);\n            self.monthElements.push(month.monthElement);\n            self.monthNav.appendChild(month.container);\n        }\n        self.monthNav.appendChild(self.nextMonthNav);\n    }\n    function buildMonthNav() {\n        self.monthNav = createElement(\"div\", \"flatpickr-months\");\n        self.yearElements = [];\n        self.monthElements = [];\n        self.prevMonthNav = createElement(\"span\", \"flatpickr-prev-month\");\n        self.prevMonthNav.innerHTML = self.config.prevArrow;\n        self.nextMonthNav = createElement(\"span\", \"flatpickr-next-month\");\n        self.nextMonthNav.innerHTML = self.config.nextArrow;\n        buildMonths();\n        Object.defineProperty(self, \"_hidePrevMonthArrow\", {\n            get: function () { return self.__hidePrevMonthArrow; },\n            set: function (bool) {\n                if (self.__hidePrevMonthArrow !== bool) {\n                    toggleClass(self.prevMonthNav, \"flatpickr-disabled\", bool);\n                    self.__hidePrevMonthArrow = bool;\n                }\n            },\n        });\n        Object.defineProperty(self, \"_hideNextMonthArrow\", {\n            get: function () { return self.__hideNextMonthArrow; },\n            set: function (bool) {\n                if (self.__hideNextMonthArrow !== bool) {\n                    toggleClass(self.nextMonthNav, \"flatpickr-disabled\", bool);\n                    self.__hideNextMonthArrow = bool;\n                }\n            },\n        });\n        self.currentYearElement = self.yearElements[0];\n        updateNavigationCurrentMonth();\n        return self.monthNav;\n    }\n    function buildTime() {\n        self.calendarContainer.classList.add(\"hasTime\");\n        if (self.config.noCalendar)\n            self.calendarContainer.classList.add(\"noCalendar\");\n        var defaults = getDefaultHours(self.config);\n        self.timeContainer = createElement(\"div\", \"flatpickr-time\");\n        self.timeContainer.tabIndex = -1;\n        var separator = createElement(\"span\", \"flatpickr-time-separator\", \":\");\n        var hourInput = createNumberInput(\"flatpickr-hour\", {\n            \"aria-label\": self.l10n.hourAriaLabel,\n        });\n        self.hourElement = hourInput.getElementsByTagName(\"input\")[0];\n        var minuteInput = createNumberInput(\"flatpickr-minute\", {\n            \"aria-label\": self.l10n.minuteAriaLabel,\n        });\n        self.minuteElement = minuteInput.getElementsByTagName(\"input\")[0];\n        self.hourElement.tabIndex = self.minuteElement.tabIndex = -1;\n        self.hourElement.value = pad(self.latestSelectedDateObj\n            ? self.latestSelectedDateObj.getHours()\n            : self.config.time_24hr\n                ? defaults.hours\n                : military2ampm(defaults.hours));\n        self.minuteElement.value = pad(self.latestSelectedDateObj\n            ? self.latestSelectedDateObj.getMinutes()\n            : defaults.minutes);\n        self.hourElement.setAttribute(\"step\", self.config.hourIncrement.toString());\n        self.minuteElement.setAttribute(\"step\", self.config.minuteIncrement.toString());\n        self.hourElement.setAttribute(\"min\", self.config.time_24hr ? \"0\" : \"1\");\n        self.hourElement.setAttribute(\"max\", self.config.time_24hr ? \"23\" : \"12\");\n        self.hourElement.setAttribute(\"maxlength\", \"2\");\n        self.minuteElement.setAttribute(\"min\", \"0\");\n        self.minuteElement.setAttribute(\"max\", \"59\");\n        self.minuteElement.setAttribute(\"maxlength\", \"2\");\n        self.timeContainer.appendChild(hourInput);\n        self.timeContainer.appendChild(separator);\n        self.timeContainer.appendChild(minuteInput);\n        if (self.config.time_24hr)\n            self.timeContainer.classList.add(\"time24hr\");\n        if (self.config.enableSeconds) {\n            self.timeContainer.classList.add(\"hasSeconds\");\n            var secondInput = createNumberInput(\"flatpickr-second\");\n            self.secondElement = secondInput.getElementsByTagName(\"input\")[0];\n            self.secondElement.value = pad(self.latestSelectedDateObj\n                ? self.latestSelectedDateObj.getSeconds()\n                : defaults.seconds);\n            self.secondElement.setAttribute(\"step\", self.minuteElement.getAttribute(\"step\"));\n            self.secondElement.setAttribute(\"min\", \"0\");\n            self.secondElement.setAttribute(\"max\", \"59\");\n            self.secondElement.setAttribute(\"maxlength\", \"2\");\n            self.timeContainer.appendChild(createElement(\"span\", \"flatpickr-time-separator\", \":\"));\n            self.timeContainer.appendChild(secondInput);\n        }\n        if (!self.config.time_24hr) {\n            self.amPM = createElement(\"span\", \"flatpickr-am-pm\", self.l10n.amPM[int((self.latestSelectedDateObj\n                ? self.hourElement.value\n                : self.config.defaultHour) > 11)]);\n            self.amPM.title = self.l10n.toggleTitle;\n            self.amPM.tabIndex = -1;\n            self.timeContainer.appendChild(self.amPM);\n        }\n        return self.timeContainer;\n    }\n    function buildWeekdays() {\n        if (!self.weekdayContainer)\n            self.weekdayContainer = createElement(\"div\", \"flatpickr-weekdays\");\n        else\n            clearNode(self.weekdayContainer);\n        for (var i = self.config.showMonths; i--;) {\n            var container = createElement(\"div\", \"flatpickr-weekdaycontainer\");\n            self.weekdayContainer.appendChild(container);\n        }\n        updateWeekdays();\n        return self.weekdayContainer;\n    }\n    function updateWeekdays() {\n        if (!self.weekdayContainer) {\n            return;\n        }\n        var firstDayOfWeek = self.l10n.firstDayOfWeek;\n        var weekdays = __spreadArrays(self.l10n.weekdays.shorthand);\n        if (firstDayOfWeek > 0 && firstDayOfWeek < weekdays.length) {\n            weekdays = __spreadArrays(weekdays.splice(firstDayOfWeek, weekdays.length), weekdays.splice(0, firstDayOfWeek));\n        }\n        for (var i = self.config.showMonths; i--;) {\n            self.weekdayContainer.children[i].innerHTML = \"\\n      <span class='flatpickr-weekday'>\\n        \" + weekdays.join(\"</span><span class='flatpickr-weekday'>\") + \"\\n      </span>\\n      \";\n        }\n    }\n    function buildWeeks() {\n        self.calendarContainer.classList.add(\"hasWeeks\");\n        var weekWrapper = createElement(\"div\", \"flatpickr-weekwrapper\");\n        weekWrapper.appendChild(createElement(\"span\", \"flatpickr-weekday\", self.l10n.weekAbbreviation));\n        var weekNumbers = createElement(\"div\", \"flatpickr-weeks\");\n        weekWrapper.appendChild(weekNumbers);\n        return {\n            weekWrapper: weekWrapper,\n            weekNumbers: weekNumbers,\n        };\n    }\n    function changeMonth(value, isOffset) {\n        if (isOffset === void 0) { isOffset = true; }\n        var delta = isOffset ? value : value - self.currentMonth;\n        if ((delta < 0 && self._hidePrevMonthArrow === true) ||\n            (delta > 0 && self._hideNextMonthArrow === true))\n            return;\n        self.currentMonth += delta;\n        if (self.currentMonth < 0 || self.currentMonth > 11) {\n            self.currentYear += self.currentMonth > 11 ? 1 : -1;\n            self.currentMonth = (self.currentMonth + 12) % 12;\n            triggerEvent(\"onYearChange\");\n            buildMonthSwitch();\n        }\n        buildDays();\n        triggerEvent(\"onMonthChange\");\n        updateNavigationCurrentMonth();\n    }\n    function clear(triggerChangeEvent, toInitial) {\n        if (triggerChangeEvent === void 0) { triggerChangeEvent = true; }\n        if (toInitial === void 0) { toInitial = true; }\n        self.input.value = \"\";\n        if (self.altInput !== undefined)\n            self.altInput.value = \"\";\n        if (self.mobileInput !== undefined)\n            self.mobileInput.value = \"\";\n        self.selectedDates = [];\n        self.latestSelectedDateObj = undefined;\n        if (toInitial === true) {\n            self.currentYear = self._initialDate.getFullYear();\n            self.currentMonth = self._initialDate.getMonth();\n        }\n        if (self.config.enableTime === true) {\n            var _a = getDefaultHours(self.config), hours = _a.hours, minutes = _a.minutes, seconds = _a.seconds;\n            setHours(hours, minutes, seconds);\n        }\n        self.redraw();\n        if (triggerChangeEvent)\n            triggerEvent(\"onChange\");\n    }\n    function close() {\n        self.isOpen = false;\n        if (!self.isMobile) {\n            if (self.calendarContainer !== undefined) {\n                self.calendarContainer.classList.remove(\"open\");\n            }\n            if (self._input !== undefined) {\n                self._input.classList.remove(\"active\");\n            }\n        }\n        triggerEvent(\"onClose\");\n    }\n    function destroy() {\n        if (self.config !== undefined)\n            triggerEvent(\"onDestroy\");\n        for (var i = self._handlers.length; i--;) {\n            self._handlers[i].remove();\n        }\n        self._handlers = [];\n        if (self.mobileInput) {\n            if (self.mobileInput.parentNode)\n                self.mobileInput.parentNode.removeChild(self.mobileInput);\n            self.mobileInput = undefined;\n        }\n        else if (self.calendarContainer && self.calendarContainer.parentNode) {\n            if (self.config.static && self.calendarContainer.parentNode) {\n                var wrapper = self.calendarContainer.parentNode;\n                wrapper.lastChild && wrapper.removeChild(wrapper.lastChild);\n                if (wrapper.parentNode) {\n                    while (wrapper.firstChild)\n                        wrapper.parentNode.insertBefore(wrapper.firstChild, wrapper);\n                    wrapper.parentNode.removeChild(wrapper);\n                }\n            }\n            else\n                self.calendarContainer.parentNode.removeChild(self.calendarContainer);\n        }\n        if (self.altInput) {\n            self.input.type = \"text\";\n            if (self.altInput.parentNode)\n                self.altInput.parentNode.removeChild(self.altInput);\n            delete self.altInput;\n        }\n        if (self.input) {\n            self.input.type = self.input._type;\n            self.input.classList.remove(\"flatpickr-input\");\n            self.input.removeAttribute(\"readonly\");\n        }\n        [\n            \"_showTimeInput\",\n            \"latestSelectedDateObj\",\n            \"_hideNextMonthArrow\",\n            \"_hidePrevMonthArrow\",\n            \"__hideNextMonthArrow\",\n            \"__hidePrevMonthArrow\",\n            \"isMobile\",\n            \"isOpen\",\n            \"selectedDateElem\",\n            \"minDateHasTime\",\n            \"maxDateHasTime\",\n            \"days\",\n            \"daysContainer\",\n            \"_input\",\n            \"_positionElement\",\n            \"innerContainer\",\n            \"rContainer\",\n            \"monthNav\",\n            \"todayDateElem\",\n            \"calendarContainer\",\n            \"weekdayContainer\",\n            \"prevMonthNav\",\n            \"nextMonthNav\",\n            \"monthsDropdownContainer\",\n            \"currentMonthElement\",\n            \"currentYearElement\",\n            \"navigationCurrentMonth\",\n            \"selectedDateElem\",\n            \"config\",\n        ].forEach(function (k) {\n            try {\n                delete self[k];\n            }\n            catch (_) { }\n        });\n    }\n    function isCalendarElem(elem) {\n        return self.calendarContainer.contains(elem);\n    }\n    function documentClick(e) {\n        if (self.isOpen && !self.config.inline) {\n            var eventTarget_1 = getEventTarget(e);\n            var isCalendarElement = isCalendarElem(eventTarget_1);\n            var isInput = eventTarget_1 === self.input ||\n                eventTarget_1 === self.altInput ||\n                self.element.contains(eventTarget_1) ||\n                (e.path &&\n                    e.path.indexOf &&\n                    (~e.path.indexOf(self.input) ||\n                        ~e.path.indexOf(self.altInput)));\n            var lostFocus = !isInput &&\n                !isCalendarElement &&\n                !isCalendarElem(e.relatedTarget);\n            var isIgnored = !self.config.ignoredFocusElements.some(function (elem) {\n                return elem.contains(eventTarget_1);\n            });\n            if (lostFocus && isIgnored) {\n                if (self.config.allowInput) {\n                    self.setDate(self._input.value, false, self.config.altInput\n                        ? self.config.altFormat\n                        : self.config.dateFormat);\n                }\n                if (self.timeContainer !== undefined &&\n                    self.minuteElement !== undefined &&\n                    self.hourElement !== undefined &&\n                    self.input.value !== \"\" &&\n                    self.input.value !== undefined) {\n                    updateTime();\n                }\n                self.close();\n                if (self.config &&\n                    self.config.mode === \"range\" &&\n                    self.selectedDates.length === 1)\n                    self.clear(false);\n            }\n        }\n    }\n    function changeYear(newYear) {\n        if (!newYear ||\n            (self.config.minDate && newYear < self.config.minDate.getFullYear()) ||\n            (self.config.maxDate && newYear > self.config.maxDate.getFullYear()))\n            return;\n        var newYearNum = newYear, isNewYear = self.currentYear !== newYearNum;\n        self.currentYear = newYearNum || self.currentYear;\n        if (self.config.maxDate &&\n            self.currentYear === self.config.maxDate.getFullYear()) {\n            self.currentMonth = Math.min(self.config.maxDate.getMonth(), self.currentMonth);\n        }\n        else if (self.config.minDate &&\n            self.currentYear === self.config.minDate.getFullYear()) {\n            self.currentMonth = Math.max(self.config.minDate.getMonth(), self.currentMonth);\n        }\n        if (isNewYear) {\n            self.redraw();\n            triggerEvent(\"onYearChange\");\n            buildMonthSwitch();\n        }\n    }\n    function isEnabled(date, timeless) {\n        var _a;\n        if (timeless === void 0) { timeless = true; }\n        var dateToCheck = self.parseDate(date, undefined, timeless);\n        if ((self.config.minDate &&\n            dateToCheck &&\n            compareDates(dateToCheck, self.config.minDate, timeless !== undefined ? timeless : !self.minDateHasTime) < 0) ||\n            (self.config.maxDate &&\n                dateToCheck &&\n                compareDates(dateToCheck, self.config.maxDate, timeless !== undefined ? timeless : !self.maxDateHasTime) > 0))\n            return false;\n        if (!self.config.enable && self.config.disable.length === 0)\n            return true;\n        if (dateToCheck === undefined)\n            return false;\n        var bool = !!self.config.enable, array = (_a = self.config.enable) !== null && _a !== void 0 ? _a : self.config.disable;\n        for (var i = 0, d = void 0; i < array.length; i++) {\n            d = array[i];\n            if (typeof d === \"function\" &&\n                d(dateToCheck))\n                return bool;\n            else if (d instanceof Date &&\n                dateToCheck !== undefined &&\n                d.getTime() === dateToCheck.getTime())\n                return bool;\n            else if (typeof d === \"string\") {\n                var parsed = self.parseDate(d, undefined, true);\n                return parsed && parsed.getTime() === dateToCheck.getTime()\n                    ? bool\n                    : !bool;\n            }\n            else if (typeof d === \"object\" &&\n                dateToCheck !== undefined &&\n                d.from &&\n                d.to &&\n                dateToCheck.getTime() >= d.from.getTime() &&\n                dateToCheck.getTime() <= d.to.getTime())\n                return bool;\n        }\n        return !bool;\n    }\n    function isInView(elem) {\n        if (self.daysContainer !== undefined)\n            return (elem.className.indexOf(\"hidden\") === -1 &&\n                elem.className.indexOf(\"flatpickr-disabled\") === -1 &&\n                self.daysContainer.contains(elem));\n        return false;\n    }\n    function onBlur(e) {\n        var isInput = e.target === self._input;\n        var valueChanged = self._input.value.trimEnd() !== getDateStr();\n        if (isInput &&\n            valueChanged &&\n            !(e.relatedTarget && isCalendarElem(e.relatedTarget))) {\n            self.setDate(self._input.value, true, e.target === self.altInput\n                ? self.config.altFormat\n                : self.config.dateFormat);\n        }\n    }\n    function onKeyDown(e) {\n        var eventTarget = getEventTarget(e);\n        var isInput = self.config.wrap\n            ? element.contains(eventTarget)\n            : eventTarget === self._input;\n        var allowInput = self.config.allowInput;\n        var allowKeydown = self.isOpen && (!allowInput || !isInput);\n        var allowInlineKeydown = self.config.inline && isInput && !allowInput;\n        if (e.keyCode === 13 && isInput) {\n            if (allowInput) {\n                self.setDate(self._input.value, true, eventTarget === self.altInput\n                    ? self.config.altFormat\n                    : self.config.dateFormat);\n                self.close();\n                return eventTarget.blur();\n            }\n            else {\n                self.open();\n            }\n        }\n        else if (isCalendarElem(eventTarget) ||\n            allowKeydown ||\n            allowInlineKeydown) {\n            var isTimeObj = !!self.timeContainer &&\n                self.timeContainer.contains(eventTarget);\n            switch (e.keyCode) {\n                case 13:\n                    if (isTimeObj) {\n                        e.preventDefault();\n                        updateTime();\n                        focusAndClose();\n                    }\n                    else\n                        selectDate(e);\n                    break;\n                case 27:\n                    e.preventDefault();\n                    focusAndClose();\n                    break;\n                case 8:\n                case 46:\n                    if (isInput && !self.config.allowInput) {\n                        e.preventDefault();\n                        self.clear();\n                    }\n                    break;\n                case 37:\n                case 39:\n                    if (!isTimeObj && !isInput) {\n                        e.preventDefault();\n                        var activeElement = getClosestActiveElement();\n                        if (self.daysContainer !== undefined &&\n                            (allowInput === false ||\n                                (activeElement && isInView(activeElement)))) {\n                            var delta_1 = e.keyCode === 39 ? 1 : -1;\n                            if (!e.ctrlKey)\n                                focusOnDay(undefined, delta_1);\n                            else {\n                                e.stopPropagation();\n                                changeMonth(delta_1);\n                                focusOnDay(getFirstAvailableDay(1), 0);\n                            }\n                        }\n                    }\n                    else if (self.hourElement)\n                        self.hourElement.focus();\n                    break;\n                case 38:\n                case 40:\n                    e.preventDefault();\n                    var delta = e.keyCode === 40 ? 1 : -1;\n                    if ((self.daysContainer &&\n                        eventTarget.$i !== undefined) ||\n                        eventTarget === self.input ||\n                        eventTarget === self.altInput) {\n                        if (e.ctrlKey) {\n                            e.stopPropagation();\n                            changeYear(self.currentYear - delta);\n                            focusOnDay(getFirstAvailableDay(1), 0);\n                        }\n                        else if (!isTimeObj)\n                            focusOnDay(undefined, delta * 7);\n                    }\n                    else if (eventTarget === self.currentYearElement) {\n                        changeYear(self.currentYear - delta);\n                    }\n                    else if (self.config.enableTime) {\n                        if (!isTimeObj && self.hourElement)\n                            self.hourElement.focus();\n                        updateTime(e);\n                        self._debouncedChange();\n                    }\n                    break;\n                case 9:\n                    if (isTimeObj) {\n                        var elems = [\n                            self.hourElement,\n                            self.minuteElement,\n                            self.secondElement,\n                            self.amPM,\n                        ]\n                            .concat(self.pluginElements)\n                            .filter(function (x) { return x; });\n                        var i = elems.indexOf(eventTarget);\n                        if (i !== -1) {\n                            var target = elems[i + (e.shiftKey ? -1 : 1)];\n                            e.preventDefault();\n                            (target || self._input).focus();\n                        }\n                    }\n                    else if (!self.config.noCalendar &&\n                        self.daysContainer &&\n                        self.daysContainer.contains(eventTarget) &&\n                        e.shiftKey) {\n                        e.preventDefault();\n                        self._input.focus();\n                    }\n                    break;\n                default:\n                    break;\n            }\n        }\n        if (self.amPM !== undefined && eventTarget === self.amPM) {\n            switch (e.key) {\n                case self.l10n.amPM[0].charAt(0):\n                case self.l10n.amPM[0].charAt(0).toLowerCase():\n                    self.amPM.textContent = self.l10n.amPM[0];\n                    setHoursFromInputs();\n                    updateValue();\n                    break;\n                case self.l10n.amPM[1].charAt(0):\n                case self.l10n.amPM[1].charAt(0).toLowerCase():\n                    self.amPM.textContent = self.l10n.amPM[1];\n                    setHoursFromInputs();\n                    updateValue();\n                    break;\n            }\n        }\n        if (isInput || isCalendarElem(eventTarget)) {\n            triggerEvent(\"onKeyDown\", e);\n        }\n    }\n    function onMouseOver(elem, cellClass) {\n        if (cellClass === void 0) { cellClass = \"flatpickr-day\"; }\n        if (self.selectedDates.length !== 1 ||\n            (elem &&\n                (!elem.classList.contains(cellClass) ||\n                    elem.classList.contains(\"flatpickr-disabled\"))))\n            return;\n        var hoverDate = elem\n            ? elem.dateObj.getTime()\n            : self.days.firstElementChild.dateObj.getTime(), initialDate = self.parseDate(self.selectedDates[0], undefined, true).getTime(), rangeStartDate = Math.min(hoverDate, self.selectedDates[0].getTime()), rangeEndDate = Math.max(hoverDate, self.selectedDates[0].getTime());\n        var containsDisabled = false;\n        var minRange = 0, maxRange = 0;\n        for (var t = rangeStartDate; t < rangeEndDate; t += duration.DAY) {\n            if (!isEnabled(new Date(t), true)) {\n                containsDisabled =\n                    containsDisabled || (t > rangeStartDate && t < rangeEndDate);\n                if (t < initialDate && (!minRange || t > minRange))\n                    minRange = t;\n                else if (t > initialDate && (!maxRange || t < maxRange))\n                    maxRange = t;\n            }\n        }\n        var hoverableCells = Array.from(self.rContainer.querySelectorAll(\"*:nth-child(-n+\" + self.config.showMonths + \") > .\" + cellClass));\n        hoverableCells.forEach(function (dayElem) {\n            var date = dayElem.dateObj;\n            var timestamp = date.getTime();\n            var outOfRange = (minRange > 0 && timestamp < minRange) ||\n                (maxRange > 0 && timestamp > maxRange);\n            if (outOfRange) {\n                dayElem.classList.add(\"notAllowed\");\n                [\"inRange\", \"startRange\", \"endRange\"].forEach(function (c) {\n                    dayElem.classList.remove(c);\n                });\n                return;\n            }\n            else if (containsDisabled && !outOfRange)\n                return;\n            [\"startRange\", \"inRange\", \"endRange\", \"notAllowed\"].forEach(function (c) {\n                dayElem.classList.remove(c);\n            });\n            if (elem !== undefined) {\n                elem.classList.add(hoverDate <= self.selectedDates[0].getTime()\n                    ? \"startRange\"\n                    : \"endRange\");\n                if (initialDate < hoverDate && timestamp === initialDate)\n                    dayElem.classList.add(\"startRange\");\n                else if (initialDate > hoverDate && timestamp === initialDate)\n                    dayElem.classList.add(\"endRange\");\n                if (timestamp >= minRange &&\n                    (maxRange === 0 || timestamp <= maxRange) &&\n                    isBetween(timestamp, initialDate, hoverDate))\n                    dayElem.classList.add(\"inRange\");\n            }\n        });\n    }\n    function onResize() {\n        if (self.isOpen && !self.config.static && !self.config.inline)\n            positionCalendar();\n    }\n    function open(e, positionElement) {\n        if (positionElement === void 0) { positionElement = self._positionElement; }\n        if (self.isMobile === true) {\n            if (e) {\n                e.preventDefault();\n                var eventTarget = getEventTarget(e);\n                if (eventTarget) {\n                    eventTarget.blur();\n                }\n            }\n            if (self.mobileInput !== undefined) {\n                self.mobileInput.focus();\n                self.mobileInput.click();\n            }\n            triggerEvent(\"onOpen\");\n            return;\n        }\n        else if (self._input.disabled || self.config.inline) {\n            return;\n        }\n        var wasOpen = self.isOpen;\n        self.isOpen = true;\n        if (!wasOpen) {\n            self.calendarContainer.classList.add(\"open\");\n            self._input.classList.add(\"active\");\n            triggerEvent(\"onOpen\");\n            positionCalendar(positionElement);\n        }\n        if (self.config.enableTime === true && self.config.noCalendar === true) {\n            if (self.config.allowInput === false &&\n                (e === undefined ||\n                    !self.timeContainer.contains(e.relatedTarget))) {\n                setTimeout(function () { return self.hourElement.select(); }, 50);\n            }\n        }\n    }\n    function minMaxDateSetter(type) {\n        return function (date) {\n            var dateObj = (self.config[\"_\" + type + \"Date\"] = self.parseDate(date, self.config.dateFormat));\n            var inverseDateObj = self.config[\"_\" + (type === \"min\" ? \"max\" : \"min\") + \"Date\"];\n            if (dateObj !== undefined) {\n                self[type === \"min\" ? \"minDateHasTime\" : \"maxDateHasTime\"] =\n                    dateObj.getHours() > 0 ||\n                        dateObj.getMinutes() > 0 ||\n                        dateObj.getSeconds() > 0;\n            }\n            if (self.selectedDates) {\n                self.selectedDates = self.selectedDates.filter(function (d) { return isEnabled(d); });\n                if (!self.selectedDates.length && type === \"min\")\n                    setHoursFromDate(dateObj);\n                updateValue();\n            }\n            if (self.daysContainer) {\n                redraw();\n                if (dateObj !== undefined)\n                    self.currentYearElement[type] = dateObj.getFullYear().toString();\n                else\n                    self.currentYearElement.removeAttribute(type);\n                self.currentYearElement.disabled =\n                    !!inverseDateObj &&\n                        dateObj !== undefined &&\n                        inverseDateObj.getFullYear() === dateObj.getFullYear();\n            }\n        };\n    }\n    function parseConfig() {\n        var boolOpts = [\n            \"wrap\",\n            \"weekNumbers\",\n            \"allowInput\",\n            \"allowInvalidPreload\",\n            \"clickOpens\",\n            \"time_24hr\",\n            \"enableTime\",\n            \"noCalendar\",\n            \"altInput\",\n            \"shorthandCurrentMonth\",\n            \"inline\",\n            \"static\",\n            \"enableSeconds\",\n            \"disableMobile\",\n        ];\n        var userConfig = __assign(__assign({}, JSON.parse(JSON.stringify(element.dataset || {}))), instanceConfig);\n        var formats = {};\n        self.config.parseDate = userConfig.parseDate;\n        self.config.formatDate = userConfig.formatDate;\n        Object.defineProperty(self.config, \"enable\", {\n            get: function () { return self.config._enable; },\n            set: function (dates) {\n                self.config._enable = parseDateRules(dates);\n            },\n        });\n        Object.defineProperty(self.config, \"disable\", {\n            get: function () { return self.config._disable; },\n            set: function (dates) {\n                self.config._disable = parseDateRules(dates);\n            },\n        });\n        var timeMode = userConfig.mode === \"time\";\n        if (!userConfig.dateFormat && (userConfig.enableTime || timeMode)) {\n            var defaultDateFormat = flatpickr.defaultConfig.dateFormat || defaultOptions.dateFormat;\n            formats.dateFormat =\n                userConfig.noCalendar || timeMode\n                    ? \"H:i\" + (userConfig.enableSeconds ? \":S\" : \"\")\n                    : defaultDateFormat + \" H:i\" + (userConfig.enableSeconds ? \":S\" : \"\");\n        }\n        if (userConfig.altInput &&\n            (userConfig.enableTime || timeMode) &&\n            !userConfig.altFormat) {\n            var defaultAltFormat = flatpickr.defaultConfig.altFormat || defaultOptions.altFormat;\n            formats.altFormat =\n                userConfig.noCalendar || timeMode\n                    ? \"h:i\" + (userConfig.enableSeconds ? \":S K\" : \" K\")\n                    : defaultAltFormat + (\" h:i\" + (userConfig.enableSeconds ? \":S\" : \"\") + \" K\");\n        }\n        Object.defineProperty(self.config, \"minDate\", {\n            get: function () { return self.config._minDate; },\n            set: minMaxDateSetter(\"min\"),\n        });\n        Object.defineProperty(self.config, \"maxDate\", {\n            get: function () { return self.config._maxDate; },\n            set: minMaxDateSetter(\"max\"),\n        });\n        var minMaxTimeSetter = function (type) { return function (val) {\n            self.config[type === \"min\" ? \"_minTime\" : \"_maxTime\"] = self.parseDate(val, \"H:i:S\");\n        }; };\n        Object.defineProperty(self.config, \"minTime\", {\n            get: function () { return self.config._minTime; },\n            set: minMaxTimeSetter(\"min\"),\n        });\n        Object.defineProperty(self.config, \"maxTime\", {\n            get: function () { return self.config._maxTime; },\n            set: minMaxTimeSetter(\"max\"),\n        });\n        if (userConfig.mode === \"time\") {\n            self.config.noCalendar = true;\n            self.config.enableTime = true;\n        }\n        Object.assign(self.config, formats, userConfig);\n        for (var i = 0; i < boolOpts.length; i++)\n            self.config[boolOpts[i]] =\n                self.config[boolOpts[i]] === true ||\n                    self.config[boolOpts[i]] === \"true\";\n        HOOKS.filter(function (hook) { return self.config[hook] !== undefined; }).forEach(function (hook) {\n            self.config[hook] = arrayify(self.config[hook] || []).map(bindToInstance);\n        });\n        self.isMobile =\n            !self.config.disableMobile &&\n                !self.config.inline &&\n                self.config.mode === \"single\" &&\n                !self.config.disable.length &&\n                !self.config.enable &&\n                !self.config.weekNumbers &&\n                /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n        for (var i = 0; i < self.config.plugins.length; i++) {\n            var pluginConf = self.config.plugins[i](self) || {};\n            for (var key in pluginConf) {\n                if (HOOKS.indexOf(key) > -1) {\n                    self.config[key] = arrayify(pluginConf[key])\n                        .map(bindToInstance)\n                        .concat(self.config[key]);\n                }\n                else if (typeof userConfig[key] === \"undefined\")\n                    self.config[key] = pluginConf[key];\n            }\n        }\n        if (!userConfig.altInputClass) {\n            self.config.altInputClass =\n                getInputElem().className + \" \" + self.config.altInputClass;\n        }\n        triggerEvent(\"onParseConfig\");\n    }\n    function getInputElem() {\n        return self.config.wrap\n            ? element.querySelector(\"[data-input]\")\n            : element;\n    }\n    function setupLocale() {\n        if (typeof self.config.locale !== \"object\" &&\n            typeof flatpickr.l10ns[self.config.locale] === \"undefined\")\n            self.config.errorHandler(new Error(\"flatpickr: invalid locale \" + self.config.locale));\n        self.l10n = __assign(__assign({}, flatpickr.l10ns.default), (typeof self.config.locale === \"object\"\n            ? self.config.locale\n            : self.config.locale !== \"default\"\n                ? flatpickr.l10ns[self.config.locale]\n                : undefined));\n        tokenRegex.D = \"(\" + self.l10n.weekdays.shorthand.join(\"|\") + \")\";\n        tokenRegex.l = \"(\" + self.l10n.weekdays.longhand.join(\"|\") + \")\";\n        tokenRegex.M = \"(\" + self.l10n.months.shorthand.join(\"|\") + \")\";\n        tokenRegex.F = \"(\" + self.l10n.months.longhand.join(\"|\") + \")\";\n        tokenRegex.K = \"(\" + self.l10n.amPM[0] + \"|\" + self.l10n.amPM[1] + \"|\" + self.l10n.amPM[0].toLowerCase() + \"|\" + self.l10n.amPM[1].toLowerCase() + \")\";\n        var userConfig = __assign(__assign({}, instanceConfig), JSON.parse(JSON.stringify(element.dataset || {})));\n        if (userConfig.time_24hr === undefined &&\n            flatpickr.defaultConfig.time_24hr === undefined) {\n            self.config.time_24hr = self.l10n.time_24hr;\n        }\n        self.formatDate = createDateFormatter(self);\n        self.parseDate = createDateParser({ config: self.config, l10n: self.l10n });\n    }\n    function positionCalendar(customPositionElement) {\n        if (typeof self.config.position === \"function\") {\n            return void self.config.position(self, customPositionElement);\n        }\n        if (self.calendarContainer === undefined)\n            return;\n        triggerEvent(\"onPreCalendarPosition\");\n        var positionElement = customPositionElement || self._positionElement;\n        var calendarHeight = Array.prototype.reduce.call(self.calendarContainer.children, (function (acc, child) { return acc + child.offsetHeight; }), 0), calendarWidth = self.calendarContainer.offsetWidth, configPos = self.config.position.split(\" \"), configPosVertical = configPos[0], configPosHorizontal = configPos.length > 1 ? configPos[1] : null, inputBounds = positionElement.getBoundingClientRect(), distanceFromBottom = window.innerHeight - inputBounds.bottom, showOnTop = configPosVertical === \"above\" ||\n            (configPosVertical !== \"below\" &&\n                distanceFromBottom < calendarHeight &&\n                inputBounds.top > calendarHeight);\n        var top = window.pageYOffset +\n            inputBounds.top +\n            (!showOnTop ? positionElement.offsetHeight + 2 : -calendarHeight - 2);\n        toggleClass(self.calendarContainer, \"arrowTop\", !showOnTop);\n        toggleClass(self.calendarContainer, \"arrowBottom\", showOnTop);\n        if (self.config.inline)\n            return;\n        var left = window.pageXOffset + inputBounds.left;\n        var isCenter = false;\n        var isRight = false;\n        if (configPosHorizontal === \"center\") {\n            left -= (calendarWidth - inputBounds.width) / 2;\n            isCenter = true;\n        }\n        else if (configPosHorizontal === \"right\") {\n            left -= calendarWidth - inputBounds.width;\n            isRight = true;\n        }\n        toggleClass(self.calendarContainer, \"arrowLeft\", !isCenter && !isRight);\n        toggleClass(self.calendarContainer, \"arrowCenter\", isCenter);\n        toggleClass(self.calendarContainer, \"arrowRight\", isRight);\n        var right = window.document.body.offsetWidth -\n            (window.pageXOffset + inputBounds.right);\n        var rightMost = left + calendarWidth > window.document.body.offsetWidth;\n        var centerMost = right + calendarWidth > window.document.body.offsetWidth;\n        toggleClass(self.calendarContainer, \"rightMost\", rightMost);\n        if (self.config.static)\n            return;\n        self.calendarContainer.style.top = top + \"px\";\n        if (!rightMost) {\n            self.calendarContainer.style.left = left + \"px\";\n            self.calendarContainer.style.right = \"auto\";\n        }\n        else if (!centerMost) {\n            self.calendarContainer.style.left = \"auto\";\n            self.calendarContainer.style.right = right + \"px\";\n        }\n        else {\n            var doc = getDocumentStyleSheet();\n            if (doc === undefined)\n                return;\n            var bodyWidth = window.document.body.offsetWidth;\n            var centerLeft = Math.max(0, bodyWidth / 2 - calendarWidth / 2);\n            var centerBefore = \".flatpickr-calendar.centerMost:before\";\n            var centerAfter = \".flatpickr-calendar.centerMost:after\";\n            var centerIndex = doc.cssRules.length;\n            var centerStyle = \"{left:\" + inputBounds.left + \"px;right:auto;}\";\n            toggleClass(self.calendarContainer, \"rightMost\", false);\n            toggleClass(self.calendarContainer, \"centerMost\", true);\n            doc.insertRule(centerBefore + \",\" + centerAfter + centerStyle, centerIndex);\n            self.calendarContainer.style.left = centerLeft + \"px\";\n            self.calendarContainer.style.right = \"auto\";\n        }\n    }\n    function getDocumentStyleSheet() {\n        var editableSheet = null;\n        for (var i = 0; i < document.styleSheets.length; i++) {\n            var sheet = document.styleSheets[i];\n            if (!sheet.cssRules)\n                continue;\n            try {\n                sheet.cssRules;\n            }\n            catch (err) {\n                continue;\n            }\n            editableSheet = sheet;\n            break;\n        }\n        return editableSheet != null ? editableSheet : createStyleSheet();\n    }\n    function createStyleSheet() {\n        var style = document.createElement(\"style\");\n        document.head.appendChild(style);\n        return style.sheet;\n    }\n    function redraw() {\n        if (self.config.noCalendar || self.isMobile)\n            return;\n        buildMonthSwitch();\n        updateNavigationCurrentMonth();\n        buildDays();\n    }\n    function focusAndClose() {\n        self._input.focus();\n        if (window.navigator.userAgent.indexOf(\"MSIE\") !== -1 ||\n            navigator.msMaxTouchPoints !== undefined) {\n            setTimeout(self.close, 0);\n        }\n        else {\n            self.close();\n        }\n    }\n    function selectDate(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        var isSelectable = function (day) {\n            return day.classList &&\n                day.classList.contains(\"flatpickr-day\") &&\n                !day.classList.contains(\"flatpickr-disabled\") &&\n                !day.classList.contains(\"notAllowed\");\n        };\n        var t = findParent(getEventTarget(e), isSelectable);\n        if (t === undefined)\n            return;\n        var target = t;\n        var selectedDate = (self.latestSelectedDateObj = new Date(target.dateObj.getTime()));\n        var shouldChangeMonth = (selectedDate.getMonth() < self.currentMonth ||\n            selectedDate.getMonth() >\n                self.currentMonth + self.config.showMonths - 1) &&\n            self.config.mode !== \"range\";\n        self.selectedDateElem = target;\n        if (self.config.mode === \"single\")\n            self.selectedDates = [selectedDate];\n        else if (self.config.mode === \"multiple\") {\n            var selectedIndex = isDateSelected(selectedDate);\n            if (selectedIndex)\n                self.selectedDates.splice(parseInt(selectedIndex), 1);\n            else\n                self.selectedDates.push(selectedDate);\n        }\n        else if (self.config.mode === \"range\") {\n            if (self.selectedDates.length === 2) {\n                self.clear(false, false);\n            }\n            self.latestSelectedDateObj = selectedDate;\n            self.selectedDates.push(selectedDate);\n            if (compareDates(selectedDate, self.selectedDates[0], true) !== 0)\n                self.selectedDates.sort(function (a, b) { return a.getTime() - b.getTime(); });\n        }\n        setHoursFromInputs();\n        if (shouldChangeMonth) {\n            var isNewYear = self.currentYear !== selectedDate.getFullYear();\n            self.currentYear = selectedDate.getFullYear();\n            self.currentMonth = selectedDate.getMonth();\n            if (isNewYear) {\n                triggerEvent(\"onYearChange\");\n                buildMonthSwitch();\n            }\n            triggerEvent(\"onMonthChange\");\n        }\n        updateNavigationCurrentMonth();\n        buildDays();\n        updateValue();\n        if (!shouldChangeMonth &&\n            self.config.mode !== \"range\" &&\n            self.config.showMonths === 1)\n            focusOnDayElem(target);\n        else if (self.selectedDateElem !== undefined &&\n            self.hourElement === undefined) {\n            self.selectedDateElem && self.selectedDateElem.focus();\n        }\n        if (self.hourElement !== undefined)\n            self.hourElement !== undefined && self.hourElement.focus();\n        if (self.config.closeOnSelect) {\n            var single = self.config.mode === \"single\" && !self.config.enableTime;\n            var range = self.config.mode === \"range\" &&\n                self.selectedDates.length === 2 &&\n                !self.config.enableTime;\n            if (single || range) {\n                focusAndClose();\n            }\n        }\n        triggerChange();\n    }\n    var CALLBACKS = {\n        locale: [setupLocale, updateWeekdays],\n        showMonths: [buildMonths, setCalendarWidth, buildWeekdays],\n        minDate: [jumpToDate],\n        maxDate: [jumpToDate],\n        positionElement: [updatePositionElement],\n        clickOpens: [\n            function () {\n                if (self.config.clickOpens === true) {\n                    bind(self._input, \"focus\", self.open);\n                    bind(self._input, \"click\", self.open);\n                }\n                else {\n                    self._input.removeEventListener(\"focus\", self.open);\n                    self._input.removeEventListener(\"click\", self.open);\n                }\n            },\n        ],\n    };\n    function set(option, value) {\n        if (option !== null && typeof option === \"object\") {\n            Object.assign(self.config, option);\n            for (var key in option) {\n                if (CALLBACKS[key] !== undefined)\n                    CALLBACKS[key].forEach(function (x) { return x(); });\n            }\n        }\n        else {\n            self.config[option] = value;\n            if (CALLBACKS[option] !== undefined)\n                CALLBACKS[option].forEach(function (x) { return x(); });\n            else if (HOOKS.indexOf(option) > -1)\n                self.config[option] = arrayify(value);\n        }\n        self.redraw();\n        updateValue(true);\n    }\n    function setSelectedDate(inputDate, format) {\n        var dates = [];\n        if (inputDate instanceof Array)\n            dates = inputDate.map(function (d) { return self.parseDate(d, format); });\n        else if (inputDate instanceof Date || typeof inputDate === \"number\")\n            dates = [self.parseDate(inputDate, format)];\n        else if (typeof inputDate === \"string\") {\n            switch (self.config.mode) {\n                case \"single\":\n                case \"time\":\n                    dates = [self.parseDate(inputDate, format)];\n                    break;\n                case \"multiple\":\n                    dates = inputDate\n                        .split(self.config.conjunction)\n                        .map(function (date) { return self.parseDate(date, format); });\n                    break;\n                case \"range\":\n                    dates = inputDate\n                        .split(self.l10n.rangeSeparator)\n                        .map(function (date) { return self.parseDate(date, format); });\n                    break;\n                default:\n                    break;\n            }\n        }\n        else\n            self.config.errorHandler(new Error(\"Invalid date supplied: \" + JSON.stringify(inputDate)));\n        self.selectedDates = (self.config.allowInvalidPreload\n            ? dates\n            : dates.filter(function (d) { return d instanceof Date && isEnabled(d, false); }));\n        if (self.config.mode === \"range\")\n            self.selectedDates.sort(function (a, b) { return a.getTime() - b.getTime(); });\n    }\n    function setDate(date, triggerChange, format) {\n        if (triggerChange === void 0) { triggerChange = false; }\n        if (format === void 0) { format = self.config.dateFormat; }\n        if ((date !== 0 && !date) || (date instanceof Array && date.length === 0))\n            return self.clear(triggerChange);\n        setSelectedDate(date, format);\n        self.latestSelectedDateObj =\n            self.selectedDates[self.selectedDates.length - 1];\n        self.redraw();\n        jumpToDate(undefined, triggerChange);\n        setHoursFromDate();\n        if (self.selectedDates.length === 0) {\n            self.clear(false);\n        }\n        updateValue(triggerChange);\n        if (triggerChange)\n            triggerEvent(\"onChange\");\n    }\n    function parseDateRules(arr) {\n        return arr\n            .slice()\n            .map(function (rule) {\n            if (typeof rule === \"string\" ||\n                typeof rule === \"number\" ||\n                rule instanceof Date) {\n                return self.parseDate(rule, undefined, true);\n            }\n            else if (rule &&\n                typeof rule === \"object\" &&\n                rule.from &&\n                rule.to)\n                return {\n                    from: self.parseDate(rule.from, undefined),\n                    to: self.parseDate(rule.to, undefined),\n                };\n            return rule;\n        })\n            .filter(function (x) { return x; });\n    }\n    function setupDates() {\n        self.selectedDates = [];\n        self.now = self.parseDate(self.config.now) || new Date();\n        var preloadedDate = self.config.defaultDate ||\n            ((self.input.nodeName === \"INPUT\" ||\n                self.input.nodeName === \"TEXTAREA\") &&\n                self.input.placeholder &&\n                self.input.value === self.input.placeholder\n                ? null\n                : self.input.value);\n        if (preloadedDate)\n            setSelectedDate(preloadedDate, self.config.dateFormat);\n        self._initialDate =\n            self.selectedDates.length > 0\n                ? self.selectedDates[0]\n                : self.config.minDate &&\n                    self.config.minDate.getTime() > self.now.getTime()\n                    ? self.config.minDate\n                    : self.config.maxDate &&\n                        self.config.maxDate.getTime() < self.now.getTime()\n                        ? self.config.maxDate\n                        : self.now;\n        self.currentYear = self._initialDate.getFullYear();\n        self.currentMonth = self._initialDate.getMonth();\n        if (self.selectedDates.length > 0)\n            self.latestSelectedDateObj = self.selectedDates[0];\n        if (self.config.minTime !== undefined)\n            self.config.minTime = self.parseDate(self.config.minTime, \"H:i\");\n        if (self.config.maxTime !== undefined)\n            self.config.maxTime = self.parseDate(self.config.maxTime, \"H:i\");\n        self.minDateHasTime =\n            !!self.config.minDate &&\n                (self.config.minDate.getHours() > 0 ||\n                    self.config.minDate.getMinutes() > 0 ||\n                    self.config.minDate.getSeconds() > 0);\n        self.maxDateHasTime =\n            !!self.config.maxDate &&\n                (self.config.maxDate.getHours() > 0 ||\n                    self.config.maxDate.getMinutes() > 0 ||\n                    self.config.maxDate.getSeconds() > 0);\n    }\n    function setupInputs() {\n        self.input = getInputElem();\n        if (!self.input) {\n            self.config.errorHandler(new Error(\"Invalid input element specified\"));\n            return;\n        }\n        self.input._type = self.input.type;\n        self.input.type = \"text\";\n        self.input.classList.add(\"flatpickr-input\");\n        self._input = self.input;\n        if (self.config.altInput) {\n            self.altInput = createElement(self.input.nodeName, self.config.altInputClass);\n            self._input = self.altInput;\n            self.altInput.placeholder = self.input.placeholder;\n            self.altInput.disabled = self.input.disabled;\n            self.altInput.required = self.input.required;\n            self.altInput.tabIndex = self.input.tabIndex;\n            self.altInput.type = \"text\";\n            self.input.setAttribute(\"type\", \"hidden\");\n            if (!self.config.static && self.input.parentNode)\n                self.input.parentNode.insertBefore(self.altInput, self.input.nextSibling);\n        }\n        if (!self.config.allowInput)\n            self._input.setAttribute(\"readonly\", \"readonly\");\n        updatePositionElement();\n    }\n    function updatePositionElement() {\n        self._positionElement = self.config.positionElement || self._input;\n    }\n    function setupMobile() {\n        var inputType = self.config.enableTime\n            ? self.config.noCalendar\n                ? \"time\"\n                : \"datetime-local\"\n            : \"date\";\n        self.mobileInput = createElement(\"input\", self.input.className + \" flatpickr-mobile\");\n        self.mobileInput.tabIndex = 1;\n        self.mobileInput.type = inputType;\n        self.mobileInput.disabled = self.input.disabled;\n        self.mobileInput.required = self.input.required;\n        self.mobileInput.placeholder = self.input.placeholder;\n        self.mobileFormatStr =\n            inputType === \"datetime-local\"\n                ? \"Y-m-d\\\\TH:i:S\"\n                : inputType === \"date\"\n                    ? \"Y-m-d\"\n                    : \"H:i:S\";\n        if (self.selectedDates.length > 0) {\n            self.mobileInput.defaultValue = self.mobileInput.value = self.formatDate(self.selectedDates[0], self.mobileFormatStr);\n        }\n        if (self.config.minDate)\n            self.mobileInput.min = self.formatDate(self.config.minDate, \"Y-m-d\");\n        if (self.config.maxDate)\n            self.mobileInput.max = self.formatDate(self.config.maxDate, \"Y-m-d\");\n        if (self.input.getAttribute(\"step\"))\n            self.mobileInput.step = String(self.input.getAttribute(\"step\"));\n        self.input.type = \"hidden\";\n        if (self.altInput !== undefined)\n            self.altInput.type = \"hidden\";\n        try {\n            if (self.input.parentNode)\n                self.input.parentNode.insertBefore(self.mobileInput, self.input.nextSibling);\n        }\n        catch (_a) { }\n        bind(self.mobileInput, \"change\", function (e) {\n            self.setDate(getEventTarget(e).value, false, self.mobileFormatStr);\n            triggerEvent(\"onChange\");\n            triggerEvent(\"onClose\");\n        });\n    }\n    function toggle(e) {\n        if (self.isOpen === true)\n            return self.close();\n        self.open(e);\n    }\n    function triggerEvent(event, data) {\n        if (self.config === undefined)\n            return;\n        var hooks = self.config[event];\n        if (hooks !== undefined && hooks.length > 0) {\n            for (var i = 0; hooks[i] && i < hooks.length; i++)\n                hooks[i](self.selectedDates, self.input.value, self, data);\n        }\n        if (event === \"onChange\") {\n            self.input.dispatchEvent(createEvent(\"change\"));\n            self.input.dispatchEvent(createEvent(\"input\"));\n        }\n    }\n    function createEvent(name) {\n        var e = document.createEvent(\"Event\");\n        e.initEvent(name, true, true);\n        return e;\n    }\n    function isDateSelected(date) {\n        for (var i = 0; i < self.selectedDates.length; i++) {\n            var selectedDate = self.selectedDates[i];\n            if (selectedDate instanceof Date &&\n                compareDates(selectedDate, date) === 0)\n                return \"\" + i;\n        }\n        return false;\n    }\n    function isDateInRange(date) {\n        if (self.config.mode !== \"range\" || self.selectedDates.length < 2)\n            return false;\n        return (compareDates(date, self.selectedDates[0]) >= 0 &&\n            compareDates(date, self.selectedDates[1]) <= 0);\n    }\n    function updateNavigationCurrentMonth() {\n        if (self.config.noCalendar || self.isMobile || !self.monthNav)\n            return;\n        self.yearElements.forEach(function (yearElement, i) {\n            var d = new Date(self.currentYear, self.currentMonth, 1);\n            d.setMonth(self.currentMonth + i);\n            if (self.config.showMonths > 1 ||\n                self.config.monthSelectorType === \"static\") {\n                self.monthElements[i].textContent =\n                    monthToStr(d.getMonth(), self.config.shorthandCurrentMonth, self.l10n) + \" \";\n            }\n            else {\n                self.monthsDropdownContainer.value = d.getMonth().toString();\n            }\n            yearElement.value = d.getFullYear().toString();\n        });\n        self._hidePrevMonthArrow =\n            self.config.minDate !== undefined &&\n                (self.currentYear === self.config.minDate.getFullYear()\n                    ? self.currentMonth <= self.config.minDate.getMonth()\n                    : self.currentYear < self.config.minDate.getFullYear());\n        self._hideNextMonthArrow =\n            self.config.maxDate !== undefined &&\n                (self.currentYear === self.config.maxDate.getFullYear()\n                    ? self.currentMonth + 1 > self.config.maxDate.getMonth()\n                    : self.currentYear > self.config.maxDate.getFullYear());\n    }\n    function getDateStr(specificFormat) {\n        var format = specificFormat ||\n            (self.config.altInput ? self.config.altFormat : self.config.dateFormat);\n        return self.selectedDates\n            .map(function (dObj) { return self.formatDate(dObj, format); })\n            .filter(function (d, i, arr) {\n            return self.config.mode !== \"range\" ||\n                self.config.enableTime ||\n                arr.indexOf(d) === i;\n        })\n            .join(self.config.mode !== \"range\"\n            ? self.config.conjunction\n            : self.l10n.rangeSeparator);\n    }\n    function updateValue(triggerChange) {\n        if (triggerChange === void 0) { triggerChange = true; }\n        if (self.mobileInput !== undefined && self.mobileFormatStr) {\n            self.mobileInput.value =\n                self.latestSelectedDateObj !== undefined\n                    ? self.formatDate(self.latestSelectedDateObj, self.mobileFormatStr)\n                    : \"\";\n        }\n        self.input.value = getDateStr(self.config.dateFormat);\n        if (self.altInput !== undefined) {\n            self.altInput.value = getDateStr(self.config.altFormat);\n        }\n        if (triggerChange !== false)\n            triggerEvent(\"onValueUpdate\");\n    }\n    function onMonthNavClick(e) {\n        var eventTarget = getEventTarget(e);\n        var isPrevMonth = self.prevMonthNav.contains(eventTarget);\n        var isNextMonth = self.nextMonthNav.contains(eventTarget);\n        if (isPrevMonth || isNextMonth) {\n            changeMonth(isPrevMonth ? -1 : 1);\n        }\n        else if (self.yearElements.indexOf(eventTarget) >= 0) {\n            eventTarget.select();\n        }\n        else if (eventTarget.classList.contains(\"arrowUp\")) {\n            self.changeYear(self.currentYear + 1);\n        }\n        else if (eventTarget.classList.contains(\"arrowDown\")) {\n            self.changeYear(self.currentYear - 1);\n        }\n    }\n    function timeWrapper(e) {\n        e.preventDefault();\n        var isKeyDown = e.type === \"keydown\", eventTarget = getEventTarget(e), input = eventTarget;\n        if (self.amPM !== undefined && eventTarget === self.amPM) {\n            self.amPM.textContent =\n                self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];\n        }\n        var min = parseFloat(input.getAttribute(\"min\")), max = parseFloat(input.getAttribute(\"max\")), step = parseFloat(input.getAttribute(\"step\")), curValue = parseInt(input.value, 10), delta = e.delta ||\n            (isKeyDown ? (e.which === 38 ? 1 : -1) : 0);\n        var newValue = curValue + step * delta;\n        if (typeof input.value !== \"undefined\" && input.value.length === 2) {\n            var isHourElem = input === self.hourElement, isMinuteElem = input === self.minuteElement;\n            if (newValue < min) {\n                newValue =\n                    max +\n                        newValue +\n                        int(!isHourElem) +\n                        (int(isHourElem) && int(!self.amPM));\n                if (isMinuteElem)\n                    incrementNumInput(undefined, -1, self.hourElement);\n            }\n            else if (newValue > max) {\n                newValue =\n                    input === self.hourElement ? newValue - max - int(!self.amPM) : min;\n                if (isMinuteElem)\n                    incrementNumInput(undefined, 1, self.hourElement);\n            }\n            if (self.amPM &&\n                isHourElem &&\n                (step === 1\n                    ? newValue + curValue === 23\n                    : Math.abs(newValue - curValue) > step)) {\n                self.amPM.textContent =\n                    self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];\n            }\n            input.value = pad(newValue);\n        }\n    }\n    init();\n    return self;\n}\nfunction _flatpickr(nodeList, config) {\n    var nodes = Array.prototype.slice\n        .call(nodeList)\n        .filter(function (x) { return x instanceof HTMLElement; });\n    var instances = [];\n    for (var i = 0; i < nodes.length; i++) {\n        var node = nodes[i];\n        try {\n            if (node.getAttribute(\"data-fp-omit\") !== null)\n                continue;\n            if (node._flatpickr !== undefined) {\n                node._flatpickr.destroy();\n                node._flatpickr = undefined;\n            }\n            node._flatpickr = FlatpickrInstance(node, config || {});\n            instances.push(node._flatpickr);\n        }\n        catch (e) {\n            console.error(e);\n        }\n    }\n    return instances.length === 1 ? instances[0] : instances;\n}\nif (typeof HTMLElement !== \"undefined\" &&\n    typeof HTMLCollection !== \"undefined\" &&\n    typeof NodeList !== \"undefined\") {\n    HTMLCollection.prototype.flatpickr = NodeList.prototype.flatpickr = function (config) {\n        return _flatpickr(this, config);\n    };\n    HTMLElement.prototype.flatpickr = function (config) {\n        return _flatpickr([this], config);\n    };\n}\nvar flatpickr = function (selector, config) {\n    if (typeof selector === \"string\") {\n        return _flatpickr(window.document.querySelectorAll(selector), config);\n    }\n    else if (selector instanceof Node) {\n        return _flatpickr([selector], config);\n    }\n    else {\n        return _flatpickr(selector, config);\n    }\n};\nflatpickr.defaultConfig = {};\nflatpickr.l10ns = {\n    en: __assign({}, English),\n    default: __assign({}, English),\n};\nflatpickr.localize = function (l10n) {\n    flatpickr.l10ns.default = __assign(__assign({}, flatpickr.l10ns.default), l10n);\n};\nflatpickr.setDefaults = function (config) {\n    flatpickr.defaultConfig = __assign(__assign({}, flatpickr.defaultConfig), config);\n};\nflatpickr.parseDate = createDateParser({});\nflatpickr.formatDate = createDateFormatter({});\nflatpickr.compareDates = compareDates;\nif (typeof jQuery !== \"undefined\" && typeof jQuery.fn !== \"undefined\") {\n    jQuery.fn.flatpickr = function (config) {\n        return _flatpickr(this, config);\n    };\n}\nDate.prototype.fp_incr = function (days) {\n    return new Date(this.getFullYear(), this.getMonth(), this.getDate() + (typeof days === \"string\" ? parseInt(days, 10) : days));\n};\nif (typeof window !== \"undefined\") {\n    window.flatpickr = flatpickr;\n}\nexport default flatpickr;\n","@import '~flatpickr/dist/flatpickr.min.css';\r\n\r\n:host {\r\n  display: block;\r\n}\r\n\r\n.answer {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-end;\r\n}\r\n\r\n.speech-bubble-triangle {\r\n  display: flex;\r\n  max-width: 84%;\r\n}\r\n\r\n.triangle-topright {\r\n  border-top: 7px solid #bfc1c7;\r\n  border-right: 7px solid transparent;\r\n}\r\n\r\n.speech-bubble-answer {\r\n  background: #e8f1f1;\r\n  border: 1px solid #bfc1c7;\r\n  border-radius: 10px 0px 10px 10px;\r\n  padding: 0.3125em;\r\n}\r\n\r\n.speech-bubble-answer.date{\r\n  display: flex;\r\n}\r\n\r\n.answer-button {\r\n  margin: 0.3125em;\r\n  border: 1px solid #2b7371;\r\n  background: #ffffff;\r\n  border-radius: 20px;\r\n  color: #2b7371;\r\n  padding: 0.3125em 0.625em;\r\n  font-weight: 600;\r\n}\r\n\r\n.answer-button.active,\r\n.answer-input.answered {\r\n  background: #2b7371;\r\n  color: #ffffff;\r\n}\r\n\r\n.options-container {\r\n  display: flex;\r\n  flex-direction: row;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.answer-input {\r\n  margin: 0.0625em !important;\r\n  border: 1px solid #2b7371;\r\n  border-radius: 2px;\r\n  padding-left: 0.625em;\r\n  padding-right: 0.625em;\r\n  color: #2b7371;\r\n  text-align: right;\r\n  background-color: #ffffff;\r\n}\r\n\r\n.answer-input:focus-visible {\r\n  border-color: #2b7371;\r\n}\r\n\r\n/* Chrome, Safari, Edge, Opera */\r\ninput::-webkit-outer-spin-button,\r\ninput::-webkit-inner-spin-button {\r\n  -webkit-appearance: none;\r\n  margin: 0;\r\n}\r\n\r\n/* Firefox */\r\ninput[type=\"number\"] {\r\n  -moz-appearance: textfield;\r\n}\r\n\r\n.fade-in.left {\r\n  transition: 0.5s all ease-in-out;\r\n  transform: translate3d(-50px, 0, 0);\r\n  opacity: 0;\r\n}\r\n\r\n.fade-in.right {\r\n  transition: 0.5s all ease-in-out;\r\n  transform: translate3d(50px, 0, 0);\r\n  opacity: 0;\r\n}\r\n\r\n.fade-in.show {\r\n  opacity: 1;\r\n  transform: translate3d(0, 0, 0);\r\n}\r\n\r\n.answer-input:disabled, .answer-button:disabled{\r\n  opacity: .4;\r\n}\r\n","import { Component, Element, Event, EventEmitter, Prop, State, Watch, h } from '@stencil/core';\r\nimport { Answer, Fragment } from '../../interfaces/dialog-interfaces';\r\nimport { getIntlMessage } from '../../language/translation';\r\nimport flatpickr from 'flatpickr';\r\n\r\n@Component({\r\n  tag: 'step-component',\r\n  styleUrl: 'step-component.css',\r\n  shadow: false,\r\n})\r\nexport class StepComponent {\r\n  private messages: Record<string, string> = {};\r\n\r\n  options: string[] = [];\r\n  stringAnswerValue: string;\r\n  numberAnswerValue: string;\r\n  dateAnswerValue: string;\r\n  localNumberAnswerValue: string;\r\n  @State() localDateAnswerValue: string;\r\n\r\n  @Element() private element: HTMLElement;\r\n\r\n  @Prop() fragment: Fragment;\r\n  @Prop({ mutable: true }) answerValue: any;\r\n  @Prop() controlDisabled: boolean;\r\n  @Prop() locale: string = 'hu';\r\n  @Prop() lastLocale: string = '';\r\n\r\n  @State() isActive: boolean = false;\r\n  @State() isDateActive: boolean = false;\r\n  @State() showContent = false;\r\n\r\n  @Event() answer: EventEmitter<Answer>;\r\n  @Event() revokeAnswer: EventEmitter<Answer>;\r\n\r\n\r\n  @Watch('locale')\r\n  async loadMessages() {\r\n    if (this.locale !== this.lastLocale) {\r\n      this.lastLocale = this.locale;\r\n      this.messages = await getIntlMessage(this.locale);\r\n    }\r\n  }\r\n\r\n  @Watch('answerValue')\r\n  handleAnswerValueChange(newValue: string) {\r\n    console.log(\"answerValue\")\r\n    this.numberAnswerValue = newValue + ''\r\n    this.localNumberAnswerValue = newValue + '';\r\n    this.dateAnswerValue = newValue;\r\n    this.stringAnswerValue = newValue;\r\n    this.yesButtonClass();\r\n    this.noButtonClass();\r\n    this.isActive = true;\r\n    this.isDateActive = true;\r\n  }\r\n\r\n  @Watch('fragment')\r\n  handleFragmentValueChange(newValue, oldValue) {\r\n    console.log(\"old\", oldValue)\r\n    console.log(\"new\", newValue)\r\n    this.showContent = false;\r\n    if (this.fragment.type === 'QuestionMenu') {\r\n      this.options = [];\r\n      for (let i = 0; i < this.fragment.optionsExpert.length; i++) {\r\n        this.options.push(this.fragment.optionsLayman[i]);\r\n      }\r\n    }\r\n\r\n    console.log(\"handleFragmentValueChange\", this.options)\r\n    setTimeout(() => {\r\n      this.showContent = true;\r\n      this.setFocus();\r\n    }, 1000); // 200ms ksleltets*\r\n    console.log(\"fragment\")\r\n  }\r\n\r\n\r\n  async componentWillLoad() {\r\n    this.showContent = false;\r\n    if (this.answerValue) {\r\n      this.numberAnswerValue = this.answerValue;\r\n      this.localNumberAnswerValue = this.numberAnswerValue;\r\n      this.dateAnswerValue = this.answerValue;\r\n      this.stringAnswerValue = this.answerValue;\r\n      this.yesButtonClass();\r\n      this.noButtonClass();\r\n    }\r\n\r\n    if (this.fragment.type === 'QuestionMenu') {\r\n      for (let i = 0; i < this.fragment.optionsExpert.length; i++) {\r\n        this.options.push(this.fragment.optionsLayman[i]);\r\n      }\r\n    }\r\n    setTimeout(() => {\r\n      this.showContent = true;\r\n      this.setFocus();\r\n    }, 1000); // 200ms ksleltets\r\n    console.log(\"componentWillLoad\", this.options)\r\n    await this.loadMessages();\r\n\r\n  }\r\n\r\n  private datePicker: any; // Flatpickr pldny\r\n  componentDidLoad() {\r\n    console.log(\"componentDidLoad\")\r\n    const dateInput = this.element.querySelector('#dateInput');\r\n    if (dateInput) {\r\n      this.datePicker = flatpickr(dateInput, {\r\n        dateFormat: \"Y-m-d\",\r\n        allowInput: true,\r\n        clickOpens: false,\r\n        disableMobile: true,\r\n        onChange: (_selectedDates, dateStr) => {\r\n          this.handleDateChange(dateStr);\r\n        }\r\n\r\n      });\r\n    }\r\n    //this.setFocus();\r\n  }\r\n\r\n  handleButtonClick() {\r\n    console.log(\"isDateActive\", this.isDateActive);\r\n    this.datePicker.open();\r\n  }\r\n\r\n  setFocus() {\r\n    setTimeout(() => {\r\n      console.log(\"setFocus\")\r\n      const firstInput = this.element.querySelector('input');\r\n      console.log(\"input\", firstInput)\r\n      if (!firstInput) {\r\n        console.log(this.element)\r\n      }\r\n\r\n      if (!(this.answerValue !== null && this.answerValue !== undefined)) {\r\n        console.log(\"focus\", firstInput)\r\n        if (firstInput) {\r\n          firstInput.focus();\r\n        } else {\r\n          const firstButton = this.element.querySelector('button');\r\n          if (firstButton) {\r\n            firstButton.focus()\r\n          }\r\n        }\r\n\r\n\r\n      }\r\n\r\n    }, 1000)\r\n  }\r\n\r\n  render() {\r\n    const svgWidth = '1.5em'; // A szlessg belltsa\r\n    const svgColor = \"#2B7371\"; // A szn belltsa\r\n    const svgViewBox = \"0 0 512 512\"\r\n    const svgPathCalendar = \"M152 24c0-13.3-10.7-24-24-24s-24 10.7-24 24V64H64C28.7 64 0 92.7 0 128v16 48V448c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V192 144 128c0-35.3-28.7-64-64-64H344V24c0-13.3-10.7-24-24-24s-24 10.7-24 24V64H152V24zM48 192H400V448c0 8.8-7.2 16-16 16H64c-8.8 0-16-7.2-16-16V192z\"\r\n\r\n    return (\r\n      <div class=\"step\">\r\n        {this.fragment.type != 'Goal' && (\r\n          <div>\r\n            <step-question\r\n              fragment={this.fragment}\r\n              isActiveQuestion={!(this.answerValue !== null && this.answerValue !== undefined)}\r\n            ></step-question>\r\n            <div class={`answer fade-in right ${this.showContent ? 'show' : ''}`}>\r\n\r\n              {this.fragment.type === 'QuestionMenu' && (\r\n                <div class=\"speech-bubble-triangle\">\r\n                  <span class=\"speech-bubble-answer\">\r\n                    <div class=\"options-container\">\r\n                      {this.options.map((op, index) => (\r\n\r\n                        <button class={{ \"answer-button\": true, \"active\": this.answerValue === index }}\r\n                          disabled={this.controlDisabled}\r\n                          onClick={() => this.menuAnswer(index)}\r\n                        >\r\n                          <div>{op}</div>\r\n                        </button>\r\n                      ))}\r\n                    </div>\r\n                  </span>\r\n                  <div class=\"triangle-topright\"></div>\r\n                </div>\r\n              )}\r\n              {this.fragment.type === 'QuestionYesNo' && (\r\n                <div class=\"speech-bubble-triangle\">\r\n                  <span class=\"speech-bubble-answer\">\r\n                    <button class={{ \"answer-button\": true, \"active\": this.yesButtonClass() }}\r\n                      disabled={this.controlDisabled}\r\n                      onClick={() => this.yesNoAnswer('true')}\r\n                    >\r\n                      {this.messages['question-yes']}\r\n                    </button>\r\n                    <button class={{ \"answer-button\": true, \"active\": this.noButtonClass() }}\r\n                      disabled={this.controlDisabled}\r\n                      onClick={() => this.yesNoAnswer('false')}\r\n                    >\r\n                      {this.messages['question-no']}\r\n                    </button>\r\n\r\n                  </span>\r\n                  <div class=\"triangle-topright\"></div>\r\n                </div>\r\n              )}\r\n              {this.fragment.type === 'QuestionInteger' && (\r\n                <div class=\"speech-bubble-triangle\">\r\n                  <span class=\"speech-bubble-answer\">\r\n                    <form onSubmit={(event) => {\r\n                      event.preventDefault();\r\n                      const form = event.target as HTMLFormElement;\r\n                      this.numberAnswerValue = form.getElementsByTagName('input')[0].value\r\n                      this.numberAnswer();\r\n                    }}>\r\n                      <input\r\n                        type=\"number\"\r\n                        inputMode='numeric'\r\n                        min=\"0\" step=\"1\"\r\n                        class={{ \"answer-input\": true, \"answered\": this.isActive }}\r\n                        value={this.localNumberAnswerValue}\r\n                        onInput={(event) => this.onNumberInput(event)}\r\n                        disabled={this.controlDisabled}\r\n                        onKeyDown={() => this.setNumberActive()}\r\n                        style={{ width: '8em' }}\r\n                      />\r\n                      <input type=\"submit\" hidden />\r\n                    </form>\r\n                  </span>\r\n                  <div class=\"triangle-topright\"></div>\r\n                </div>\r\n              )}\r\n              {this.fragment.type === 'QuestionDecimal' && (\r\n                <div class=\"speech-bubble-triangle\">\r\n                  <span class=\"speech-bubble-answer\">\r\n                    <input\r\n                      type=\"number\"\r\n                      inputMode='numeric'\r\n                      class={{ \"answer-input\": true, \"answered\": this.isActive }}\r\n                      value={this.localNumberAnswerValue}\r\n                      onInput={(event) => this.onNumberInput(event)}\r\n                      disabled={this.controlDisabled}\r\n                      onKeyDown={(event) => this.checkNumberInput(event)}\r\n                      style={{ width: '8em' }}\r\n                    />\r\n                  </span>\r\n                  <div class=\"triangle-topright\"></div>\r\n                </div>\r\n              )}\r\n              {this.fragment.type === 'QuestionString' && (\r\n                <div class=\"speech-bubble-triangle\">\r\n                  <span class=\"speech-bubble-answer\">\r\n                    <input\r\n                      type=\"text\"\r\n                      class={{ \"answer-input\": true, \"answered\": this.answerValue === this.stringAnswerValue }}\r\n                      value={this.stringAnswerValue}\r\n                      onInput={(event) => (this.stringAnswerValue = (event.target as HTMLInputElement).value)}\r\n                      disabled={this.controlDisabled}\r\n                      style={{ width: '15.5em' }}\r\n                    />\r\n                  </span>\r\n                  <div class=\"triangle-topright\"></div>\r\n                </div>\r\n              )}\r\n              {this.fragment.type === 'QuestionDate' && (\r\n                <div class=\"speech-bubble-triangle\">\r\n                  <span class=\"speech-bubble-answer date\">\r\n\r\n                    <form id=\"dateform\" onSubmit={(event) => {\r\n                      event.preventDefault();\r\n                      console.log(\"submit\")\r\n                      this.dateAnswerValue = this.localDateAnswerValue\r\n                      this.setDateActive();\r\n                      this.dateAnswer();\r\n                    }} style={{ marginRight: '0.625em' }}>\r\n\r\n                      <input type=\"text\" id=\"dateInput\"\r\n                        pattern=\"\\d{4}-\\d{2}-\\d{2}\" required placeholder=\"YYYY-MM-DD\"\r\n                        value={this.localDateAnswerValue}\r\n                        class={{ \"answer-input\": true, \"answered\": this.isDateActive }}\r\n                        disabled={this.controlDisabled}\r\n                        onInput={(event) => this.onDateInput(event)}\r\n                        onKeyDown={() => this.setDateActive()}\r\n                        style={{ width: '8em' }}\r\n                      />\r\n                      <input type=\"submit\" hidden />\r\n\r\n                    </form>\r\n\r\n                    <button id=\"date\" onClick={() => this.handleButtonClick()}>\r\n                      <svg viewBox={svgViewBox} width={svgWidth}>\r\n                        <path d={svgPathCalendar} fill={svgColor} />\r\n                      </svg>\r\n                    </button>\r\n\r\n\r\n\r\n                    {/*<ion-popover trigger=\"date\">\r\n                      <ng-template>\r\n                        <ion-datetime\r\n                          presentation=\"date\"\r\n                          first-day-of-week=\"1\"\r\n                          showDefaultButtons\r\n                          locale={this.locale}\r\n                          doneText={this.messages['confirmText']}\r\n                          cancelText={this.messages['cancelText']}\r\n                          onIonChange={(event) => {\r\n                            this.handleDateChange(event.detail.value as string);\r\n                          }}\r\n                        ></ion-datetime>\r\n                      </ng-template>\r\n                        </ion-popover>*/}\r\n\r\n\r\n\r\n                  </span>\r\n                  <div class=\"triangle-topright\"></div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  /*async presentPopover(ev: Event) {\r\n    \r\n  \r\n    \r\n    /*const datetimeElement = await this.datetimeController.create({\r\n      presentation: 'date',\r\n      firstDayOfWeek: 1,\r\n      showDefaultButtons: true,\r\n      locale: this.locale,\r\n      doneText: this.messages['confirmText'],\r\n      cancelText: this.messages['cancelText'],\r\n      onDidDismiss: (detail) => {\r\n        if (detail.role === 'done') {\r\n          this.handleDateChange(detail.data);\r\n        }\r\n      },\r\n    });\r\n    const popoverContent = document.createElement('ion-datetime');\r\n    popoverContent.presentation = 'date';\r\n    popoverContent.firstDayOfWeek = 1;\r\n    popoverContent.showDefaultButtons = true;\r\n    popoverContent.locale = this.locale;\r\n    popoverContent.doneText = this.messages['confirmText'];\r\n    popoverContent.cancelText = this.messages['cancelText'];\r\n    popoverContent.addEventListener('ionChange', (event: CustomEvent) => {\r\n      this.handleDateChange(event.detail.value);\r\n    });\r\n    \r\n    const popover = await popoverController.create({\r\n      component: 'ion-popover',\r\n      event: ev\r\n    });\r\n  \r\n    popover.appendChild(popoverContent);\r\n    await popover.present();\r\n  }*/\r\n\r\n\r\n  handleDateChange(dateString: string) {\r\n    this.setDateActive()\r\n    const date = new Date(dateString);\r\n    const year = date.getFullYear();\r\n    const month = date.getMonth() + 1;\r\n    const day = date.getDate();\r\n    this.localDateAnswerValue = `${year}-${this.padZero(month)}-${this.padZero(day)}`;\r\n    this.dateAnswerValue = this.localDateAnswerValue;\r\n    this.dateAnswer()\r\n\r\n  }\r\n\r\n  padZero(value: number) {\r\n    return value.toString().padStart(2, '0');\r\n  }\r\n\r\n  onDateInput(event: InputEvent): void {\r\n    this.localDateAnswerValue = (event.target as HTMLInputElement).value\r\n    this.setDateActive();\r\n  }\r\n\r\n\r\n  setDateActive(): void {\r\n    this.isDateActive = this.answerValue === this.dateAnswerValue && this.localDateAnswerValue === this.dateAnswerValue\r\n    console.log(\"isDateActive,\", this.isDateActive)\r\n  }\r\n\r\n  onNumberInput(event: InputEvent): void {\r\n    this.localNumberAnswerValue = (event.target as HTMLInputElement).value\r\n    this.setNumberActive();\r\n  }\r\n  checkNumberInput(event: KeyboardEvent): void {\r\n    if (event.key === 'Enter' || event.key === 'NumpadEnter') {\r\n      this.numberAnswerValue = (event.target as HTMLInputElement).value\r\n      this.numberAnswer();\r\n    }\r\n    this.setNumberActive();\r\n  }\r\n\r\n  setNumberActive(): void {\r\n    this.isActive = this.answerValue === (this.numberAnswerValue + '').replace(',', '.') && (this.localNumberAnswerValue + '').replace(',', '.') === this.numberAnswerValue\r\n    console.log(\"isActive,\", this.isActive)\r\n  }\r\n\r\n\r\n  menuAnswer(index: number): void {\r\n    if (this.answerValue === undefined) {\r\n      this.answerValue = index;\r\n      this.fragment.answer = this.answerValue;\r\n      this.answer.emit({ answer: this.answerValue, iri: this.fragment.iri });\r\n    } else {\r\n      this.answerValue = index;\r\n      this.fragment.answer = this.answerValue;\r\n      this.revokeAnswer.emit({ answer: this.answerValue, iri: this.fragment.iri });\r\n    }\r\n  }\r\n\r\n  yesNoAnswer(value: string) {\r\n    if (this.answerValue === undefined) {\r\n      this.answerValue = value;\r\n      this.fragment.answer = this.answerValue;\r\n      this.answer.emit({ answer: this.answerValue, iri: this.fragment.iri });\r\n    } else {\r\n      this.answerValue = value;\r\n      this.fragment.answer = this.answerValue;\r\n      this.revokeAnswer.emit({ answer: this.answerValue, iri: this.fragment.iri });\r\n    }\r\n    this.yesButtonClass();\r\n    this.noButtonClass();\r\n  }\r\n\r\n  numberAnswer() {\r\n    if (!this.answerValue) {\r\n      if (this.numberAnswerValue) {\r\n        this.answerValue = this.numberAnswerValue.replace(',', '.')\r\n        this.fragment.answer = this.answerValue;\r\n        this.answer.emit({ answer: this.answerValue, iri: this.fragment.iri });\r\n      }\r\n    } else {\r\n      if (this.numberAnswerValue) {\r\n        this.answerValue = this.numberAnswerValue.replace(',', '.')\r\n        this.fragment.answer = this.answerValue;\r\n        this.revokeAnswer.emit({ answer: this.answerValue, iri: this.fragment.iri });\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  stringAnswer() {\r\n    if (!this.answerValue) {\r\n      if (this.stringAnswerValue) {\r\n        this.answerValue = this.stringAnswerValue;\r\n        this.fragment.answer = this.answerValue;\r\n        this.answer.emit({ answer: this.answerValue, iri: this.fragment.iri });\r\n      }\r\n    } else {\r\n      if (this.stringAnswerValue) {\r\n        this.answerValue = this.stringAnswerValue;\r\n        this.fragment.answer = this.answerValue;\r\n        this.revokeAnswer.emit({ answer: this.answerValue, iri: this.fragment.iri });\r\n      }\r\n    }\r\n  }\r\n\r\n  dateAnswer() {\r\n    if (!this.answerValue) {\r\n      if (this.dateAnswerValue) {\r\n        this.answerValue = this.dateAnswerValue;\r\n        this.fragment.answer = this.answerValue;\r\n        this.answer.emit({ answer: this.answerValue, iri: this.fragment.iri });\r\n      }\r\n    } else {\r\n      if (this.dateAnswerValue) {\r\n        this.answerValue = this.dateAnswerValue;\r\n        this.fragment.answer = this.answerValue;\r\n        this.revokeAnswer.emit({ answer: this.answerValue, iri: this.fragment.iri });\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n\r\n  yesButtonClass(): boolean {\r\n    let ans: string = this.answerValue + '';\r\n    if (ans === 'undefined' || ans === 'null') {\r\n      return false\r\n    }\r\n\r\n    return ans === 'true'\r\n  }\r\n\r\n  noButtonClass(): boolean {\r\n    let ans: string = this.answerValue + '';\r\n    if (ans === 'undefined' || ans === 'null') {\r\n      return false;\r\n    }\r\n\r\n    return ans === 'false';\r\n  }\r\n\r\n  okButtonClass() {\r\n    let ans: string = this.answerValue + '';\r\n    if (ans === 'undefined' || ans === 'null') {\r\n      return 'unselected-btn';\r\n    }\r\n\r\n    return 'selected-btn';\r\n  }\r\n\r\n\r\n}\r\n",":host {\r\n\tdisplay: block;\r\n}\r\n\r\n.question {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tmargin-bottom: 1.25em;\r\n\tmargin-top: 1.25em;\r\n}\r\n\r\n.speech-bubble-triangle {\r\n\tdisplay: flex;\r\n\tmax-width: 84%;\r\n}\r\n\r\n.triangle-topleft {\r\n\tborder-top: 7px solid #bfc1c7;\r\n\tborder-left: 7px solid transparent;\r\n}\r\n\r\n.speech-bubble-question {\r\n\tbackground: #ffffff;\r\n\tborder: 1px solid #bfc1c7;\r\n\tborder-radius: 0px 10px 10px 10px;\r\n\tpadding: 0.625em;\r\n}\r\n\r\n.speech-bubble-question.active {\r\n\tbackground: #f5f4d8;\r\n}\r\n\r\n.infoicon {\r\n\tmargin-left: 0.625em;\r\n\tcolor: #2b7371;\r\n}\r\n\r\n.clickable {\r\n\tcursor: pointer;\r\n}\r\n\r\nion-popover.full-size {\r\n\t--width: calc(100vw - var(--page-margin) * 2);\r\n\t--box-shadow: 0 5px 10px 0 rgba(0, 0, 0, 0.6);\r\n\t--border-radius: 20px;\r\n\t--overflow: hidden;\r\n\r\n\t--width: calc(100%);\r\n\t--margin-left: auto;\r\n\t--margin-right: auto;\r\n}\r\nion-popover.full-size::part(content) {\r\n\tmargin: var(--page-margin);\r\n\tleft: 0;\r\n\tborder-radius: 10px;\r\n}\r\nion-popover.full-size::part(backdrop) {\r\n\tbackground-color: var(--special-transparent);\r\n}\r\nion-popover.full-size::part(arrow) {\r\n\tdisplay: none;\r\n}\r\nion-popover h1 {\r\n\tmargin: 0 0 10px 0;\r\n}\r\nion-popover ion-content {\r\n\t--background: #ecebeb;\r\n}\r\nion-popover.warning ion-content {\r\n\t--background: var(--special-warning);\r\n}\r\n","import { popoverController } from '@ionic/core';\r\nimport { Component, Prop, State, Watch, h } from '@stencil/core';\r\nimport { Fragment } from '../../interfaces/dialog-interfaces';\r\n\r\n@Component({\r\n  tag: 'step-question',\r\n  styleUrl: 'step-question.css',\r\n  shadow: false,\r\n})\r\nexport class StepQuestion {\r\n  @Prop() fragment: Fragment;\r\n  @Prop() isActiveQuestion: boolean;\r\n\r\n  @State() showContent = false;\r\n\r\n  @Watch('fragment')\r\n  handleFragmentValueChange() {\r\n    this.showContent = false;\r\n    setTimeout(() => {\r\n      this.showContent = true;\r\n    }, 1000); // 200ms ksleltets\r\n    console.log(\"q-fragment\")\r\n  }\r\n\r\n  hasTooltip(): boolean {\r\n    return !!this.fragment.descriptionLayman;\r\n  }\r\n\r\n  async componentWillLoad() {\r\n    this.showContent = false;\r\n    setTimeout(() => {\r\n      this.showContent = true;\r\n    }, 200); // 200ms ksleltets\r\n    console.log(\"componentWillLoad-q\")\r\n\r\n  }\r\n\r\n\r\n  \r\n\r\n  async presentPopover(ev: Event) {\r\n    if (this.fragment.descriptionLayman.trim() !== '') {\r\n      const buttonId = `button-${this.fragment.iri}`; // Az egyedi gomb ID-je\r\n      const button = document.getElementById(buttonId); // A gomb elem lekrse\r\n      console.log(button)\r\n\r\n      if (!button) {\r\n        return; // Kilps, ha nem tallhat a gomb elem\r\n      }\r\n\r\n      const popover = await popoverController.create({\r\n        component: 'ion-popover',\r\n        event: ev,\r\n        alignment: \"center\",\r\n        translucent: true,\r\n        showBackdrop: false,\r\n        cssClass: 'full-size',\r\n        animated: true,\r\n        componentProps: {}\r\n      });\r\n\r\n      const popoverContent = document.createElement('ion-content');\r\n      popoverContent.classList.add(\"ion-padding\");\r\n      popoverContent.innerHTML = this.fragment.descriptionLayman;\r\n\r\n      popover.appendChild(popoverContent);\r\n\r\n      //const rect = button.getBoundingClientRect();\r\n\r\n      //popover.style.top = rect.bottom + 'px';\r\n      //popover.style.left = rect.left + 'px';\r\n\r\n      await popover.present();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const svgWidth = '1.5em'; // A szlessg belltsa\r\n    const svgColor = \"#2B7371\"; // A szn belltsa\r\n    const svgPath = \"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336h24V272H216c-13.3 0-24-10.7-24-24s10.7-24 24-24h48c13.3 0 24 10.7 24 24v88h8c13.3 0 24 10.7 24 24s-10.7 24-24 24H216c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z\"\r\n    const svgViewBox = \"0 0 512 512\"\r\n\r\n    if (!this.hasTooltip()) {\r\n      return (\r\n        <div class={`question fade-in left ${this.showContent ? 'show' : ''}`}>\r\n          <div class=\"speech-bubble-triangle\">\r\n            <div class=\"triangle-topleft\"></div>\r\n            <span class={{ \"speech-bubble-question\": true, \"active\": this.isActiveQuestion }} innerHTML={this.fragment.labelLayman} ></span>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div class={`question fade-in left ${this.showContent ? 'show' : ''}`}>\r\n        <div class=\"speech-bubble-triangle\">\r\n          <div class=\"triangle-topleft\"></div>\r\n          <span class={{ \"speech-bubble-question\": true, \"active\": this.isActiveQuestion }} innerHTML={this.fragment.labelLayman} ></span>\r\n        </div>\r\n        <svg id={`button-${this.fragment.iri}`} class=\"infoicon clickable\" width={svgWidth} viewBox={svgViewBox} onClick={(ev) => this.presentPopover(ev)} >\r\n          <path d={svgPath} fill={svgColor} />\r\n        </svg>\r\n\r\n      </div>\r\n    );\r\n\r\n\r\n  }\r\n\r\n}\r\n"],"mappings":"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"}