{"version":3,"file":"step-component.js","sourceRoot":"","sources":["../../../../src/components/step-component/step-component.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, Element, Event, EventEmitter, Prop, State, Watch, h } from '@stencil/core';\r\nimport flatpickr from 'flatpickr';\r\nimport { Hungarian } from 'flatpickr/dist/l10n/hu';\r\nimport { Answer, Fragment } from '../../interfaces/dialog-interfaces';\r\nimport { getIntlMessage } from '../../language/translation';\r\n\r\n@Component({\r\n  tag: 'step-component',\r\n  styleUrl: 'step-component.css',\r\n  shadow: false,\r\n})\r\nexport class StepComponent {\r\n  private messages: Record<string, string> = {};\r\n\r\n  options: string[] = [];\r\n  stringAnswerValue: string;\r\n  numberAnswerValue: string;\r\n  dateAnswerValue: string;\r\n  localNumberAnswerValue: string;\r\n  localStringAnswerValue: string;\r\n  @State() localDateAnswerValue: string;\r\n\r\n  @Element() private element: HTMLElement;\r\n\r\n  @Prop() fragment: Fragment;\r\n  @Prop({ mutable: true }) answerValue: any;\r\n  @Prop() controlDisabled: boolean;\r\n  @Prop() locale: string = 'hu';\r\n  @Prop() lastLocale: string = '';\r\n\r\n  @State() isActive: boolean = false;\r\n  @State() isDateActive: boolean = false;\r\n  @State() showContent = false;\r\n\r\n  @Event() answer: EventEmitter<Answer>;\r\n  @Event() revokeAnswer: EventEmitter<Answer>;\r\n\r\n\r\n  @Watch('locale')\r\n  async loadMessages() {\r\n    if (this.locale !== this.lastLocale) {\r\n      this.lastLocale = this.locale;\r\n      this.messages = await getIntlMessage(this.locale);\r\n    }\r\n  }\r\n\r\n  @Watch('answerValue')\r\n  handleAnswerValueChange(newValue: string) {\r\n    console.log(\"answerValue\")\r\n    this.numberAnswerValue = newValue + ''\r\n    this.localNumberAnswerValue = newValue + '';\r\n    this.dateAnswerValue = newValue;\r\n    this.stringAnswerValue = newValue;\r\n    this.yesButtonClass();\r\n    this.noButtonClass();\r\n    this.isActive = true;\r\n    this.isDateActive = true;\r\n  }\r\n\r\n  @Watch('fragment')\r\n  handleFragmentValueChange(newValue, oldValue) {\r\n    console.log(\"old\", oldValue)\r\n    console.log(\"new\", newValue)\r\n    this.showContent = false;\r\n    if (this.fragment.type === 'QuestionMenu') {\r\n      this.options = [];\r\n      for (let i = 0; i < this.fragment.optionsExpert.length; i++) {\r\n        this.options.push(this.fragment.optionsLayman[i]);\r\n      }\r\n    }\r\n\r\n    console.log(\"handleFragmentValueChange\", this.options)\r\n    setTimeout(() => {\r\n      this.showContent = true;\r\n      this.setFocus();\r\n    }, 1000); // 200ms késleltetés*\r\n    console.log(\"fragment\")\r\n  }\r\n\r\n\r\n  async componentWillLoad() {\r\n    this.showContent = false;\r\n    if (this.answerValue) {\r\n      this.numberAnswerValue = this.answerValue;\r\n      this.localNumberAnswerValue = this.numberAnswerValue;\r\n      this.dateAnswerValue = this.answerValue;\r\n      this.stringAnswerValue = this.answerValue;\r\n      this.localStringAnswerValue = this.stringAnswerValue;\r\n      this.yesButtonClass();\r\n      this.noButtonClass();\r\n    }\r\n\r\n    if (this.fragment.type === 'QuestionMenu') {\r\n      for (let i = 0; i < this.fragment.optionsExpert.length; i++) {\r\n        this.options.push(this.fragment.optionsLayman[i]);\r\n      }\r\n    }\r\n    setTimeout(() => {\r\n      this.showContent = true;\r\n      this.setFocus();\r\n    }, 1000); // 200ms késleltetés\r\n    console.log(\"componentWillLoad\", this.options)\r\n    await this.loadMessages();\r\n\r\n  }\r\n\r\n  private datePicker: any; // Flatpickr példány\r\n  componentDidLoad() {\r\n    console.log(\"componentDidLoad\")\r\n    const dateInput = this.element.querySelector('#hiddenDateInput');\r\n    const realDateInput = this.element.querySelector('#dateInput');\r\n    if (dateInput) {\r\n      const localeObject = {\r\n        ...(this.locale === 'hu' ? Hungarian : {}),\r\n      };\r\n\r\n      this.datePicker = flatpickr(dateInput, {\r\n        dateFormat: \"Y-m-d\",\r\n        positionElement: realDateInput,\r\n        clickOpens: false,\r\n        disableMobile: true,\r\n        allowInvalidPreload: true,\r\n        locale: localeObject,\r\n        onChange: (_selectedDates, dateStr) => {\r\n          this.handleDateChange(dateStr);\r\n        },\r\n\r\n      });\r\n\r\n    }\r\n  }\r\n\r\n  handleButtonClick() {\r\n    console.log(\"isDateActive\", this.isDateActive);\r\n    this.datePicker.open();\r\n  }\r\n\r\n  setFocus() {\r\n    setTimeout(() => {\r\n      console.log(\"setFocus\")\r\n      const firstInput = this.element.querySelector('input:not([hidden]):not([type=\"submit\"])') as HTMLInputElement;\r\n      console.log(\"input\", firstInput)\r\n      if (!firstInput) {\r\n        console.log(this.element)\r\n      }\r\n\r\n      if (!(this.answerValue !== null && this.answerValue !== undefined)) {\r\n        console.log(\"focus\", firstInput)\r\n        const firstArea = this.element.querySelector('textarea');\r\n        if (firstInput) {\r\n          console.log(\"focus inputon\")\r\n          firstInput.focus();\r\n        } else if (firstArea) {\r\n          console.log(\"focus arean\")\r\n          firstArea.focus();\r\n        }\r\n        else {\r\n          const firstButton = this.element.querySelector('button');\r\n          console.log(\"firstButton\", firstButton)\r\n          if (firstButton) {\r\n            console.log(\"focus gombon\")\r\n            firstButton.focus()\r\n          }\r\n        }\r\n\r\n\r\n      }\r\n\r\n    }, 1000)\r\n  }\r\n\r\n  render() {\r\n    const svgWidth = '1.5em'; // A szélesség beállítása\r\n    const svgColor = \"#2B7371\"; // A szín beállítása\r\n    const svgPathSend = \"M22.3402 10.6428L22.3327 10.6396L2.31328 2.33612C2.1449 2.26565 1.96167 2.23801 1.77999 2.25567C1.59831 2.27334 1.42384 2.33577 1.27219 2.43737C1.11197 2.54236 0.980359 2.68553 0.889207 2.85401C0.798055 3.02248 0.750218 3.21098 0.75 3.40253V8.713C0.750089 8.97486 0.841528 9.2285 1.00856 9.43018C1.17558 9.63186 1.40774 9.76896 1.665 9.81784L12.5836 11.8367C12.6265 11.8449 12.6652 11.8677 12.6931 11.9014C12.7209 11.935 12.7362 11.9773 12.7362 12.021C12.7362 12.0646 12.7209 12.1069 12.6931 12.1406C12.6652 12.1742 12.6265 12.1971 12.5836 12.2052L1.66547 14.2241C1.40828 14.2728 1.17614 14.4098 1.00903 14.6113C0.841932 14.8128 0.750328 15.0662 0.75 15.328V20.6394C0.749876 20.8223 0.795166 21.0024 0.881807 21.1635C0.968448 21.3246 1.09373 21.4616 1.24641 21.5624C1.43006 21.6844 1.6456 21.7496 1.86609 21.7499C2.01938 21.7497 2.1711 21.719 2.31234 21.6594L22.3312 13.4033L22.3402 13.3991C22.6096 13.2833 22.8392 13.091 23.0006 12.8461C23.1619 12.6011 23.2479 12.3143 23.2479 12.021C23.2479 11.7277 23.1619 11.4408 23.0006 11.1959C22.8392 10.9509 22.6096 10.7586 22.3402 10.6428Z\";\r\n\r\n    return (\r\n      <div class=\"step\">\r\n        {this.fragment.type != 'Goal' && (\r\n          <div>\r\n            <step-question\r\n              fragment={this.fragment}\r\n              isActiveQuestion={!(this.answerValue !== null && this.answerValue !== undefined)}\r\n            ></step-question>\r\n            <div class={`answer fade-in right ${this.showContent ? 'show' : ''}`}>\r\n\r\n              {this.fragment.type === 'QuestionMenu' && (\r\n                <div class=\"speech-bubble-triangle\">\r\n                  <span class=\"speech-bubble-answer\">\r\n                    <div class=\"options-container\">\r\n                      {this.options.map((op, index) => (\r\n\r\n                        <button class={{ \"answer-button\": true, \"active\": this.answerValue === index }}\r\n                          disabled={this.controlDisabled}\r\n                          onClick={() => this.menuAnswer(index)}\r\n                        >\r\n                          <div>{op}</div>\r\n                        </button>\r\n                      ))}\r\n                    </div>\r\n                  </span>\r\n                  <div class=\"triangle-topright\"></div>\r\n                </div>\r\n              )}\r\n              {this.fragment.type === 'QuestionYesNo' && (\r\n                <div class=\"speech-bubble-triangle\">\r\n                  <span class=\"speech-bubble-answer\">\r\n                    <button class={{ \"answer-button\": true, \"active\": this.yesButtonClass() }}\r\n                      disabled={this.controlDisabled}\r\n                      onClick={() => this.yesNoAnswer('true')}\r\n                    >\r\n                      {this.messages['question-yes']}\r\n                    </button>\r\n                    <button class={{ \"answer-button\": true, \"active\": this.noButtonClass() }}\r\n                      disabled={this.controlDisabled}\r\n                      onClick={() => this.yesNoAnswer('false')}\r\n                    >\r\n                      {this.messages['question-no']}\r\n                    </button>\r\n\r\n                  </span>\r\n                  <div class=\"triangle-topright\"></div>\r\n                </div>\r\n              )}\r\n              {this.fragment.type === 'QuestionInteger' && (\r\n                <div class=\"speech-bubble-triangle\">\r\n                  <span class=\"speech-bubble-answer\">\r\n                    <form onSubmit={(event) => {\r\n                      event.preventDefault();\r\n                      const form = event.target as HTMLFormElement;\r\n                      this.numberAnswerValue = form.getElementsByTagName('input')[0].value\r\n                      this.numberAnswer();\r\n                    }}>\r\n                      <input\r\n                        type=\"number\"\r\n                        required\r\n                        inputMode='numeric'\r\n                        min=\"0\" step=\"1\"\r\n                        class={{ \"answer-input\": true, \"answered\": this.isActive }}\r\n                        value={this.localNumberAnswerValue}\r\n                        onInput={(event) => {\r\n                          const dateInput = (event.target as HTMLInputElement)\r\n\r\n                          dateInput.setCustomValidity(\"\"); this.onNumberInput(event)\r\n                        }}\r\n                        disabled={this.controlDisabled}\r\n                        onKeyDown={() => this.setNumberActive()}\r\n                        onInvalid={(event) => {\r\n                          const dateInput = (event.target as HTMLInputElement)\r\n                          console.log(\"message\", this.messages['validation-message'])\r\n                          dateInput.setCustomValidity(this.messages['validation-message']);\r\n\r\n                        }}\r\n\r\n                        style={{ width: '8em' }}\r\n                      />\r\n                      <input type=\"submit\" hidden />\r\n                    </form>\r\n                  </span>\r\n                  <div class=\"triangle-topright\"></div>\r\n                </div>\r\n              )}\r\n              {this.fragment.type === 'QuestionDecimal' && (\r\n                <div class=\"speech-bubble-triangle\">\r\n                  <span class=\"speech-bubble-answer\">\r\n                    <form onSubmit={(event) => {\r\n                      event.preventDefault();\r\n                      const form = event.target as HTMLFormElement;\r\n                      this.numberAnswerValue = form.getElementsByTagName('input')[0].value\r\n                      this.numberAnswer();\r\n                    }}>\r\n                      <input\r\n                        type=\"number\"\r\n                        required\r\n                        step='any'\r\n                        inputMode='numeric'\r\n                        class={{ \"answer-input\": true, \"answered\": this.isActive }}\r\n                        value={this.localNumberAnswerValue}\r\n                        onInput={(event) => {\r\n                          const dateInput = (event.target as HTMLInputElement)\r\n\r\n                          dateInput.setCustomValidity(\"\"); this.onNumberInput(event)\r\n                        }}\r\n                        disabled={this.controlDisabled}\r\n                        onKeyDown={() => this.setNumberActive()}\r\n                        onInvalid={(event) => {\r\n                          const dateInput = (event.target as HTMLInputElement)\r\n                          console.log(\"message\", this.messages['validation-message'])\r\n                          dateInput.setCustomValidity(this.messages['validation-message']);\r\n\r\n                        }}\r\n\r\n                        style={{ width: '8em' }}\r\n                      />\r\n                      <input type=\"submit\" hidden />\r\n                    </form>\r\n                  </span>\r\n                  <div class=\"triangle-topright\"></div>\r\n                </div>\r\n              )}\r\n              {this.fragment.type === 'QuestionString' && (\r\n                <div class=\"speech-bubble-triangle\" style={{ flexGrow: '1' }}>\r\n                  <span class=\"speech-bubble-answer string\">\r\n\r\n                    <form id=\"stringform\" onSubmit={(event) => {\r\n                      event.preventDefault();\r\n                      this.stringAnswer();\r\n                    }}>\r\n                      <textarea required\r\n                        class={{ \"answer-input\": true, \"answered\": this.isActive }}\r\n                        value={this.localStringAnswerValue}\r\n                        onInput={(event) => {\r\n                          const dateInput = (event.target as HTMLTextAreaElement)\r\n\r\n                          dateInput.setCustomValidity(\"\"); this.onStringInput(event)\r\n                        }}\r\n                        disabled={this.controlDisabled}\r\n                        onKeyDown={() => this.setStringActive()}\r\n                        onInvalid={(event) => {\r\n                          const dateInput = (event.target as HTMLTextAreaElement)\r\n                          console.log(\"message\", this.messages['validation-message'])\r\n                          dateInput.setCustomValidity(this.messages['validation-message']);\r\n\r\n                        }}\r\n\r\n                      />\r\n                      <input type=\"submit\" hidden />\r\n                    </form>\r\n                    <button onClick={() => {\r\n                      const form = (this.element.querySelector('#stringform') as HTMLFormElement)\r\n                      console.log(\"form\", form)\r\n                      const hiddenSubmit = form.getElementsByTagName('input')[0] as HTMLInputElement;\r\n                      console.log(\"hiddenSubmit\")\r\n                      hiddenSubmit.click();\r\n\r\n                    }} style={{ alignSelf: 'flex-start', marginTop: '4px' }}>\r\n                      <svg width={svgWidth} viewBox=\"0 0 24 24\" fill=\"none\">\r\n                        <path d={svgPathSend} fill={svgColor} />\r\n                      </svg>\r\n\r\n                    </button>\r\n                  </span>\r\n                  <div class=\"triangle-topright\"></div>\r\n                </div>\r\n              )}\r\n              {this.fragment.type === 'QuestionDate' && (\r\n                <div class=\"speech-bubble-triangle\">\r\n                  <span class=\"speech-bubble-answer date\">\r\n\r\n                    <form id=\"dateform\" onSubmit={(event) => {\r\n                      event.preventDefault();\r\n                      console.log(\"submit\")\r\n                      const form = event.target as HTMLFormElement;\r\n                      const dateInput = form.getElementsByTagName('input')[0]\r\n\r\n                      if (isNaN(Date.parse(this.localDateAnswerValue))) {\r\n                        this.datePicker.setDate(new Date().toISOString().slice(0, 10))\r\n                        console.log(\"parse nem\")\r\n                        dateInput.setCustomValidity(this.messages['validation-message']);\r\n                        return;\r\n                      } else {\r\n                        this.datePicker.setDate(this.localDateAnswerValue)\r\n                      }\r\n\r\n                      this.dateAnswerValue = this.localDateAnswerValue\r\n                      this.setDateActive();\r\n                      this.dateAnswer();\r\n                    }} style={{ marginRight: '0.625em' }}>\r\n\r\n                      <input type=\"text\" id=\"dateInput\"\r\n                        pattern=\"\\d{4}-\\d{2}-\\d{2}\" required placeholder=\"YYYY-MM-DD\"\r\n                        value={this.localDateAnswerValue}\r\n                        class={{ \"answer-input\": true, \"answered\": this.isDateActive }}\r\n                        disabled={this.controlDisabled}\r\n                        onInput={(event) => { (event.target as HTMLInputElement).setCustomValidity(''); this.onDateInput(event) }}\r\n                        onKeyDown={() => this.setDateActive()}\r\n                        onKeyUp={(event) => {\r\n                          const dateInput = event.target as HTMLInputElement\r\n\r\n                          if (isNaN(Date.parse(this.localDateAnswerValue))) {\r\n                            this.datePicker.setDate(new Date().toISOString().slice(0, 10))\r\n                            console.log(\"parse nem\")\r\n                            dateInput.setCustomValidity(this.messages['validation-message']);\r\n                          } else {\r\n                            dateInput.setCustomValidity(\"\");\r\n                          }\r\n\r\n                        }}\r\n                        onInvalid={(event) => {\r\n                          console.log(event)\r\n\r\n                          const dateInput = (event.target as HTMLInputElement)\r\n                          dateInput.setCustomValidity(this.messages['validation-message']);\r\n                        }}\r\n                        style={{ width: '8em' }}\r\n                      />\r\n                      <input type=\"hidden\" id=\"hiddenDateInput\" readonly style={{ display: 'none' }} />\r\n                      <input type=\"submit\" hidden />\r\n\r\n                    </form>\r\n\r\n                    <button id=\"date\" onClick={() => this.handleButtonClick()}>\r\n\r\n                      <svg width={svgWidth} viewBox=\"0 0 24 24\" fill=\"none\">\r\n                        <path d=\"M19.5 3.75H4.5C3.25736 3.75 2.25 4.75736 2.25 6V19.5C2.25 20.7426 3.25736 21.75 4.5 21.75H19.5C20.7426 21.75 21.75 20.7426 21.75 19.5V6C21.75 4.75736 20.7426 3.75 19.5 3.75Z\" stroke=\"#2B7371\" stroke-width=\"2\" stroke-linejoin=\"round\" />\r\n                        <path d=\"M6 2.25V3.75M18 2.25V3.75M21.75 7.5H2.25M14.25 12.1875L16.2853 10.6875H16.5V18.5625M7.21781 11.3873C7.42078 11.0442 7.98891 10.5 8.99203 10.5C10.178 10.5 11.2369 11.1459 11.2369 12.3703C11.2396 12.6073 11.1948 12.8425 11.1052 13.062C11.0156 13.2814 10.883 13.4807 10.7152 13.6481C10.2028 14.1727 9.42094 14.3733 8.99391 14.3733C9.47672 14.3733 10.3622 14.6002 10.9416 15.1927C11.3128 15.5709 11.4844 16.1044 11.4844 16.6959C11.4844 18.0028 10.3814 18.75 9.04125 18.75C7.90828 18.75 7.21313 17.9264 6.98438 17.5388\" stroke=\"#2B7371\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\r\n                        <rect x=\"0.5\" y=\"0.5\" width=\"23\" height=\"23\" stroke={svgColor} />\r\n                      </svg>\r\n                    </button>\r\n\r\n\r\n\r\n\r\n                  </span>\r\n                  <div class=\"triangle-topright\"></div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n\r\n\r\n\r\n  handleDateChange(dateString: string) {\r\n    console.log(\"handleDateChange\", dateString)\r\n    this.setDateActive()\r\n    if (isNaN(Date.parse(dateString))) {\r\n      return;\r\n    }\r\n\r\n    const date = new Date(dateString);\r\n\r\n    const year = date.getFullYear();\r\n    const month = date.getMonth() + 1;\r\n    const day = date.getDate();\r\n    this.localDateAnswerValue = `${year}-${this.padZero(month)}-${this.padZero(day)}`;\r\n    this.dateAnswerValue = this.localDateAnswerValue;\r\n    this.dateAnswer()\r\n\r\n  }\r\n\r\n  padZero(value: number) {\r\n    return value.toString().padStart(2, '0');\r\n  }\r\n\r\n  onDateInput(event: InputEvent): void {\r\n    this.localDateAnswerValue = (event.target as HTMLInputElement).value\r\n    this.setDateActive();\r\n  }\r\n\r\n\r\n  setDateActive(): void {\r\n    this.isDateActive = this.answerValue === this.dateAnswerValue && this.localDateAnswerValue === this.dateAnswerValue\r\n    console.log(\"isDateActive,\", this.isDateActive)\r\n  }\r\n\r\n  onNumberInput(event: InputEvent): void {\r\n    this.localNumberAnswerValue = (event.target as HTMLInputElement).value\r\n    this.setNumberActive();\r\n  }\r\n  checkNumberInput(event: KeyboardEvent): void {\r\n    if (event.key === 'Enter' || event.key === 'NumpadEnter') {\r\n      this.numberAnswerValue = (event.target as HTMLInputElement).value\r\n      this.numberAnswer();\r\n    }\r\n    this.setNumberActive();\r\n  }\r\n\r\n  onStringInput(event: InputEvent): void {\r\n    console.log(\"string input\", event)\r\n    let textarea = (event.target as HTMLTextAreaElement)\r\n    console.log(\"style\", textarea.scrollHeight)\r\n    textarea.style.height = ''\r\n    textarea.style.height = textarea.scrollHeight + \"px\";\r\n    this.localStringAnswerValue = (event.target as HTMLTextAreaElement).value\r\n    this.setStringActive();\r\n  }\r\n\r\n  setNumberActive(): void {\r\n    this.isActive = this.answerValue === (this.numberAnswerValue + '').replace(',', '.') && (this.localNumberAnswerValue + '').replace(',', '.') === this.numberAnswerValue\r\n    console.log(\"isActive,\", this.isActive)\r\n  }\r\n\r\n  setStringActive() {\r\n    this.isActive = this.answerValue === this.stringAnswerValue && this.localStringAnswerValue === this.stringAnswerValue\r\n    console.log(\"isActive,\", this.isActive)\r\n  }\r\n\r\n\r\n  menuAnswer(index: number): void {\r\n    if (this.answerValue === undefined) {\r\n      this.answerValue = index;\r\n      this.fragment.answer = this.answerValue;\r\n      this.answer.emit({ answer: this.answerValue, iri: this.fragment.iri });\r\n    } else {\r\n      this.answerValue = index;\r\n      this.fragment.answer = this.answerValue;\r\n      this.revokeAnswer.emit({ answer: this.answerValue, iri: this.fragment.iri });\r\n    }\r\n  }\r\n\r\n  yesNoAnswer(value: string) {\r\n    if (this.answerValue === undefined) {\r\n      this.answerValue = value;\r\n      this.fragment.answer = this.answerValue;\r\n      this.answer.emit({ answer: this.answerValue, iri: this.fragment.iri });\r\n    } else {\r\n      this.answerValue = value;\r\n      this.fragment.answer = this.answerValue;\r\n      this.revokeAnswer.emit({ answer: this.answerValue, iri: this.fragment.iri });\r\n    }\r\n    this.yesButtonClass();\r\n    this.noButtonClass();\r\n  }\r\n\r\n  numberAnswer() {\r\n    if (!this.answerValue) {\r\n      if (this.numberAnswerValue) {\r\n        this.answerValue = this.numberAnswerValue.replace(',', '.')\r\n        this.fragment.answer = this.answerValue;\r\n        this.answer.emit({ answer: this.answerValue, iri: this.fragment.iri });\r\n      }\r\n    } else {\r\n      if (this.numberAnswerValue) {\r\n        this.answerValue = this.numberAnswerValue.replace(',', '.')\r\n        this.fragment.answer = this.answerValue;\r\n        this.revokeAnswer.emit({ answer: this.answerValue, iri: this.fragment.iri });\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  stringAnswer() {\r\n    this.stringAnswerValue = this.localStringAnswerValue;\r\n    if (!this.answerValue) {\r\n      if (this.stringAnswerValue) {\r\n        this.answerValue = this.stringAnswerValue;\r\n        this.fragment.answer = this.answerValue;\r\n        this.answer.emit({ answer: this.answerValue, iri: this.fragment.iri });\r\n      }\r\n    } else {\r\n      if (this.stringAnswerValue) {\r\n        this.answerValue = this.stringAnswerValue;\r\n        this.fragment.answer = this.answerValue;\r\n        this.revokeAnswer.emit({ answer: this.answerValue, iri: this.fragment.iri });\r\n      }\r\n    }\r\n  }\r\n\r\n  dateAnswer() {\r\n    if (!this.answerValue) {\r\n      if (this.dateAnswerValue) {\r\n        this.answerValue = this.dateAnswerValue;\r\n        this.fragment.answer = this.answerValue;\r\n        this.answer.emit({ answer: this.answerValue, iri: this.fragment.iri });\r\n      }\r\n    } else {\r\n      if (this.dateAnswerValue) {\r\n        this.answerValue = this.dateAnswerValue;\r\n        this.fragment.answer = this.answerValue;\r\n        this.revokeAnswer.emit({ answer: this.answerValue, iri: this.fragment.iri });\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n\r\n  yesButtonClass(): boolean {\r\n    let ans: string = this.answerValue + '';\r\n    if (ans === 'undefined' || ans === 'null') {\r\n      return false\r\n    }\r\n\r\n    return ans === 'true'\r\n  }\r\n\r\n  noButtonClass(): boolean {\r\n    let ans: string = this.answerValue + '';\r\n    if (ans === 'undefined' || ans === 'null') {\r\n      return false;\r\n    }\r\n\r\n    return ans === 'false';\r\n  }\r\n\r\n  okButtonClass() {\r\n    let ans: string = this.answerValue + '';\r\n    if (ans === 'undefined' || ans === 'null') {\r\n      return 'unselected-btn';\r\n    }\r\n\r\n    return 'selected-btn';\r\n  }\r\n\r\n\r\n}\r\n"]}