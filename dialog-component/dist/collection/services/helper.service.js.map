{"version":3,"file":"helper.service.js","sourceRoot":"","sources":["../../../src/services/helper.service.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,WAAW,EAAE,MAAM,mBAAmB,CAAC;AAIhD,MAAM,OAAO,aAAa;EAStB,YAAY,IAAU;IAFtB,gBAAW,GAAG,WAAW,CAAC;IAGtB,oCAAoC;IACpC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,IAAI,EAAE,CAAC;IACtC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,IAAI,CAAC,CAAC;IAC/B,IAAI,CAAC,GAAG,GAAG,IAAI,IAAI,EAAE,CAAC,WAAW,EAAE,GAAG,IAAI,CAAC,SAAS,IAAI,EAAE,CAAA;IAC1D,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,IAAI,CAAC,CAAC;IACzB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,IAAI,QAAQ,CAAC;IAC5C,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,IAAI,iBAAiB,CAAA;EAChD,CAAC;EAED,gBAAgB,CAAC,IAAwB;IACrC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;IAChC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;IACpC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC;IACvB,IAAI,KAAa,CAAC;IAClB,IAAI,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,kBAAkB,CAAC,GAAG,EAAE,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,kBAAkB,CAAC,GAAG,EAAE,CAAC,CAAC;IACnJ,IAAI,GAAG,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;MACnB,KAAK,GAAG,QAAQ,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,EAAE,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAA;KACvD;SACI;MACD,KAAK,GAAG,QAAQ,CAAC,GAAG,CAAC,CAAA;KACxB;IACD,IAAI,CAAC,KAAK,GAAG,KAAK,CAAA;IAClB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;IAC1B,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;IACpB,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;IACpB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAA;IAE/B,wCAAwC;IACxC,OAAO,IAAI,CAAC;EAChB,CAAC;CAEJ","sourcesContent":["import { host_domain } from \"../../config.json\";\r\nimport { ConsultationResult } from \"../interfaces/dialog-interfaces\";\r\nimport { User } from \"../interfaces/user\";\r\n\r\nexport class HelperService {\r\n    player_id: number;\r\n    region: number;\r\n    education: string;\r\n    sex: number;\r\n    age: number;\r\n    email: string;\r\n    host_domain = host_domain;\r\n\r\n    constructor(user: User) {\r\n        //console.log(\"helperservice\", user)\r\n        this.player_id = user.player_id || 12;\r\n        this.region = user.region || 0;\r\n        this.age = new Date().getFullYear() - user.birthyear || 26\r\n        this.sex = user.sex || 1;\r\n        this.education = user.education || 'higher';\r\n        this.email = user.email || 'tesztelek@ml.hu'\r\n    }\r\n\r\n    getBodyWithUsers(body: ConsultationResult) {\r\n        body.player_id = this.player_id;\r\n        body.host_domain = this.host_domain;\r\n        body.mail = this.email;\r\n        var score: number;\r\n        var scr = body.goal.expert.substring(body.goal.expert.lastIndexOf(\"Elért pontszám: \") + 15, body.goal.expert.lastIndexOf(\"Elért pontszám: \") + 25);\r\n        if (scr.includes('.')) {\r\n            score = parseInt(scr.substring(0, scr.indexOf('.')))\r\n        }\r\n        else {\r\n            score = parseInt(scr)\r\n        }\r\n        body.score = score\r\n        body.region = this.region;\r\n        body.sex = this.sex;\r\n        body.age = this.age;\r\n        body.education = this.education\r\n\r\n        //console.log(\"getBodyWithUsers\", body);\r\n        return body;\r\n    }\r\n\r\n}"]}